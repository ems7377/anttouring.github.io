webpackJsonp([36],{"24VH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spaceAppsDataFetchAction=function(){return function(e,t){var n=t().userData;if(0!==n.enterprises.length)return(0,r.default)({method:"post",url:"/api-tenant/app/searchListByEnterpriseId?enterpriseId="+n.enterprises[n.currentEnterprise].id,contentType:"application/json",withCredentials:!0}).then(function(e){return e.data}).then(function(t){t.isSuccess&&e(i(t.apps))}).catch(function(e){return e})}},t.updateSpaceAppData=i,t.textSearchColumnChange=function(e){return{type:o.Text_Search_Column_Change,data:e}},t.selectSearchColumnChange=function(e){return{type:o.Select_Search_Column_Change,data:e}};var a,s=n("mtWM"),r=(a=s)&&a.__esModule?a:{default:a},o=n("4ItF");function i(e){var t={runningNum:0,stoppedNum:0,crashedNum:0,deployedAppSummaries:e};return e.forEach(function(e){switch(e.status.code){case"001":t.runningNum++;break;case"002":t.stoppedNum++;break;case"003":t.crashedNum++}}),{type:o.Space_Apps_Table_Data_Fetch,data:t}}},"78JQ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=C(n("yF52")),s=C(n("0b0c")),r=C(n("vgHw")),o=C(n("uuhB")),i=C(n("G3dI")),p=C(n("IidI")),c=C(n("NJOH")),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n("tNTX"),n("kxBb"),n("ZJow"),n("TZP0"),n("/Hhv"),n("1uA9"),n("mKHw");var d=n("U7vG"),f=C(d),m=(n("Zfgq"),n("4n+p")),g=C(n("zrLU")),h=n("Pq8k"),A=n("24VH"),_=n("KFGM");function C(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.Component),u(t,[{key:"componentDidMount",value:function(){this.props.fetchData()}},{key:"componentWillReceiveProps",value:function(e){this.props.userData!==e.userData&&this.props.fetchData()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.runningNum,l=t.stoppedNum,u=t.crashedNum,d={"000":f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Booting"}),"001":f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Running"}),"002":f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Stopped"}),"003":f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Crashed"})},m=[{title:f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_State"}),dataIndex:"status",key:"status",render:function(e){return d[e]}},{title:f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_ApplicationName"}),dataIndex:"name",key:"name"},{title:f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_CPU"}),dataIndex:"cpuUsed",key:"cpuUsed"},{title:f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Memory"}),dataIndex:"memoryUsed",key:"memoryUsed"},{title:f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Storage"}),dataIndex:"diskUsed",key:"diskUsed"}],A=Object.entries(d).map(function(e,t){return f.default.createElement(c.default.Option,{key:t,value:e[0]},e[1])});return f.default.createElement("div",null,f.default.createElement(s.default,{align:"middle"},f.default.createElement(i.default,{span:2,className:g.default.colTextCenter},f.default.createElement(p.default,{size:"large",icon:"retweet",onClick:function(){e.props.fetchData()},style:{margin:"30px 0px"}})),f.default.createElement(i.default,{span:5,className:g.default.colTextCenter},f.default.createElement(c.default,{mode:"multiple",placeholder:f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_AllState"}),style:{width:"80%",margin:"30px 0px"},onChange:this.props.handleSelectChange},A)),f.default.createElement(i.default,{span:11,className:g.default.colTextCenter},f.default.createElement(o.default,{placeholder:this.props.intl.formatMessage({id:"scenes_SpaceAppsManagement_SearchPlaceHolder"}),style:{width:"80%",margin:"30px 0px"},onChange:this.props.handleSearchChange})),f.default.createElement(i.default,{span:2,className:g.default.colTextCenter},f.default.createElement("div",{className:g.default.stateSummary},f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Running"})),f.default.createElement("div",{className:g.default.stateSummary,style:{lineHeight:"70px",fontSize:"1.5em"}},f.default.createElement(r.default,{type:"check-circle",style:{color:"green"}}),n)),f.default.createElement(i.default,{span:2,className:g.default.colTextCenter},f.default.createElement("div",{className:g.default.stateSummary},f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Stopped"})),f.default.createElement("div",{className:g.default.stateSummary,style:{lineHeight:"70px",fontSize:"1.5em"}},f.default.createElement(r.default,{type:"exclamation-circle",style:{color:"grey"}}),l)),f.default.createElement(i.default,{span:2,className:g.default.colTextCenter},f.default.createElement("div",{className:g.default.stateSummary},f.default.createElement(h.FormattedMessage,{id:"scenes_SpaceAppsManagement_Crashed"})),f.default.createElement("div",{className:g.default.stateSummary,style:{lineHeight:"70px",fontSize:"1.5em"}},f.default.createElement(r.default,{type:"close-circle",style:{color:"red"}}),u))),f.default.createElement(a.default,{columns:m,dataSource:this.props.deployedAppSummaries,pagination:!1,rowKey:"id",onRow:function(t){return{onClick:function(){e.props.redirectToDetail(t)}}}}))}}]),t}();t.default=(0,m.connect)(function(e){return{userData:e.userData,runningNum:e.spaceAppsManagement.runningNum,stoppedNum:e.spaceAppsManagement.stoppedNum,crashedNum:e.spaceAppsManagement.crashedNum,deployedAppSummaries:e.spaceAppsManagement.deployedAppSummaries.map(function(e){return l({},e,{status:e.status.code})}).filter(function(t){return new RegExp(e.spaceAppsManagement.filterColumn.name,"ig").test(t.name)&&(0===e.spaceAppsManagement.filterColumn.state.length||e.spaceAppsManagement.filterColumn.state.includes(t.state))})}},function(e,t){return{dispatch:e,fetchData:function(){e((0,A.spaceAppsDataFetchAction)())},handleSelectChange:function(t){e((0,A.selectSearchColumnChange)(t))},handleSearchChange:function(t){e((0,A.textSearchColumnChange)(t.target.value))},redirectToDetail:function(n){e((0,_.redirectToAppConfigPage)(n.id)),t.history.push("/console/app-config-condition")}}})((0,h.injectIntl)(y))},FZd7:function(e,t,n){(t=e.exports=n("FZ+f")(!0)).push([e.i,".src-scenes-SpaceAppsManagement-style_stateSummary--3Ol-gZlt{font-size:16px}.src-scenes-SpaceAppsManagement-style_colTextCenter--358o2xhK{text-align:center}","",{version:3,sources:["D:/siacloud2/sia-cloud-foundation-v2/frontend/src/scenes/SpaceAppsManagement/D:/siacloud2/sia-cloud-foundation-v2/frontend/src/scenes/SpaceAppsManagement/style.less","D:/siacloud2/sia-cloud-foundation-v2/frontend/src/scenes/SpaceAppsManagement/style.less"],names:[],mappings:"AAAA,6DACE,cAAA,CCCD,ADCD,8DACE,iBAAA,CCCD",file:"style.less",sourcesContent:[".stateSummary{\n  font-size:16px;\n}\n.colTextCenter{\n  text-align: center;\n}\n",".stateSummary {\n  font-size: 16px;\n}\n.colTextCenter {\n  text-align: center;\n}\n"],sourceRoot:""}]),t.locals={stateSummary:"src-scenes-SpaceAppsManagement-style_stateSummary--3Ol-gZlt",colTextCenter:"src-scenes-SpaceAppsManagement-style_colTextCenter--358o2xhK"}},KFGM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n("7h3N"));t.redirectToAppConfigPage=function(e){return{type:s.Redirect_To_App_Config_Page,data:e}},t.updateAppConfigData=i,t.fetchDataAction=function(){return function(e,t){return(0,r.default)({method:"post",url:"/api-tenant/app/searchAppDetailByAppId?appId="+t().appConfigAndConditionPage.guid,contentType:"application/json",withCredentials:!0}).then(function(e){return e.data.appDetail}).then(function(t){e(i(t))}).catch(function(e){return e})}},t.stopAppAction=function(){var e=this;return function(t,n){return(0,r.default)({method:"post",url:"/api-tenant/app/pauseAppByAppId?appId="+n().appConfigAndConditionPage.guid,contentType:"application/json",withCredentials:!0}).then(function(t){t.data?t.data.isSuccess?a.default.success({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_success"}),description:""}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:t.data.errorMsg}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:""}),e.tick()}).catch(function(e){return e})}},t.startAppAction=function(){var e=this;return function(t,n){return(0,r.default)({method:"post",url:"/api-tenant/app/resumeAppByAppId?appId="+n().appConfigAndConditionPage.guid,contentType:"application/json",withCredentials:!0}).then(function(t){t.data?t.data.isSuccess?a.default.success({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_success"}),description:""}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:t.data.errorMsg}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:""}),e.tick()}).catch(function(e){return e})}},t.restartAppAction=function(){var e=this;return function(t,n){return(0,r.default)({method:"post",url:"/api-tenant/app/restartAppByAppId?appId="+n().appConfigAndConditionPage.guid,contentType:"application/json",withCredentials:!0}).then(function(t){t.data?t.data.isSuccess?a.default.success({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_success"}),description:""}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:t.data.errorMsg}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:""}),e.tick()}).catch(function(e){return e})}},t.deleteAppAction=function(){var e=this;return function(t,n){return(0,r.default)({method:"post",url:"/api-tenant/app/deleteAppByAppId?appId="+n().appConfigAndConditionPage.guid,contentType:"application/json",withCredentials:!0}).then(function(t){t.data?t.data.isSuccess?a.default.success({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_success"}),description:""}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:t.data.errorMsg}):a.default.warn({message:e.props.intl.formatMessage({id:"scenes_AppConfigAndConditionPage_operation_fail"}),description:""}),e.tick()}).catch(function(e){return e})}},n("39s2");var s=n("u0ml"),r=o(n("mtWM"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return{type:s.Update_App_Config_Page_Data,data:e}}},zrLU:function(e,t,n){var a=n("FZd7");"string"==typeof a&&(a=[[e.i,a,""]]);n("fjbf")(a,{});a.locals&&(e.exports=a.locals)}});