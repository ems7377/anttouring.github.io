webpackJsonp([74],{"8vzC":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"/*\nA complete list of SVG properties that can be set through CSS is here:\nhttp://www.w3.org/TR/SVG/styling.html\n\nImportant note: Presentation attributes have a lower precedence over CSS style rules.\n*/\n\n\n/* .viewport is a <g> node wrapping all diagram elements in the paper */\n.joint-viewport {\n   -webkit-user-select: none;\n   -moz-user-select: none;\n   user-select: none;\n}\n\n.joint-paper > svg,\n.joint-paper-background,\n.joint-paper-grid {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n/*\n1. IE can't handle paths without the `d` attribute for bounding box calculation\n2. IE can't even handle 'd' attribute as a css selector (e.g path[d]) so the following rule will\n   break the links rendering.\n\npath:not([d]) {\n    display: none;\n}\n\n*/\n\n\n/* magnet is an element that can be either source or a target of a link */\n[magnet=true]:not(.joint-element) {\n   cursor: crosshair;\n}\n[magnet=true]:not(.joint-element):hover {\n   opacity: .7;\n}\n\n/*\n\nElements have CSS classes named by their types. E.g. type: basic.Rect has a CSS class \"element basic Rect\".\nThis makes it possible to easilly style elements in CSS and have generic CSS rules applying to\nthe whole group of elements. Each plugin can provide its own stylesheet.\n\n*/\n\n.joint-element {\n   /* Give the user a hint that he can drag&drop the element. */\n   cursor: move;\n}\n\n.joint-element * {\n   /* The default behavior when scaling an element is not to scale the stroke in order to prevent the ugly effect of stroke with different proportions. */\n   vector-effect: non-scaling-stroke;\n   user-drag: none;\n}\n\n\n/*\n\nconnection-wrap is a <path> element of the joint.dia.Link that follows the .connection <path> of that link.\nIn other words, the `d` attribute of the .connection-wrap contains the same data as the `d` attribute of the\n.connection <path>. The advantage of using .connection-wrap is to be able to catch pointer events\nin the neighborhood of the .connection <path>. This is especially handy if the .connection <path> is\nvery thin.\n\n*/\n\n.marker-source,\n.marker-target {\n   /* This makes the arrowheads point to the border of objects even though the transform: scale() is applied on them. */\n   vector-effect: non-scaling-stroke;\n}\n\n/* Paper */\n.joint-paper {\n    position: relative;\n}\n/* Paper */\n\n/*  Highlighting  */\n.joint-highlight-opacity {\n    opacity: 0.3;\n}\n/*  Highlighting  */\n\n/*\n\nVertex markers are `<circle>` elements that appear at connection vertex positions.\n\n*/\n\n.joint-link .connection-wrap,\n.joint-link .connection {\n   fill: none;\n}\n\n/* <g> element wrapping .marker-vertex-group. */\n.marker-vertices {\n   opacity: 0;\n   cursor: move;\n}\n.marker-arrowheads {\n   opacity: 0;\n   cursor: move;\n   cursor: -webkit-grab;\n   cursor: -moz-grab;\n/*   display: none;   */   /* setting `display: none` on .marker-arrowheads effectivelly switches of links reconnecting */\n}\n.link-tools {\n   opacity: 0;\n   cursor: pointer;\n}\n.link-tools .tool-options {\n   display: none;       /* by default, we don't display link options tool */\n}\n.joint-link:hover .marker-vertices,\n.joint-link:hover .marker-arrowheads,\n.joint-link:hover .link-tools {\n   opacity: 1;\n}\n\n/* <circle> element used to remove a vertex */\n.marker-vertex-remove {\n   cursor: pointer;\n   opacity: .1;\n}\n\n.marker-vertex-group:hover .marker-vertex-remove {\n   opacity: 1;\n}\n\n.marker-vertex-remove-area {\n   opacity: .1;\n   cursor: pointer;\n}\n.marker-vertex-group:hover .marker-vertex-remove-area {\n   opacity: 1;\n}\n\n/*\nExample of custom changes (in pure CSS only!):\n\nDo not show marker vertices at all:  .marker-vertices { display: none; }\nDo not allow adding new vertices: .connection-wrap { pointer-events: none; }\n*/\n\n/* foreignObject inside the elements (i.e joint.shapes.basic.TextBlock) */\n.joint-element .fobj {\n    overflow: hidden;\n}\n.joint-element .fobj body {\n    background-color: transparent;\n    margin: 0px;\n    position: static;\n}\n.joint-element .fobj div {\n    text-align: center;\n    vertical-align: middle;\n    display: table-cell;\n    padding: 0px 5px 0px 5px;\n}\n",""])},"YTa+":function(t,e,n){(function(t,i){var r;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -d -o ./index.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */(function(){var o,a,s,l="3.10.1",c=1,u=2,g=4,h=8,d=16,f=32,p=64,I=128,m=256,A=30,C="...",v=150,y=16,b=200,w=1,x=2,N="Expected a function",M="__lodash_placeholder__",j="[object Arguments]",k="[object Array]",D="[object Boolean]",z="[object Date]",T="[object Error]",Z="[object Function]",G="[object Number]",S="[object Object]",L="[object RegExp]",B="[object String]",O="[object ArrayBuffer]",P="[object Float32Array]",Y="[object Float64Array]",W="[object Int8Array]",E="[object Int16Array]",R="[object Int32Array]",X="[object Uint8Array]",_="[object Uint8ClampedArray]",U="[object Uint16Array]",F="[object Uint32Array]",V=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39|#96);/g,K=/[&<>"'`]/g,q=RegExp(Q.source),$=RegExp(K.source),tt=/<%-([\s\S]+?)%>/g,et=/<%([\s\S]+?)%>/g,nt=/<%=([\s\S]+?)%>/g,it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,rt=/^\w*$/,ot=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,at=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,st=RegExp(at.source),lt=/[\u0300-\u036f\ufe20-\ufe23]/g,ct=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,ht=/^0[xX]/,dt=/^\[object .+?Constructor\]$/,ft=/^\d+$/,pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,It=/($^)/,mt=/['\n\r\u2028\u2029\\]/g,At=(a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(a+"+(?="+a+s+")|"+a+"?"+s+"|"+a+"+|[0-9]+","g")),Ct=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],vt=-1,yt={};yt[P]=yt[Y]=yt[W]=yt[E]=yt[R]=yt[X]=yt[_]=yt[U]=yt[F]=!0,yt[j]=yt[k]=yt[O]=yt[D]=yt[z]=yt[T]=yt[Z]=yt["[object Map]"]=yt[G]=yt[S]=yt[L]=yt["[object Set]"]=yt[B]=yt["[object WeakMap]"]=!1;var bt={};bt[j]=bt[k]=bt[O]=bt[D]=bt[z]=bt[P]=bt[Y]=bt[W]=bt[E]=bt[R]=bt[G]=bt[S]=bt[L]=bt[B]=bt[X]=bt[_]=bt[U]=bt[F]=!0,bt[T]=bt[Z]=bt["[object Map]"]=bt["[object Set]"]=bt["[object WeakMap]"]=!1;var wt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Nt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Mt={function:!0,object:!0},jt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dt=Mt[typeof e]&&e&&!e.nodeType&&e,zt=Mt[typeof t]&&t&&!t.nodeType&&t,Tt=Dt&&zt&&"object"==typeof i&&i&&i.Object&&i,Zt=Mt[typeof self]&&self&&self.Object&&self,Gt=Mt[typeof window]&&window&&window.Object&&window,St=(zt&&zt.exports,Tt||Gt!==(this&&this.window)&&Gt||Zt||this);function Lt(t,e){if(t!==e){var n=null===t,i=t===o,r=t==t,a=null===e,s=e===o,l=e==e;if(t>e&&!a||!r||n&&!s&&l||i&&l)return 1;if(t<e&&!n||!l||a&&!i&&r||s&&r)return-1}return 0}function Bt(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function Ot(t,e,n){if(e!=e)return Vt(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function Pt(t){return"function"==typeof t||!1}function Yt(t){return null==t?"":t+""}function Wt(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function Et(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function Rt(t,e){return Lt(t.criteria,e.criteria)||t.index-e.index}function Xt(t){return wt[t]}function _t(t){return xt[t]}function Ut(t,e,n){return e?t=jt[t]:n&&(t=kt[t]),"\\"+t}function Ft(t){return"\\"+kt[t]}function Vt(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!=o)return r}return-1}function Ht(t){return!!t&&"object"==typeof t}function Jt(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Qt(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=M,o[++r]=n);return o}function Kt(t){for(var e=-1,n=t.length;++e<n&&Jt(t.charCodeAt(e)););return e}function qt(t){for(var e=t.length;e--&&Jt(t.charCodeAt(e)););return e}function $t(t){return Nt[t]}var te=function t(e){var n=(e=e?te.defaults(St.Object(),e,te.pick(St,Ct)):St).Array,i=e.Date,r=e.Error,a=e.Function,s=e.Math,wt=e.Number,xt=e.Object,Nt=e.RegExp,Mt=e.String,jt=e.TypeError,kt=n.prototype,Dt=xt.prototype,zt=Mt.prototype,Tt=a.prototype.toString,Zt=Dt.hasOwnProperty,Gt=0,Jt=Dt.toString,ee=St._,ne=Nt("^"+Tt.call(Zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=e.ArrayBuffer,re=e.clearTimeout,oe=e.parseFloat,ae=s.pow,se=Dt.propertyIsEnumerable,le=Ai(e,"Set"),ce=e.setTimeout,ue=kt.splice,ge=e.Uint8Array,he=Ai(e,"WeakMap"),de=s.ceil,fe=Ai(xt,"create"),pe=s.floor,Ie=Ai(n,"isArray"),me=e.isFinite,Ae=Ai(xt,"keys"),Ce=s.max,ve=s.min,ye=Ai(i,"now"),be=e.parseInt,we=s.random,xe=wt.NEGATIVE_INFINITY,Ne=wt.POSITIVE_INFINITY,Me=4294967295,je=Me-1,ke=Me>>>1,De=9007199254740991,ze=he&&new he,Te={};function Ze(t){if(Ht(t)&&!Fr(t)&&!(t instanceof Le)){if(t instanceof Se)return t;if(Zt.call(t,"__chain__")&&Zt.call(t,"__wrapped__"))return Bi(t)}return new Se(t)}function Ge(){}function Se(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}Ze.support={};function Le(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ne,this.__views__=[]}function Be(){this.__data__={}}function Oe(t){var e=t?t.length:0;for(this.data={hash:fe(null),set:new le};e--;)this.push(t[e])}function Pe(t,e){var n=t.data;return("string"==typeof e||Qr(e)?n.set.has(e):n.hash[e])?0:-1}function Ye(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function We(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ee(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Re(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[++r]=a)}return o}function Xe(t,e){for(var i=-1,r=t.length,o=n(r);++i<r;)o[i]=e(t[i],i,t);return o}function _e(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Ue(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Fe(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Ve(t,e,n,i){return t!==o&&Zt.call(i,n)?t:e}function He(t,e,n){for(var i=-1,r=Ao(e),a=r.length;++i<a;){var s=r[i],l=t[s],c=n(l,e[s],s,t,e);(c==c?c===l:l!=l)&&(l!==o||s in t)||(t[s]=c)}return t}function Je(t,e){return null==e?t:Ke(e,Ao(e),t)}function Qe(t,e){for(var i=-1,r=null==t,a=!r&&vi(t),s=a?t.length:0,l=e.length,c=n(l);++i<l;){var u=e[i];c[i]=a?yi(u,s)?t[u]:o:r?o:t[u]}return c}function Ke(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function qe(t,e,n){var i=typeof t;return"function"==i?e===o?t:Bn(t,e,n):null==t?Po:"object"==i?vn(t):e===o?_o(t):yn(t,e)}function $e(t,e,n,i,r,a,s){var l;if(n&&(l=r?n(t,i,r):n(t)),l!==o)return l;if(!Qr(t))return t;var c=Fr(t);if(c){if(l=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Zt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!e)return Ye(t,l)}else{var u=Jt.call(t),g=u==Z;if(u!=S&&u!=j&&(!g||r))return bt[u]?function(t,e,n){var i=t.constructor;switch(e){case O:return On(t);case D:case z:return new i(+t);case P:case Y:case W:case E:case R:case X:case _:case U:case F:var r=t.buffer;return new i(n?On(r):r,t.byteOffset,t.length);case G:case B:return new i(t);case L:var o=new i(t.source,gt.exec(t));o.lastIndex=t.lastIndex}return o}(t,u,e):r?t:{};if(l=function(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=xt),new e}(g?{}:t),!e)return Je(l,t)}a||(a=[]),s||(s=[]);for(var h=a.length;h--;)if(a[h]==t)return s[h];return a.push(t),s.push(l),(c?We:dn)(t,function(i,r){l[r]=$e(i,e,n,r,t,a,s)}),l}Ze.templateSettings={escape:tt,evaluate:et,interpolate:nt,variable:"",imports:{_:Ze}};var tn=function(){function t(){}return function(e){if(Qr(e)){t.prototype=e;var n=new t;t.prototype=o}return n||{}}}();function en(t,e,n){if("function"!=typeof t)throw new jt(N);return ce(function(){t.apply(o,n)},e)}function nn(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,o=pi(),a=o==Ot,s=a&&e.length>=b?_n(e):null,l=e.length;s&&(o=Pe,a=!1,e=s);t:for(;++r<n;){var c=t[r];if(a&&c==c){for(var u=l;u--;)if(e[u]===c)continue t;i.push(c)}else o(e,c,0)<0&&i.push(c)}return i}var rn=Rn(dn),on=Rn(fn,!0);function an(t,e){var n=!0;return rn(t,function(t,i,r){return n=!!e(t,i,r)}),n}function sn(t,e){var n=[];return rn(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function ln(t,e,n,i){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=i?n:t,!1}),r}function cn(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var a=t[r];Ht(a)&&vi(a)&&(n||Fr(a)||Ur(a))?e?cn(a,e,n,i):_e(i,a):n||(i[i.length]=a)}return i}var un=Xn(),gn=Xn(!0);function hn(t,e){return un(t,e,Co)}function dn(t,e){return un(t,e,Ao)}function fn(t,e){return gn(t,e,Ao)}function pn(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];Jr(t[a])&&(o[++r]=a)}return o}function In(t,e,n){if(null!=t){n!==o&&n in Si(t)&&(e=[n]);for(var i=0,r=e.length;null!=t&&i<r;)t=t[e[i++]];return i&&i==r?t:o}}function mn(t,e,n,i,r,a){return t===e||(null==t||null==e||!Qr(t)&&!Ht(e)?t!=t&&e!=e:function(t,e,n,i,r,a,s){var l=Fr(t),c=Fr(e),u=k,g=k;l||((u=Jt.call(t))==j?u=S:u!=S&&(l=no(t))),c||((g=Jt.call(e))==j?g=S:g!=S&&(c=no(e)));var h=u==S,d=g==S,f=u==g;if(f&&!l&&!h)return function(t,e,n){switch(n){case D:case z:return+t==+e;case T:return t.name==e.name&&t.message==e.message;case G:return t!=+t?e!=+e:t==+e;case L:case B:return t==e+""}return!1}(t,e,u);if(!r){var p=h&&Zt.call(t,"__wrapped__"),I=d&&Zt.call(e,"__wrapped__");if(p||I)return n(p?t.value():t,I?e.value():e,i,r,a,s)}if(!f)return!1;a||(a=[]),s||(s=[]);for(var m=a.length;m--;)if(a[m]==t)return s[m]==e;a.push(t),s.push(e);var A=(l?function(t,e,n,i,r,a,s){var l=-1,c=t.length,u=e.length;if(c!=u&&!(r&&u>c))return!1;for(;++l<c;){var g=t[l],h=e[l],d=i?i(r?h:g,r?g:h,l):o;if(d!==o){if(d)continue;return!1}if(r){if(!Fe(e,function(t){return g===t||n(g,t,i,r,a,s)}))return!1}else if(g!==h&&!n(g,h,i,r,a,s))return!1}return!0}:function(t,e,n,i,r,a,s){var l=Ao(t),c=l.length,u=Ao(e).length;if(c!=u&&!r)return!1;for(var g=c;g--;){var h=l[g];if(!(r?h in e:Zt.call(e,h)))return!1}for(var d=r;++g<c;){h=l[g];var f=t[h],p=e[h],I=i?i(r?p:f,r?f:p,h):o;if(!(I===o?n(f,p,i,r,a,s):I))return!1;d||(d="constructor"==h)}if(!d){var m=t.constructor,A=e.constructor;if(m!=A&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof A&&A instanceof A))return!1}return!0})(t,e,n,i,r,a,s);return a.pop(),s.pop(),A}(t,e,mn,n,i,r,a))}function An(t,e,n){var i=e.length,r=i,a=!n;if(null==t)return!r;for(t=Si(t);i--;){var s=e[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){var l=(s=e[i])[0],c=t[l],u=s[1];if(a&&s[2]){if(c===o&&!(l in t))return!1}else{var g=n?n(c,u,l):o;if(!(g===o?mn(u,c,n,!0):g))return!1}}return!0}function Cn(t,e){var i=-1,r=vi(t)?n(t.length):[];return rn(t,function(t,n,o){r[++i]=e(t,n,o)}),r}function vn(t){var e=mi(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&t[n]===i&&(i!==o||n in Si(t))}}return function(t){return An(t,e)}}function yn(t,e){var n=Fr(t),i=wi(t)&&Mi(e),r=t+"";return t=Li(t),function(a){if(null==a)return!1;var s=r;if(a=Si(a),(n||!i)&&!(s in a)){if(null==(a=1==t.length?a:In(a,Mn(t,0,-1))))return!1;s=Ui(t),a=Si(a)}return a[s]===e?e!==o||s in a:mn(e,a[s],o,!0)}}function bn(t){return function(e){return null==e?o:e[t]}}function wn(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&yi(i)){var r=i;ue.call(t,i,1)}}return t}function xn(t,e){return t+pe(we()*(e-t+1))}var Nn=ze?function(t,e){return ze.set(t,e),t}:Po;function Mn(t,e,i){var r=-1,a=t.length;(e=null==e?0:+e||0)<0&&(e=-e>a?0:a+e),(i=i===o||i>a?a:+i||0)<0&&(i+=a),a=e>i?0:i-e>>>0,e>>>=0;for(var s=n(a);++r<a;)s[r]=t[r+e];return s}function jn(t,e){var n;return rn(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function kn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Dn(t,e,n){var i=hi(),r=-1;return e=Xe(e,function(t){return i(t)}),kn(Cn(t,function(t){return{criteria:Xe(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Lt(r[i],o[i]);if(l){if(i>=s)return l;var c=n[i];return l*("asc"===c||!0===c?1:-1)}}return t.index-e.index}(t,e,n)})}function zn(t,e){var n=-1,i=pi(),r=t.length,o=i==Ot,a=o&&r>=b,s=a?_n():null,l=[];s?(i=Pe,o=!1):(a=!1,s=e?[]:l);t:for(;++n<r;){var c=t[n],u=e?e(c,n,t):c;if(o&&c==c){for(var g=s.length;g--;)if(s[g]===u)continue t;e&&s.push(u),l.push(c)}else i(s,u,0)<0&&((e||a)&&s.push(u),l.push(c))}return l}function Tn(t,e){for(var i=-1,r=e.length,o=n(r);++i<r;)o[i]=t[e[i]];return o}function Zn(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Mn(t,i?0:o,i?o+1:r):Mn(t,i?o+1:0,i?r:o)}function Gn(t,e){var n=t;n instanceof Le&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,_e([n],o.args))}return n}function Sn(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e==e&&r<=ke){for(;i<r;){var o=i+r>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?i=o+1:r=o}return r}return Ln(t,e,Po,n)}function Ln(t,e,n,i){e=n(e);for(var r=0,a=t?t.length:0,s=e!=e,l=null===e,c=e===o;r<a;){var u=pe((r+a)/2),g=n(t[u]),h=g!==o,d=g==g;if(s)var f=d||i;else f=l?d&&h&&(i||null!=g):c?d&&(i||h):null!=g&&(i?g<=e:g<e);f?r=u+1:a=u}return ve(a,je)}function Bn(t,e,n){if("function"!=typeof t)return Po;if(e===o)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,a){return t.call(e,n,i,r,o,a)}}return function(){return t.apply(e,arguments)}}function On(t){var e=new ie(t.byteLength);return new ge(e).set(new ge(t)),e}function Pn(t,e,i){for(var r=i.length,o=-1,a=Ce(t.length-r,0),s=-1,l=e.length,c=n(l+a);++s<l;)c[s]=e[s];for(;++o<r;)c[i[o]]=t[o];for(;a--;)c[s++]=t[o++];return c}function Yn(t,e,i){for(var r=-1,o=i.length,a=-1,s=Ce(t.length-o,0),l=-1,c=e.length,u=n(s+c);++a<s;)u[a]=t[a];for(var g=a;++l<c;)u[g+l]=e[l];for(;++r<o;)u[g+i[r]]=t[a++];return u}function Wn(t,e){return function(n,i,r){var o=e?e():{};if(i=hi(i,r,3),Fr(n))for(var a=-1,s=n.length;++a<s;){var l=n[a];t(o,l,i(l,a,n),n)}else rn(n,function(e,n,r){t(o,e,i(e,n,r),r)});return o}}function En(t){return Xr(function(e,n){var i=-1,r=null==e?0:n.length,a=r>2?n[r-2]:o,s=r>2?n[2]:o,l=r>1?n[r-1]:o;for("function"==typeof a?(a=Bn(a,l,5),r-=2):r-=(a="function"==typeof l?l:o)?1:0,s&&bi(n[0],n[1],s)&&(a=r<3?o:a,r=1);++i<r;){var c=n[i];c&&t(e,c,a)}return e})}function Rn(t,e){return function(n,i){var r=n?Ii(n):0;if(!Ni(r))return t(n,i);for(var o=e?r:-1,a=Si(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Xn(t){return function(e,n,i){for(var r=Si(e),o=i(e),a=o.length,s=t?a:-1;t?s--:++s<a;){var l=o[s];if(!1===n(r[l],l,r))break}return e}}function _n(t){return fe&&le?new Oe(t):null}function Un(t){return function(e){for(var n=-1,i=Lo(jo(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function Fn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=tn(t.prototype),i=t.apply(n,e);return Qr(i)?i:n}}function Vn(t){return function e(n,i,r){r&&bi(n,i,r)&&(i=o);var a=gi(n,t,o,o,o,o,o,i);return a.placeholder=e.placeholder,a}}function Hn(t,e){return Xr(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(o,n))})}function Jn(t,e){return function(n,i,r){if(r&&bi(n,i,r)&&(i=o),1==(i=hi(i,r,3)).length){var a=function(t,e,n,i){for(var r=-1,o=t.length,a=i,s=a;++r<o;){var l=t[r],c=+e(l);n(c,a)&&(a=c,s=l)}return s}(n=Fr(n)?n:Gi(n),i,t,e);if(!n.length||a!==e)return a}return function(t,e,n,i){var r=i,o=r;return rn(t,function(t,a,s){var l=+e(t,a,s);(n(l,r)||l===i&&l===o)&&(r=l,o=t)}),o}(n,i,t,e)}}function Qn(t,e){return function(n,i,r){if(i=hi(i,r,3),Fr(n)){var a=Bt(n,i,e);return a>-1?n[a]:o}return ln(n,i,t)}}function Kn(t){return function(e,n,i){return e&&e.length?Bt(e,n=hi(n,i,3),t):-1}}function qn(t){return function(e,n,i){return ln(e,n=hi(n,i,3),t,!0)}}function $n(t){return function(){for(var e,i=arguments.length,r=t?i:-1,a=0,s=n(i);t?r--:++r<i;){var l=s[a++]=arguments[r];if("function"!=typeof l)throw new jt(N);!e&&Se.prototype.thru&&"wrapper"==fi(l)&&(e=new Se([],!0))}for(r=e?-1:i;++r<i;){var c=fi(l=s[r]),u="wrapper"==c?di(l):o;e=u&&xi(u[0])&&u[1]==(I|h|f|m)&&!u[4].length&&1==u[9]?e[fi(u[0])].apply(e,u[3]):1==l.length&&xi(l)?e[c]():e.thru(l)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Fr(n)&&n.length>=b)return e.plant(n).value();for(var r=0,o=i?s[r].apply(this,t):n;++r<i;)o=s[r].call(this,o);return o}}}function ti(t,e){return function(n,i,r){return"function"==typeof i&&r===o&&Fr(n)?t(n,i):e(n,Bn(i,r,3))}}function ei(t){return function(e,n,i){return"function"==typeof n&&i===o||(n=Bn(n,i,3)),t(e,n,Co)}}function ni(t){return function(e,n,i){return"function"==typeof n&&i===o||(n=Bn(n,i,3)),t(e,n)}}function ii(t){return function(e,n,i){var r={};return n=hi(n,i,3),dn(e,function(e,i,o){var a=n(e,i,o);i=t?a:i,e=t?e:a,r[i]=e}),r}}function ri(t){return function(e,n,i){return e=Yt(e),(t?e:"")+li(e,n,i)+(t?"":e)}}function oi(t){var e=Xr(function(n,i){var r=Qt(i,e.placeholder);return gi(n,t,o,i,r)});return e}function ai(t,e){return function(n,i,r,a){var s=arguments.length<3;return"function"==typeof i&&a===o&&Fr(n)?t(n,i,r,s):function(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}(n,hi(i,a,4),r,s,e)}}function si(t,e,i,r,a,s,l,m,A,C){var v=e&I,y=e&c,b=e&u,w=e&h,x=e&g,N=e&d,M=b?o:Fn(t);return function g(){for(var h=arguments.length,d=h,I=n(h);d--;)I[d]=arguments[d];if(r&&(I=Pn(I,r,a)),s&&(I=Yn(I,s,l)),w||N){var j=g.placeholder,k=Qt(I,j);if((h-=k.length)<C){var D=m?Ye(m):o,z=Ce(C-h,0);e|=w?f:p,e&=~(w?p:f),x||(e&=~(c|u));var T=[t,e,i,w?I:o,w?k:o,w?o:I,w?o:k,D,A,z],Z=si.apply(o,T);return xi(t)&&Ti(Z,T),Z.placeholder=j,Z}}var G=y?i:this,S=b?G[t]:t;return m&&(I=function(t,e){for(var n=t.length,i=ve(e.length,n),r=Ye(t);i--;){var a=e[i];t[i]=yi(a,n)?r[a]:o}return t}(I,m)),v&&A<I.length&&(I.length=A),this&&this!==St&&this instanceof g&&(S=M||Fn(t)),S.apply(G,I)}}function li(t,e,n){var i=t.length;if(i>=(e=+e)||!me(e))return"";var r=e-i;return To(n=null==n?" ":n+"",de(r/n.length)).slice(0,r)}function ci(t){var e=s[t];return function(t,n){return(n=n===o?0:+n||0)?(n=ae(10,n),e(t*n)/n):e(t)}}function ui(t){return function(e,n,i,r){var o=hi(i);return null==i&&o===qe?Sn(e,n,t):Ln(e,n,o(i,r,1),t)}}function gi(t,e,i,r,a,s,l,d){var A=e&u;if(!A&&"function"!=typeof t)throw new jt(N);var C=r?r.length:0;if(C||(e&=~(f|p),r=a=o),C-=a?a.length:0,e&p){var v=r,y=a;r=a=o}var b=A?o:di(t),w=[t,e,i,r,a,v,y,s,l,d];if(b&&(function(t,e){var n=t[1],i=e[1],r=n|i,o=r<I,a=i==I&&n==h||i==I&&n==m&&t[7].length<=e[8]||i==(I|m)&&n==h;if(!o&&!a)return t;i&c&&(t[2]=e[2],r|=n&c?0:g);var s=e[3];if(s){var l=t[3];t[3]=l?Pn(l,s,e[4]):Ye(s),t[4]=l?Qt(t[3],M):Ye(e[4])}(s=e[5])&&(l=t[5],t[5]=l?Yn(l,s,e[6]):Ye(s),t[6]=l?Qt(t[5],M):Ye(e[6])),(s=e[7])&&(t[7]=Ye(s)),i&I&&(t[8]=null==t[8]?e[8]:ve(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(w,b),e=w[1],d=w[9]),w[9]=null==d?A?0:t.length:Ce(d-C,0)||0,e==c)var x=function(t,e){var n=Fn(t);return function i(){return(this&&this!==St&&this instanceof i?n:t).apply(e,arguments)}}(w[0],w[2]);else x=e!=f&&e!=(c|f)||w[4].length?si.apply(o,w):function(t,e,i,r){var o=e&c,a=Fn(t);return function e(){for(var s=-1,l=arguments.length,c=-1,u=r.length,g=n(u+l);++c<u;)g[c]=r[c];for(;l--;)g[c++]=arguments[++s];return(this&&this!==St&&this instanceof e?a:t).apply(o?i:this,g)}}.apply(o,w);return(b?Nn:Ti)(x,w)}function hi(t,e,n){var i=Ze.callback||Oo;return i=i===Oo?qe:i,n?i(t,e,n):i}var di=ze?function(t){return ze.get(t)}:Xo;function fi(t){for(var e=t.name,n=Te[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function pi(t,e,n){var i=Ze.indexOf||Xi;return i=i===Xi?Ot:i,t?i(t,e,n):i}var Ii=bn("length");function mi(t){for(var e=wo(t),n=e.length;n--;)e[n][2]=Mi(e[n][1]);return e}function Ai(t,e){var n=null==t?o:t[e];return Kr(n)?n:o}function Ci(t,e,n){null==t||wi(e,t)||(t=1==(e=Li(e)).length?t:In(t,Mn(e,0,-1)),e=Ui(e));var i=null==t?t:t[e];return null==i?o:i.apply(t,n)}function vi(t){return null!=t&&Ni(Ii(t))}function yi(t,e){return t="number"==typeof t||ft.test(t)?+t:-1,e=null==e?De:e,t>-1&&t%1==0&&t<e}function bi(t,e,n){if(!Qr(n))return!1;var i=typeof e;if("number"==i?vi(n)&&yi(e,n.length):"string"==i&&e in n){var r=n[e];return t==t?t===r:r!=r}return!1}function wi(t,e){var n=typeof t;return!!("string"==n&&rt.test(t)||"number"==n)||!Fr(t)&&(!it.test(t)||null!=e&&t in Si(e))}function xi(t){var e=fi(t);if(!(e in Le.prototype))return!1;var n=Ze[e];if(t===n)return!0;var i=di(n);return!!i&&t===i[0]}function Ni(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=De}function Mi(t){return t==t&&!Qr(t)}function ji(t,e){t=Si(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function ki(t,e){var n={};return hn(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}var Di,zi,Ti=(Di=0,zi=0,function(t,e){var n=Mr(),i=y-(n-zi);if(zi=n,i>0){if(++Di>=v)return t}else Di=0;return Nn(t,e)});function Zi(t){for(var e=Co(t),n=e.length,i=n&&t.length,r=!!i&&Ni(i)&&(Fr(t)||Ur(t)),o=-1,a=[];++o<n;){var s=e[o];(r&&yi(s,i)||Zt.call(t,s))&&a.push(s)}return a}function Gi(t){return null==t?[]:vi(t)?Qr(t)?t:xt(t):No(t)}function Si(t){return Qr(t)?t:xt(t)}function Li(t){if(Fr(t))return t;var e=[];return Yt(t).replace(ot,function(t,n,i,r){e.push(i?r.replace(ct,"$1"):n||t)}),e}function Bi(t){return t instanceof Le?t.clone():new Se(t.__wrapped__,t.__chain__,Ye(t.__actions__))}var Oi=Xr(function(t,e){return Ht(t)&&vi(t)?nn(t,cn(e,!1,!0)):[]});function Pi(t,e,n){return t&&t.length?((n?bi(t,e,n):null==e)&&(e=1),Mn(t,e<0?0:e)):[]}function Yi(t,e,n){var i=t?t.length:0;return i?((n?bi(t,e,n):null==e)&&(e=1),Mn(t,0,(e=i-(+e||0))<0?0:e)):[]}var Wi=Kn(),Ei=Kn(!0);function Ri(t){return t?t[0]:o}function Xi(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?Ce(i+n,0):n;else if(n){var r=Sn(t,e);return r<i&&(e==e?e===t[r]:t[r]!=t[r])?r:-1}return Ot(t,e,n||0)}var _i=Xr(function(t){for(var e=t.length,i=e,r=n(g),o=pi(),a=o==Ot,s=[];i--;){var l=t[i]=vi(l=t[i])?l:[];r[i]=a&&l.length>=120?_n(i&&l):null}var c=t[0],u=-1,g=c?c.length:0,h=r[0];t:for(;++u<g;)if(l=c[u],(h?Pe(h,l):o(s,l,0))<0){for(i=e;--i;){var d=r[i];if((d?Pe(d,l):o(t[i],l,0))<0)continue t}h&&h.push(l),s.push(l)}return s});function Ui(t){var e=t?t.length:0;return e?t[e-1]:o}var Fi=Xr(function(t,e){var n=Qe(t,e=cn(e));return wn(t,e.sort(Lt)),n});function Vi(t){return Pi(t,1)}var Hi=ui(),Ji=ui(!0);var Qi=Xr(function(t){return zn(cn(t,!1,!0))});function Ki(t,e,n,i){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(n=bi(t,e,i=n)?o:e,e=!1);var r=hi();return null==n&&r===qe||(n=r(n,i,3)),e&&pi()==Ot?function(t,e){for(var n,i=-1,r=t.length,o=-1,a=[];++i<r;){var s=t[i],l=e?e(s,i,t):s;i&&n===l||(n=l,a[++o]=s)}return a}(t,n):zn(t,n)}function qi(t){if(!t||!t.length)return[];var e=-1,i=0;t=Re(t,function(t){if(vi(t))return i=Ce(t.length,i),!0});for(var r=n(i);++e<i;)r[e]=Xe(t,bn(e));return r}function $i(t,e,n){if(!t||!t.length)return[];var i=qi(t);return null==e?i:(e=Bn(e,n,4),Xe(i,function(t){return Ue(t,e,o,!0)}))}var tr=Xr(function(t,e){return vi(t)?nn(t,e):[]});var er=Xr(qi);function nr(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Fr(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}var ir=Xr(function(t){var e=t.length,n=e>2?t[e-2]:o,i=e>1?t[e-1]:o;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):o,i=o),t.length=e,$i(t,n,i)});function rr(t){var e=Ze(t);return e.__chain__=!0,e}function or(t,e,n){return e.call(n,t)}var ar=Xr(function(t){return t=cn(t),this.thru(function(e){return function(t,e){for(var i=-1,r=t.length,o=-1,a=e.length,s=n(r+a);++i<r;)s[i]=t[i];for(;++o<a;)s[i++]=e[o];return s}(Fr(e)?e:[Si(e)],t)})});var sr=Xr(function(t,e){return Qe(t,cn(e))}),lr=Wn(function(t,e,n){Zt.call(t,n)?++t[n]:t[n]=1});function cr(t,e,n){var i=Fr(t)?Ee:an;return n&&bi(t,e,n)&&(e=o),"function"==typeof e&&n===o||(e=hi(e,n,3)),i(t,e)}function ur(t,e,n){return(Fr(t)?Re:sn)(t,e=hi(e,n,3))}var gr=Qn(rn),hr=Qn(on,!0);var dr=ti(We,rn),fr=ti(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},on),pr=Wn(function(t,e,n){Zt.call(t,n)?t[n].push(e):t[n]=[e]});function Ir(t,e,n,i){var r=t?Ii(t):0;return Ni(r)||(r=(t=No(t)).length),n="number"!=typeof n||i&&bi(e,n,i)?0:n<0?Ce(r+n,0):n||0,"string"==typeof t||!Fr(t)&&eo(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&pi(t,e,n)>-1}var mr=Wn(function(t,e,n){t[n]=e}),Ar=Xr(function(t,e,i){var r=-1,a="function"==typeof e,s=wi(e),l=vi(t)?n(t.length):[];return rn(t,function(t){var n=a?e:s&&null!=t?t[e]:o;l[++r]=n?n.apply(t,i):Ci(t,e,i)}),l});function Cr(t,e,n){return(Fr(t)?Xe:Cn)(t,e=hi(e,n,3))}var vr=Wn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var yr=ai(Ue,rn),br=ai(function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n},on);function wr(t,e,n){if(n?bi(t,e,n):null==e)return(i=(t=Gi(t)).length)>0?t[xn(0,i-1)]:o;var i,r=-1,a=ro(t),s=(i=a.length)-1;for(e=ve(e<0?0:+e||0,i);++r<e;){var l=xn(r,s),c=a[l];a[l]=a[r],a[r]=c}return a.length=e,a}function xr(t,e,n){var i=Fr(t)?Fe:jn;return n&&bi(t,e,n)&&(e=o),"function"==typeof e&&n===o||(e=hi(e,n,3)),i(t,e)}var Nr=Xr(function(t,e){if(null==t)return[];var n=e[2];return n&&bi(e[0],e[1],n)&&(e.length=1),Dn(t,cn(e),[])});var Mr=ye||function(){return(new i).getTime()};function jr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new jt(N);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var kr=Xr(function(t,e,n){var i=c;if(n.length){var r=Qt(n,kr.placeholder);i|=f}return gi(t,i,e,n,r)}),Dr=Xr(function(t,e){for(var n=-1,i=(e=e.length?cn(e):mo(t)).length;++n<i;){var r=e[n];t[r]=gi(t[r],c,t)}return t}),zr=Xr(function(t,e,n){var i=c|u;if(n.length){var r=Qt(n,zr.placeholder);i|=f}return gi(e,i,t,n,r)}),Tr=Vn(h),Zr=Vn(d);function Gr(t,e,n){var i,r,a,s,l,c,u,g=0,h=!1,d=!0;if("function"!=typeof t)throw new jt(N);if(e=e<0?0:+e||0,!0===n){var f=!0;d=!1}else Qr(n)&&(f=!!n.leading,h="maxWait"in n&&Ce(+n.maxWait||0,e),d="trailing"in n?!!n.trailing:d);function p(e,n){n&&re(n),r=c=u=o,e&&(g=Mr(),a=t.apply(l,i),c||r||(i=l=o))}function I(){var t=e-(Mr()-s);t<=0||t>e?p(u,r):c=ce(I,t)}function m(){p(d,c)}function A(){if(i=arguments,s=Mr(),l=this,u=d&&(c||!f),!1===h)var n=f&&!c;else{r||f||(g=s);var p=h-(s-g),A=p<=0||p>h;A?(r&&(r=re(r)),g=s,a=t.apply(l,i)):r||(r=ce(m,p))}return A&&c?c=re(c):c||e===h||(c=ce(I,e)),n&&(A=!0,a=t.apply(l,i)),!A||c||r||(i=l=o),a}return A.cancel=function(){c&&re(c),r&&re(r),g=0,r=c=u=o},A}var Sr=Xr(function(t,e){return en(t,1,e)}),Lr=Xr(function(t,e,n){return en(t,e,n)}),Br=$n(),Or=$n(!0);function Pr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new jt(N);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new Pr.Cache,n}var Yr=Xr(function(t,e){if(e=cn(e),"function"!=typeof t||!Ee(e,Pt))throw new jt(N);var n=e.length;return Xr(function(i){for(var r=ve(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})});var Wr=oi(f),Er=oi(p),Rr=Xr(function(t,e){return gi(t,m,o,o,o,cn(e))});function Xr(t,e){if("function"!=typeof t)throw new jt(N);return e=Ce(e===o?t.length-1:+e||0,0),function(){for(var i=arguments,r=-1,o=Ce(i.length-e,0),a=n(o);++r<o;)a[r]=i[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,i[0],a);case 2:return t.call(this,i[0],i[1],a)}var s=n(e+1);for(r=-1;++r<e;)s[r]=i[r];return s[e]=a,t.apply(this,s)}}function _r(t,e){return t>e}function Ur(t){return Ht(t)&&vi(t)&&Zt.call(t,"callee")&&!se.call(t,"callee")}var Fr=Ie||function(t){return Ht(t)&&Ni(t.length)&&Jt.call(t)==k};function Vr(t,e,n,i){var r=(n="function"==typeof n?Bn(n,i,3):o)?n(t,e):o;return r===o?mn(t,e,n):!!r}function Hr(t){return Ht(t)&&"string"==typeof t.message&&Jt.call(t)==T}function Jr(t){return Qr(t)&&Jt.call(t)==Z}function Qr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Kr(t){return null!=t&&(Jr(t)?ne.test(Tt.call(t)):Ht(t)&&dt.test(t))}function qr(t){return"number"==typeof t||Ht(t)&&Jt.call(t)==G}function $r(t){var e,n;return!(!Ht(t)||Jt.call(t)!=S||Ur(t)||!(Zt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(hn(t,function(t,e){n=e}),n===o||Zt.call(t,n))}function to(t){return Qr(t)&&Jt.call(t)==L}function eo(t){return"string"==typeof t||Ht(t)&&Jt.call(t)==B}function no(t){return Ht(t)&&Ni(t.length)&&!!yt[Jt.call(t)]}function io(t,e){return t<e}function ro(t){var e=t?Ii(t):0;return Ni(e)?e?Ye(t):[]:No(t)}function oo(t){return Ke(t,Co(t))}var ao=En(function t(e,n,i,r,a){if(!Qr(e))return e;var s=vi(n)&&(Fr(n)||no(n)),l=s?o:Ao(n);return We(l||n,function(c,u){if(l&&(c=n[u=c]),Ht(c))r||(r=[]),a||(a=[]),function(t,e,n,i,r,a,s){for(var l=a.length,c=e[n];l--;)if(a[l]==c)return void(t[n]=s[l]);var u=t[n],g=r?r(u,c,n,t,e):o,h=g===o;h&&(g=c,vi(c)&&(Fr(c)||no(c))?g=Fr(u)?u:vi(u)?Ye(u):[]:$r(c)||Ur(c)?g=Ur(u)?oo(u):$r(u)?u:{}:h=!1),a.push(c),s.push(g),h?t[n]=i(g,c,r,a,s):(g==g?g!==u:u==u)&&(t[n]=g)}(e,n,u,t,i,r,a);else{var g=e[u],h=i?i(g,c,u,e,n):o,d=h===o;d&&(h=c),h===o&&(!s||u in e)||!d&&(h==h?h===g:g!=g)||(e[u]=h)}}),e}),so=En(function(t,e,n){return n?He(t,e,n):Je(t,e)});var lo=Hn(so,function(t,e){return t===o?e:t}),co=Hn(ao,function t(e,n){return e===o?n:ao(e,n,t)}),uo=qn(dn),go=qn(fn),ho=ei(un),fo=ei(gn),po=ni(dn),Io=ni(fn);function mo(t){return pn(t,Co(t))}var Ao=Ae?function(t){var e=null==t?o:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&vi(t)?Zi(t):Qr(t)?Ae(t):[]}:Zi;function Co(t){if(null==t)return[];Qr(t)||(t=xt(t));var e=t.length;e=e&&Ni(e)&&(Fr(t)||Ur(t))&&e||0;for(var i=t.constructor,r=-1,o="function"==typeof i&&i.prototype===t,a=n(e),s=e>0;++r<e;)a[r]=r+"";for(var l in t)s&&yi(l,e)||"constructor"==l&&(o||!Zt.call(t,l))||a.push(l);return a}var vo=ii(!0),yo=ii(),bo=Xr(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Xe(cn(e),Mt),ji(t,nn(Co(t),e));var n=Bn(e[0],e[1],3);return ki(t,function(t,e,i){return!n(t,e,i)})});function wo(t){t=Si(t);for(var e=-1,i=Ao(t),r=i.length,o=n(r);++e<r;){var a=i[e];o[e]=[a,t[a]]}return o}var xo=Xr(function(t,e){return null==t?{}:"function"==typeof e[0]?ki(t,Bn(e[0],e[1],3)):ji(t,cn(e))});function No(t){return Tn(t,Ao(t))}var Mo=Un(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)});function jo(t){return(t=Yt(t))&&t.replace(pt,Xt).replace(lt,"")}var ko=Un(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});var Do=ri(),zo=ri(!0);function To(t,e){var n="";if(t=Yt(t),(e=+e)<1||!t||!me(e))return n;do{e%2&&(n+=t),e=pe(e/2),t+=t}while(e);return n}var Zo=Un(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Go=Un(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))});function So(t,e,n){var i=t;return(t=Yt(t))?(n?bi(i,e,n):null==e)?t.slice(Kt(t),qt(t)+1):(e+="",t.slice(Wt(t,e),Et(t,e)+1)):t}function Lo(t,e,n){return n&&bi(t,e,n)&&(e=o),(t=Yt(t)).match(e||At)||[]}var Bo=Xr(function(t,e){try{return t.apply(o,e)}catch(t){return Hr(t)?t:new r(t)}});function Oo(t,e,n){return n&&bi(t,e,n)&&(e=o),Ht(t)?Yo(t):qe(t,e)}function Po(t){return t}function Yo(t){return vn($e(t,!0))}var Wo=Xr(function(t,e){return function(n){return Ci(n,t,e)}}),Eo=Xr(function(t,e){return function(n){return Ci(t,n,e)}});function Ro(t,e,n){if(null==n){var i=Qr(e),r=i?Ao(e):o,a=r&&r.length?pn(e,r):o;(a?a.length:i)||(a=!1,n=e,e=t,t=this)}a||(a=pn(e,Ao(e)));var s=!0,l=-1,c=Jr(t),u=a.length;!1===n?s=!1:Qr(n)&&"chain"in n&&(s=n.chain);for(;++l<u;){var g=a[l],h=e[g];t[g]=h,c&&(t.prototype[g]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__);return(i.__actions__=Ye(this.__actions__)).push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,_e([this.value()],arguments))}}(h))}return t}function Xo(){}function _o(t){return wi(t)?bn(t):function(t){var e=t+"";return t=Li(t),function(n){return In(n,t,e)}}(t)}var Uo,Fo=ci("ceil"),Vo=ci("floor"),Ho=Jn(_r,xe),Jo=Jn(io,Ne),Qo=ci("round");return Ze.prototype=Ge.prototype,Se.prototype=tn(Ge.prototype),Se.prototype.constructor=Se,Le.prototype=tn(Ge.prototype),Le.prototype.constructor=Le,Be.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Be.prototype.get=function(t){return"__proto__"==t?o:this.__data__[t]},Be.prototype.has=function(t){return"__proto__"!=t&&Zt.call(this.__data__,t)},Be.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Oe.prototype.push=function(t){var e=this.data;"string"==typeof t||Qr(t)?e.set.add(t):e.hash[t]=!0},Pr.Cache=Be,Ze.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new jt(N);var n=t;t=e,e=n}return t=me(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},Ze.ary=function(t,e,n){return n&&bi(t,e,n)&&(e=o),e=t&&null==e?t.length:Ce(+e||0,0),gi(t,I,o,o,o,o,e)},Ze.assign=so,Ze.at=sr,Ze.before=jr,Ze.bind=kr,Ze.bindAll=Dr,Ze.bindKey=zr,Ze.callback=Oo,Ze.chain=rr,Ze.chunk=function(t,e,i){e=(i?bi(t,e,i):null==e)?1:Ce(pe(e)||1,1);for(var r=0,o=t?t.length:0,a=-1,s=n(de(o/e));r<o;)s[++a]=Mn(t,r,r+=e);return s},Ze.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r},Ze.constant=function(t){return function(){return t}},Ze.countBy=lr,Ze.create=function(t,e,n){var i=tn(t);return n&&bi(t,e,n)&&(e=o),e?Je(i,e):i},Ze.curry=Tr,Ze.curryRight=Zr,Ze.debounce=Gr,Ze.defaults=lo,Ze.defaultsDeep=co,Ze.defer=Sr,Ze.delay=Lr,Ze.difference=Oi,Ze.drop=Pi,Ze.dropRight=Yi,Ze.dropRightWhile=function(t,e,n){return t&&t.length?Zn(t,hi(e,n,3),!0,!0):[]},Ze.dropWhile=function(t,e,n){return t&&t.length?Zn(t,hi(e,n,3),!0):[]},Ze.fill=function(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&bi(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:+i||0)<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)t[n++]=e;return t}(t,e,n,i)):[]},Ze.filter=ur,Ze.flatten=function(t,e,n){var i=t?t.length:0;return n&&bi(t,e,n)&&(e=!1),i?cn(t,e):[]},Ze.flattenDeep=function(t){return t&&t.length?cn(t,!0):[]},Ze.flow=Br,Ze.flowRight=Or,Ze.forEach=dr,Ze.forEachRight=fr,Ze.forIn=ho,Ze.forInRight=fo,Ze.forOwn=po,Ze.forOwnRight=Io,Ze.functions=mo,Ze.groupBy=pr,Ze.indexBy=mr,Ze.initial=function(t){return Yi(t,1)},Ze.intersection=_i,Ze.invert=function(t,e,n){n&&bi(t,e,n)&&(e=o);for(var i=-1,r=Ao(t),a=r.length,s={};++i<a;){var l=r[i],c=t[l];e?Zt.call(s,c)?s[c].push(l):s[c]=[l]:s[c]=l}return s},Ze.invoke=Ar,Ze.keys=Ao,Ze.keysIn=Co,Ze.map=Cr,Ze.mapKeys=vo,Ze.mapValues=yo,Ze.matches=Yo,Ze.matchesProperty=function(t,e){return yn(t,$e(e,!0))},Ze.memoize=Pr,Ze.merge=ao,Ze.method=Wo,Ze.methodOf=Eo,Ze.mixin=Ro,Ze.modArgs=Yr,Ze.negate=function(t){if("function"!=typeof t)throw new jt(N);return function(){return!t.apply(this,arguments)}},Ze.omit=bo,Ze.once=function(t){return jr(2,t)},Ze.pairs=wo,Ze.partial=Wr,Ze.partialRight=Er,Ze.partition=vr,Ze.pick=xo,Ze.pluck=function(t,e){return Cr(t,_o(e))},Ze.property=_o,Ze.propertyOf=function(t){return function(e){return In(t,Li(e),e+"")}},Ze.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=pi(),r=t.length;++n<r;)for(var o=0,a=t[n];(o=i(e,a,o))>-1;)ue.call(e,o,1);return e},Ze.pullAt=Fi,Ze.range=function(t,e,i){i&&bi(t,e,i)&&(e=i=o),t=+t||0,i=null==i?1:+i||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,a=Ce(de((e-t)/(i||1)),0),s=n(a);++r<a;)s[r]=t,t+=i;return s},Ze.rearg=Rr,Ze.reject=function(t,e,n){var i=Fr(t)?Re:sn;return e=hi(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})},Ze.remove=function(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],a=t.length;for(e=hi(e,n,3);++r<a;){var s=t[r];e(s,r,t)&&(i.push(s),o.push(r))}return wn(t,o),i},Ze.rest=Vi,Ze.restParam=Xr,Ze.set=function(t,e,n){if(null==t)return t;for(var i=e+"",r=-1,o=(e=null!=t[i]||wi(e,t)?[i]:Li(e)).length,a=o-1,s=t;null!=s&&++r<o;){var l=e[r];Qr(s)&&(r==a?s[l]=n:null==s[l]&&(s[l]=yi(e[r+1])?[]:{})),s=s[l]}return t},Ze.shuffle=function(t){return wr(t,Ne)},Ze.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&bi(t,e,n)&&(e=0,n=i),Mn(t,e,n)):[]},Ze.sortBy=function(t,e,n){if(null==t)return[];n&&bi(t,e,n)&&(e=o);var i=-1;return e=hi(e,n,3),kn(Cn(t,function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}}),Rt)},Ze.sortByAll=Nr,Ze.sortByOrder=function(t,e,n,i){return null==t?[]:(i&&bi(e,n,i)&&(n=o),Fr(e)||(e=null==e?[]:[e]),Fr(n)||(n=null==n?[]:[n]),Dn(t,e,n))},Ze.spread=function(t){if("function"!=typeof t)throw new jt(N);return function(e){return t.apply(this,e)}},Ze.take=function(t,e,n){return t&&t.length?((n?bi(t,e,n):null==e)&&(e=1),Mn(t,0,e<0?0:e)):[]},Ze.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?bi(t,e,n):null==e)&&(e=1),Mn(t,(e=i-(+e||0))<0?0:e)):[]},Ze.takeRightWhile=function(t,e,n){return t&&t.length?Zn(t,hi(e,n,3),!1,!0):[]},Ze.takeWhile=function(t,e,n){return t&&t.length?Zn(t,hi(e,n,3)):[]},Ze.tap=function(t,e,n){return e.call(n,t),t},Ze.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new jt(N);return!1===n?i=!1:Qr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Gr(t,e,{leading:i,maxWait:+e,trailing:r})},Ze.thru=or,Ze.times=function(t,e,i){if((t=pe(t))<1||!me(t))return[];var r=-1,o=n(ve(t,Me));for(e=Bn(e,i,1);++r<t;)r<Me?o[r]=e(r):e(r);return o},Ze.toArray=ro,Ze.toPlainObject=oo,Ze.transform=function(t,e,n,i){var r=Fr(t)||no(t);if(e=hi(e,i,4),null==n)if(r||Qr(t)){var a=t.constructor;n=r?Fr(t)?new a:[]:tn(Jr(a)?a.prototype:o)}else n={};return(r?We:dn)(t,function(t,i,r){return e(n,t,i,r)}),n},Ze.union=Qi,Ze.uniq=Ki,Ze.unzip=qi,Ze.unzipWith=$i,Ze.values=No,Ze.valuesIn=function(t){return Tn(t,Co(t))},Ze.where=function(t,e){return ur(t,vn(e))},Ze.without=tr,Ze.wrap=function(t,e){return gi(e=null==e?Po:e,f,o,[t],[])},Ze.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(vi(n))var i=i?_e(nn(i,n),nn(n,i)):n}return i?zn(i):[]},Ze.zip=er,Ze.zipObject=nr,Ze.zipWith=ir,Ze.backflow=Or,Ze.collect=Cr,Ze.compose=Or,Ze.each=dr,Ze.eachRight=fr,Ze.extend=so,Ze.iteratee=Oo,Ze.methods=mo,Ze.object=nr,Ze.select=ur,Ze.tail=Vi,Ze.unique=Ki,Ro(Ze,Ze),Ze.add=function(t,e){return(+t||0)+(+e||0)},Ze.attempt=Bo,Ze.camelCase=Mo,Ze.capitalize=function(t){return(t=Yt(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Ze.ceil=Fo,Ze.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&bi(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?$e(t,e,Bn(n,i,1)):$e(t,e)},Ze.cloneDeep=function(t,e,n){return"function"==typeof e?$e(t,!0,Bn(e,n,1)):$e(t,!0)},Ze.deburr=jo,Ze.endsWith=function(t,e,n){e+="";var i=(t=Yt(t)).length;return n=n===o?i:ve(n<0?0:+n||0,i),(n-=e.length)>=0&&t.indexOf(e,n)==n},Ze.escape=function(t){return(t=Yt(t))&&$.test(t)?t.replace(K,_t):t},Ze.escapeRegExp=function(t){return(t=Yt(t))&&st.test(t)?t.replace(at,Ut):t||"(?:)"},Ze.every=cr,Ze.find=gr,Ze.findIndex=Wi,Ze.findKey=uo,Ze.findLast=hr,Ze.findLastIndex=Ei,Ze.findLastKey=go,Ze.findWhere=function(t,e){return gr(t,vn(e))},Ze.first=Ri,Ze.floor=Vo,Ze.get=function(t,e,n){var i=null==t?o:In(t,Li(e),e+"");return i===o?n:i},Ze.gt=_r,Ze.gte=function(t,e){return t>=e},Ze.has=function(t,e){if(null==t)return!1;var n=Zt.call(t,e);if(!n&&!wi(e)){if(null==(t=1==(e=Li(e)).length?t:In(t,Mn(e,0,-1))))return!1;e=Ui(e),n=Zt.call(t,e)}return n||Ni(t.length)&&yi(e,t.length)&&(Fr(t)||Ur(t))},Ze.identity=Po,Ze.includes=Ir,Ze.indexOf=Xi,Ze.inRange=function(t,e,n){return e=+e||0,n===o?(n=e,e=0):n=+n||0,t>=ve(e,n)&&t<Ce(e,n)},Ze.isArguments=Ur,Ze.isArray=Fr,Ze.isBoolean=function(t){return!0===t||!1===t||Ht(t)&&Jt.call(t)==D},Ze.isDate=function(t){return Ht(t)&&Jt.call(t)==z},Ze.isElement=function(t){return!!t&&1===t.nodeType&&Ht(t)&&!$r(t)},Ze.isEmpty=function(t){return null==t||(vi(t)&&(Fr(t)||eo(t)||Ur(t)||Ht(t)&&Jr(t.splice))?!t.length:!Ao(t).length)},Ze.isEqual=Vr,Ze.isError=Hr,Ze.isFinite=function(t){return"number"==typeof t&&me(t)},Ze.isFunction=Jr,Ze.isMatch=function(t,e,n,i){return n="function"==typeof n?Bn(n,i,3):o,An(t,mi(e),n)},Ze.isNaN=function(t){return qr(t)&&t!=+t},Ze.isNative=Kr,Ze.isNull=function(t){return null===t},Ze.isNumber=qr,Ze.isObject=Qr,Ze.isPlainObject=$r,Ze.isRegExp=to,Ze.isString=eo,Ze.isTypedArray=no,Ze.isUndefined=function(t){return t===o},Ze.kebabCase=ko,Ze.last=Ui,Ze.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?Ce(i+n,0):ve(n||0,i-1))+1;else if(n){var o=t[r=Sn(t,e,!0)-1];return(e==e?e===o:o!=o)?r:-1}if(e!=e)return Vt(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},Ze.lt=io,Ze.lte=function(t,e){return t<=e},Ze.max=Ho,Ze.min=Jo,Ze.noConflict=function(){return St._=ee,this},Ze.noop=Xo,Ze.now=Mr,Ze.pad=function(t,e,n){e=+e;var i=(t=Yt(t)).length;if(i>=e||!me(e))return t;var r=(e-i)/2,o=pe(r);return(n=li("",de(r),n)).slice(0,o)+t+n},Ze.padLeft=Do,Ze.padRight=zo,Ze.parseInt=function(t,e,n){return(n?bi(t,e,n):null==e)?e=0:e&&(e=+e),t=So(t),be(t,e||(ht.test(t)?16:10))},Ze.random=function(t,e,n){n&&bi(t,e,n)&&(e=n=o);var i=null==t,r=null==e;if(null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1){var a=we();return ve(t+a*(e-t+oe("1e-"+((a+"").length-1))),e)}return xn(t,e)},Ze.reduce=yr,Ze.reduceRight=br,Ze.repeat=To,Ze.result=function(t,e,n){var i=null==t?o:t[e];return i===o&&(null==t||wi(e,t)||(i=null==(t=1==(e=Li(e)).length?t:In(t,Mn(e,0,-1)))?o:t[Ui(e)]),i=i===o?n:i),Jr(i)?i.call(t):i},Ze.round=Qo,Ze.runInContext=t,Ze.size=function(t){var e=t?Ii(t):0;return Ni(e)?e:Ao(t).length},Ze.snakeCase=Zo,Ze.some=xr,Ze.sortedIndex=Hi,Ze.sortedLastIndex=Ji,Ze.startCase=Go,Ze.startsWith=function(t,e,n){return t=Yt(t),n=null==n?0:ve(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Ze.sum=function(t,e,n){return n&&bi(t,e,n)&&(e=o),1==(e=hi(e,n,3)).length?function(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}(Fr(t)?t:Gi(t),e):function(t,e){var n=0;return rn(t,function(t,i,r){n+=+e(t,i,r)||0}),n}(t,e)},Ze.template=function(t,e,n){var i=Ze.templateSettings;n&&bi(t,e,n)&&(e=n=o),t=Yt(t);var r,s,l=He(Je({},(e=He(Je({},n||e),i,Ve)).imports),i.imports,Ve),c=Ao(l),u=Tn(l,c),g=0,h=e.interpolate||It,d="__p += '",f=Nt((e.escape||It).source+"|"+h.source+"|"+(h===nt?ut:It).source+"|"+(e.evaluate||It).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++vt+"]")+"\n";t.replace(f,function(e,n,i,o,a,l){return i||(i=o),d+=t.slice(g,l).replace(mt,Ft),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),g=l+e.length,e}),d+="';\n";var I=e.variable;I||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(V,""):d).replace(H,"$1").replace(J,"$1;"),d="function("+(I||"obj")+") {\n"+(I?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Bo(function(){return a(c,p+"return "+d).apply(o,u)});if(m.source=d,Hr(m))throw m;return m},Ze.trim=So,Ze.trimLeft=function(t,e,n){var i=t;return(t=Yt(t))?(n?bi(i,e,n):null==e)?t.slice(Kt(t)):t.slice(Wt(t,e+"")):t},Ze.trimRight=function(t,e,n){var i=t;return(t=Yt(t))?(n?bi(i,e,n):null==e)?t.slice(0,qt(t)+1):t.slice(0,Et(t,e+"")+1):t},Ze.trunc=function(t,e,n){n&&bi(t,e,n)&&(e=o);var i=A,r=C;if(null!=e)if(Qr(e)){var a="separator"in e?e.separator:a;i="length"in e?+e.length||0:i,r="omission"in e?Yt(e.omission):r}else i=+e||0;if(i>=(t=Yt(t)).length)return t;var s=i-r.length;if(s<1)return r;var l=t.slice(0,s);if(null==a)return l+r;if(to(a)){if(t.slice(s).search(a)){var c,u,g=t.slice(0,s);for(a.global||(a=Nt(a.source,(gt.exec(a)||"")+"g")),a.lastIndex=0;c=a.exec(g);)u=c.index;l=l.slice(0,null==u?s:u)}}else if(t.indexOf(a,s)!=s){var h=l.lastIndexOf(a);h>-1&&(l=l.slice(0,h))}return l+r},Ze.unescape=function(t){return(t=Yt(t))&&q.test(t)?t.replace(Q,$t):t},Ze.uniqueId=function(t){var e=++Gt;return Yt(t)+e},Ze.words=Lo,Ze.all=cr,Ze.any=xr,Ze.contains=Ir,Ze.eq=Vr,Ze.detect=gr,Ze.foldl=yr,Ze.foldr=br,Ze.head=Ri,Ze.include=Ir,Ze.inject=yr,Ro(Ze,(Uo={},dn(Ze,function(t,e){Ze.prototype[e]||(Uo[e]=t)}),Uo),!1),Ze.sample=wr,Ze.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return wr(e,t)}):wr(this.value())},Ze.VERSION=l,We(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Ze[t].placeholder=Ze}),We(["drop","take"],function(t,e){Le.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Le(this);n=null==n?1:Ce(pe(n)||0,0);var r=this.clone();return i?r.__takeCount__=ve(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},Le.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),We(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=x;Le.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:hi(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),We(["first","last"],function(t,e){var n="take"+(e?"Right":"");Le.prototype[t]=function(){return this[n](1).value()[0]}}),We(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Le.prototype[t]=function(){return this.__filtered__?new Le(this):this[n](1)}}),We(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?vn:_o;Le.prototype[t]=function(t){return this[n](i(t))}}),Le.prototype.compact=function(){return this.filter(Po)},Le.prototype.reject=function(t,e){return t=hi(t,e,1),this.filter(function(e){return!t(e)})},Le.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new Le(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},Le.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Le.prototype.toArray=function(){return this.take(Ne)},dn(Le.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e),r=Ze[i?"take"+("last"==e?"Right":""):e];r&&(Ze.prototype[e]=function(){var e=i?[1]:arguments,a=this.__chain__,s=this.__wrapped__,l=!!this.__actions__.length,c=s instanceof Le,u=e[0],g=c||Fr(s);g&&n&&"function"==typeof u&&1!=u.length&&(c=g=!1);var h=function(t){return i&&a?r(t,1)[0]:r.apply(o,_e([t],e))},d={func:or,args:[h],thisArg:o},f=c&&!l;if(i&&!a)return f?((s=s.clone()).__actions__.push(d),t.call(s)):r.call(o,this.value())[0];if(!i&&g){s=f?s:new Le(this);var p=t.apply(s,e);return p.__actions__.push(d),new Se(p,a)}return this.thru(h)})}),We(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?zt:kt)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);Ze.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),dn(Le.prototype,function(t,e){var n=Ze[e];if(n){var i=n.name;(Te[i]||(Te[i]=[])).push({name:e,func:n})}}),Te[si(o,u).name]=[{name:"wrapper",func:o}],Le.prototype.clone=function(){var t=new Le(this.__wrapped__);return t.__actions__=Ye(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ye(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ye(this.__views__),t},Le.prototype.reverse=function(){if(this.__filtered__){var t=new Le(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Le.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Fr(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=ve(e,t+a);break;case"takeRight":t=Ce(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,g=u.length,h=0,d=ve(l,this.__takeCount__);if(!n||r<b||r==l&&d==l)return Gn(i&&n?t.reverse():t,this.__actions__);var f=[];t:for(;l--&&h<d;){for(var p=-1,I=t[c+=e];++p<g;){var m=u[p],A=m.iteratee,C=m.type,v=A(I);if(C==x)I=v;else if(!v){if(C==w)continue t;break t}}f[h++]=I}return f},Ze.prototype.chain=function(){return rr(this)},Ze.prototype.commit=function(){return new Se(this.value(),this.__chain__)},Ze.prototype.concat=ar,Ze.prototype.plant=function(t){for(var e,n=this;n instanceof Ge;){var i=Bi(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Ze.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof Le){var n=t;return this.__actions__.length&&(n=new Le(this)),(n=n.reverse()).__actions__.push({func:or,args:[e],thisArg:o}),new Se(n,this.__chain__)}return this.thru(e)},Ze.prototype.toString=function(){return this.value()+""},Ze.prototype.run=Ze.prototype.toJSON=Ze.prototype.valueOf=Ze.prototype.value=function(){return Gn(this.__wrapped__,this.__actions__)},Ze.prototype.collect=Ze.prototype.map,Ze.prototype.head=Ze.prototype.first,Ze.prototype.select=Ze.prototype.filter,Ze.prototype.tail=Ze.prototype.rest,Ze}();St._=te,(r=function(){return te}.call(e,n,e,t))===o||(t.exports=r)}).call(this)}).call(e,n("3IRH")(t),n("DuR2"))},cOGZ:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"/* Paper */\n.joint-paper.joint-theme-default {\n    background-color: #FFFFFF;\n}\n/* Paper */\n\n/*  Links  */\n.joint-link.joint-theme-default .connection-wrap {\n    stroke: #000000;\n    stroke-width: 15;\n    stroke-linecap: round;\n    stroke-linejoin: round;\n    opacity: 0;\n    cursor: move;\n}\n.joint-link.joint-theme-default .connection-wrap:hover {\n    opacity: .4;\n    stroke-opacity: .4;\n}\n.joint-link.joint-theme-default .connection {\n    stroke-linejoin: round;\n}\n.joint-link.joint-theme-default .link-tools .tool-remove circle {\n    fill: #FF0000;\n}\n.joint-link.joint-theme-default .link-tools .tool-remove path {\n    fill: #FFFFFF;\n}\n\n/* <circle> element inside .marker-vertex-group <g> element */\n.joint-link.joint-theme-default .marker-vertex {\n    fill: #1ABC9C;\n}\n.joint-link.joint-theme-default .marker-vertex:hover {\n    fill: #34495E;\n    stroke: none;\n}\n\n.joint-link.joint-theme-default .marker-arrowhead {\n    fill: #1ABC9C;\n}\n.joint-link.joint-theme-default .marker-arrowhead:hover {\n    fill: #F39C12;\n    stroke: none;\n}\n\n/* <circle> element used to remove a vertex */\n.joint-link.joint-theme-default .marker-vertex-remove {\n    fill: #FFFFFF;\n}\n/*  Links  */\n",""])},u0oX:function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
!function(e,n){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,l=o.slice,c=o.concat,u=o.push,g=o.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,I=p.call(Object),m={};function A(t,e){var n=(e=e||a).createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}var C=function(t,e){return new C.fn.init(t,e)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,b=/-([a-z])/g,w=function(t,e){return e.toUpperCase()};function x(t){var e=!!t&&"length"in t&&t.length,n=C.type(t);return"function"!==n&&!C.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:"3.1.1",constructor:C,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||C.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(c&&i&&(C.isPlainObject(i)||(r=C.isArray(i)))?(r?(r=!1,o=n&&C.isArray(n)?n:[]):o=n&&C.isPlainObject(n)?n:{},a[e]=C.extend(c,o,i)):i!==undefined&&(a[e]=i));return a},C.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===C.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=s(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&p.call(n)===I)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t},globalEval:function(t){A(t)},camelCase:function(t){return t.replace(y,"ms-").replace(b,w)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(x(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(v,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(x(Object(t))?C.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:g.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(x(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return c.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),C.isFunction(t)?(i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||C.guid++,r):undefined},now:Date.now,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var N=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){var e,n,i,r,o,a,s,l,c,u,g,h,d,f,p,I,m,A,C,v="sizzle"+1*new Date,y=t.document,b=0,w=0,x=at(),N=at(),M=at(),j=function(t,e){return t===e&&(g=!0),0},k={}.hasOwnProperty,D=[],z=D.pop,T=D.push,Z=D.push,G=D.slice,S=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",P="\\["+B+"*("+O+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+B+"*\\]",Y=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",W=new RegExp(B+"+","g"),E=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),R=new RegExp("^"+B+"*,"+B+"*"),X=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),_=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),U=new RegExp(Y),F=new RegExp("^"+O+"$"),V={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Y),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},H=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,q=/[+~]/,$=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){h()},rt=At(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(D=G.call(y.childNodes),y.childNodes),D[y.childNodes.length].nodeType}catch(t){Z={apply:D.length?function(t,e){T.apply(t,G.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,c,u,g,f,m,A=e&&e.ownerDocument,b=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==b&&9!==b&&11!==b)return i;if(!r&&((e?e.ownerDocument||e:y)!==d&&h(e),e=e||d,p)){if(11!==b&&(g=K.exec(t)))if(o=g[1]){if(9===b){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(A&&(c=A.getElementById(o))&&C(e,c)&&c.id===o)return i.push(c),i}else{if(g[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((o=g[3])&&n.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!M[t+" "]&&(!I||!I.test(t))){if(1!==b)A=e,m=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,nt):e.setAttribute("id",u=v),s=(f=a(t)).length;s--;)f[s]="#"+u+" "+mt(f[s]);m=f.join(","),A=q.test(t)&&pt(e.parentNode)||e}if(m)try{return Z.apply(i,A.querySelectorAll(m)),i}catch(t){}finally{u===v&&e.removeAttribute("id")}}}return l(t.replace(E,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[v]=!0,t}function lt(t){var e=d.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function gt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function dt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function pt(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:y;return a!==d&&9===a.nodeType&&a.documentElement?(f=(d=a).documentElement,p=!o(d),y!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(d.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=lt(function(t){return f.appendChild(t).id=v,!d.getElementsByName||!d.getElementsByName(v).length}),n.getById?(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&p){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace($,tt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&p){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&p)return e.getElementsByClassName(t)},m=[],I=[],(n.qsa=Q.test(d.querySelectorAll))&&(lt(function(t){f.appendChild(t).innerHTML="<a id='"+v+"'></a><select id='"+v+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+B+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+v+"-]").length||I.push("~="),t.querySelectorAll(":checked").length||I.push(":checked"),t.querySelectorAll("a#"+v+"+*").length||I.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=d.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(n.matchesSelector=Q.test(A=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=A.call(t,"*"),A.call(t,"[s!='']:x"),m.push("!=",Y)}),I=I.length&&new RegExp(I.join("|")),m=m.length&&new RegExp(m.join("|")),e=Q.test(f.compareDocumentPosition),C=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=e?function(t,e){if(t===e)return g=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===d||t.ownerDocument===y&&C(y,t)?-1:e===d||e.ownerDocument===y&&C(y,e)?1:u?S(u,t)-S(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return g=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===d?-1:e===d?1:r?-1:o?1:u?S(u,t)-S(u,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ut(a[i],s[i]):a[i]===y?-1:s[i]===y?1:0},d):d},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==d&&h(t),e=e.replace(_,"='$1']"),n.matchesSelector&&p&&!M[e+" "]&&(!m||!m.test(e))&&(!I||!I.test(e)))try{var i=A.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,d,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==d&&h(t),C(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==d&&h(t);var r=i.attrHandle[e.toLowerCase()],o=r&&k.call(i.attrHandle,e.toLowerCase())?r(t,e,!p):undefined;return o!==undefined?o:n.attributes||!p?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(g=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(j),g){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:st,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace($,tt),t[3]=(t[3]||t[4]||t[5]||"").replace($,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace($,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&x(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(W," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,g,h,d,f,p=o!==a?"nextSibling":"previousSibling",I=e.parentNode,m=s&&e.nodeName.toLowerCase(),A=!l&&!s,C=!1;if(I){if(o){for(;p;){for(h=e;h=h[p];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?I.firstChild:I.lastChild],a&&A){for(C=(d=(c=(u=(g=(h=I)[v]||(h[v]={}))[h.uniqueID]||(g[h.uniqueID]={}))[t]||[])[0]===b&&c[1])&&c[2],h=d&&I.childNodes[d];h=++d&&h&&h[p]||(C=d=0)||f.pop();)if(1===h.nodeType&&++C&&h===e){u[t]=[b,d,C];break}}else if(A&&(C=d=(c=(u=(g=(h=e)[v]||(h[v]={}))[h.uniqueID]||(g[h.uniqueID]={}))[t]||[])[0]===b&&c[1]),!1===C)for(;(h=++d&&h&&h[p]||(C=d=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++C||(A&&((u=(g=h[v]||(h[v]={}))[h.uniqueID]||(g[h.uniqueID]={}))[t]=[b,C]),h!==e)););return(C-=r)===i||C%i==0&&C/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[v]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=S(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=s(t.replace(E,"$1"));return i[v]?st(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace($,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return F.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace($,tt).toLowerCase(),function(e){var n;do{if(n=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return H.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,n){return[n<0?n+e:n]}),even:ft(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ft(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ft(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:ft(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=gt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ht(e);function It(){}function mt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function At(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=w++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,u,g,h=[b,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(g=e[v]||(e[v]={}))[e.uniqueID]||(g[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[o])&&c[0]===b&&c[1]===s)return h[2]=c[2];if(u[o]=h,h[2]=t(e,n,l))return!0}return!1}}function Ct(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function vt(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function yt(t,e,n,i,r,o){return i&&!i[v]&&(i=yt(i)),r&&!r[v]&&(r=yt(r,o)),st(function(o,a,s,l){var c,u,g,h=[],d=[],f=a.length,p=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),I=!t||!o&&e?p:vt(p,h,t,s,l),m=n?r||(o?t:f||i)?[]:a:I;if(n&&n(I,m,s,l),i)for(c=vt(m,d),i(c,[],s,l),u=c.length;u--;)(g=c[u])&&(m[d[u]]=!(I[d[u]]=g));if(o){if(r||t){if(r){for(c=[],u=m.length;u--;)(g=m[u])&&c.push(I[u]=g);r(null,m=[],c,l)}for(u=m.length;u--;)(g=m[u])&&(c=r?S(o,g):h[u])>-1&&(o[c]=!(a[c]=g))}}else m=vt(m===a?m.splice(f,m.length):m),r?r(null,a,m,l):Z.apply(a,m)})}function bt(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,u=At(function(t){return t===e},s,!0),g=At(function(t){return S(e,t)>-1},s,!0),h=[function(t,n,i){var r=!a&&(i||n!==c)||((e=n).nodeType?u(t,n,i):g(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])h=[At(Ct(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[v]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return yt(l>1&&Ct(h),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(E,"$1"),n,l<r&&bt(t.slice(l,r)),r<o&&bt(t=t.slice(r)),r<o&&mt(t))}h.push(n)}return Ct(h)}return It.prototype=i.filters=i.pseudos,i.setFilters=new It,a=ot.tokenize=function(t,e){var n,r,o,a,s,l,c,u=N[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(r=R.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=X.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(E," ")}),s=s.slice(n.length)),i.filter)!(r=V[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):N(t,l).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=M[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=bt(e[n]))[v]?r.push(s):o.push(s);(s=M(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,l,u){var g,f,I,m=0,A="0",C=o&&[],v=[],y=c,w=o||r&&i.find.TAG("*",u),x=b+=null==y?1:Math.random()||.1,N=w.length;for(u&&(c=a===d||a||u);A!==N&&null!=(g=w[A]);A++){if(r&&g){for(f=0,a||g.ownerDocument===d||(h(g),s=!p);I=t[f++];)if(I(g,a||d,s)){l.push(g);break}u&&(b=x)}n&&((g=!I&&g)&&m--,o&&C.push(g))}if(m+=A,n&&A!==m){for(f=0;I=e[f++];)I(C,v,a,s);if(o){if(m>0)for(;A--;)C[A]||v[A]||(v[A]=z.call(l));v=vt(v)}Z.apply(l,v),u&&!o&&v.length>0&&m+e.length>1&&ot.uniqueSort(l)}return u&&(b=x,c=y),C};return n?st(o):o}(o,r))).selector=t}return s},l=ot.select=function(t,e,n,r){var o,l,c,u,g,h="function"==typeof t&&t,d=!r&&a(t=h.selector||t);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&p&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace($,tt),e)||[])[0]))return n;h&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=V.needsContext.test(t)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((g=i.find[u])&&(r=g(c.matches[0].replace($,tt),q.test(l[0].type)&&pt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&mt(l)))return Z.apply(n,r),n;break}}return(h||s(t,d))(r,e,!p,n,!e||q.test(t)&&pt(e.parentNode)||e),n},n.sortStable=v.split("").sort(j).join("")===v,n.detectDuplicates=!!g,h(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(d.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(L,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);C.find=N,C.expr=N.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=N.uniqueSort,C.text=N.getText,C.isXMLDoc=N.isXML,C.contains=N.contains,C.escapeSelector=N.escape;var M=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&C(t).is(n))break;i.push(t)}return i},j=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},k=C.expr.match.needsContext,D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,z=/^.[^:#\[\.,]*$/;function T(t,e,n){return C.isFunction(e)?C.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?C.grep(t,function(t){return t===e!==n}):"string"!=typeof e?C.grep(t,function(t){return g.call(e,t)>-1!==n}):z.test(e)?C.filter(e,t,n):(e=C.filter(e,t),C.grep(t,function(t){return g.call(e,t)>-1!==n&&1===t.nodeType}))}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<i;e++)if(C.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)C.find(t,r[e],n);return i>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,"string"==typeof t&&k.test(t)?C(t):t||[],!1).length}});var Z,G=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||Z,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:G.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),D.test(i[1])&&C.isPlainObject(e))for(i in e)C.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):C.isFunction(t)?n.ready!==undefined?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,Z=C(a);var S=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&C(t);if(!k.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?g.call(C(t),this[0]):g.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return M(t,"parentNode")},parentsUntil:function(t,e,n){return M(t,"parentNode",n)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return M(t,"nextSibling")},prevAll:function(t){return M(t,"previousSibling")},nextUntil:function(t,e,n){return M(t,"nextSibling",n)},prevUntil:function(t,e,n){return M(t,"previousSibling",n)},siblings:function(t){return j((t.parentNode||{}).firstChild,t)},children:function(t){return j(t.firstChild)},contents:function(t){return t.contentDocument||C.merge([],t.childNodes)}},function(t,e){C.fn[t]=function(n,i){var r=C.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=C.filter(i,r)),this.length>1&&(L[t]||C.uniqueSort(r),S.test(t)&&r.reverse()),this.pushStack(r)}});var O=/[^\x20\t\r\n\f]+/g;function P(t){return t}function Y(t){throw t}function W(t,e,n){var i;try{t&&C.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&C.isFunction(i=t.then)?i.call(t,e,n):e.call(undefined,t)}catch(t){n.call(undefined,t)}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(O)||[],function(t,n){e[n]=!0}),e}(t):C.extend({},t);var e,n,i,r,o=[],a=[],s=-1,l=function(){for(r=t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){C.each(n,function(n,i){C.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==C.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return C.each(arguments,function(t,e){for(var n;(n=C.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return C.Deferred(function(n){C.each(e,function(e,i){var r=C.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&C.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(t<o)){if((n=i.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,C.isFunction(c)?r?c.call(n,a(o,e,P,r),a(o,e,Y,r)):(o++,c.call(n,a(o,e,P,r),a(o,e,Y,r),a(o,e,P,e.notifyWith))):(i!==P&&(s=undefined,l=[n]),(r||e.resolveWith)(s,l))}},u=r?c:function(){try{c()}catch(n){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(n,u.stackTrace),t+1>=o&&(i!==Y&&(s=undefined,l=[n]),e.rejectWith(s,l))}};t?u():(C.Deferred.getStackHook&&(u.stackTrace=C.Deferred.getStackHook()),n.setTimeout(u))}}return C.Deferred(function(n){e[0][3].add(a(0,n,C.isFunction(r)?r:P,n.notifyWith)),e[1][3].add(a(0,n,C.isFunction(t)?t:P)),e[2][3].add(a(0,n,C.isFunction(i)?i:Y))}).promise()},promise:function(t){return null!=t?C.extend(t,r):r}},o={};return C.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[0][2].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?undefined:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=C.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(W(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||C.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)W(r[n],a(n),o.reject);return o.promise()}});var E=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&E.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){n.setTimeout(function(){throw t})};var R=C.Deferred();function X(){a.removeEventListener("DOMContentLoaded",X),n.removeEventListener("load",X),C.ready()}C.fn.ready=function(t){return R.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,holdReady:function(t){t?C.readyWait++:C.ready(!0)},ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||R.resolveWith(a,[C]))}}),C.ready.then=R.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(C.ready):(a.addEventListener("DOMContentLoaded",X),n.addEventListener("load",X));var _=function(t,e,n,i,r,o,a){var s=0,l=t.length,c=null==n;if("object"===C.type(n))for(s in r=!0,n)_(t,e,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,C.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(C(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):o},U=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function F(){this.expando=C.expando+F.uid++}F.uid=1,F.prototype={cache:function(t){var e=t[this.expando];return e||(e={},U(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[C.camelCase(e)]=n;else for(i in e)r[C.camelCase(i)]=e[i];return r},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][C.camelCase(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=C.isArray(e)?e.map(C.camelCase):(e=C.camelCase(e))in i?[e]:e.match(O)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!C.isEmptyObject(e)}};var V=new F,H=new F,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function K(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:J.test(t)?JSON.parse(t):t)}(n)}catch(t){}H.set(t,e,n)}else n=undefined;return n}C.extend({hasData:function(t){return H.hasData(t)||V.hasData(t)},data:function(t,e,n){return H.access(t,e,n)},removeData:function(t,e){H.remove(t,e)},_data:function(t,e,n){return V.access(t,e,n)},_removeData:function(t,e){V.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(t===undefined){if(this.length&&(r=H.get(o),1===o.nodeType&&!V.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=C.camelCase(i.slice(5)),K(o,i,r[i]));V.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){H.set(this,t)}):_(this,function(e){var n;if(o&&e===undefined)return(n=H.get(o,t))!==undefined?n:(n=K(o,t))!==undefined?n:void 0;this.each(function(){H.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){H.remove(this,t)})}}),C.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=V.get(t,e),n&&(!i||C.isArray(n)?i=V.access(t,e,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,r=n.shift(),o=C._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){C.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return V.get(t,n)||V.access(t,n,{empty:C.Callbacks("once memory").add(function(){V.remove(t,[e+"queue",n])})})}}),C.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?C.queue(this[0],t):e===undefined?this:this.each(function(){var n=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&C.dequeue(this,t)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=C.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=V.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=new RegExp("^(?:([+-])=|)("+q+")([a-z%]*)$","i"),tt=["Top","Right","Bottom","Left"],et=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&C.contains(t.ownerDocument,t)&&"none"===C.css(t,"display")},nt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function it(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return C.css(t,e,"")},l=s(),c=n&&n[3]||(C.cssNumber[e]?"":"px"),u=(C.cssNumber[e]||"px"!==c&&+l)&&$.exec(C.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",C.style(t,e,u+c)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var rt={};function ot(t){var e,n=t.ownerDocument,i=t.nodeName,r=rt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=C.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),rt[i]=r,r)}function at(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=V.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&et(i)&&(r[o]=ot(i))):"none"!==n&&(r[o]="none",V.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}C.fn.extend({show:function(){return at(this,!0)},hide:function(){return at(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){et(this)?C(this).show():C(this).hide()})}});var st=/^(?:checkbox|radio)$/i,lt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|\/(?:java|ecma)script/i,ut={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&C.nodeName(t,e)?C.merge([t],n):n}function ht(t,e){for(var n=0,i=t.length;n<i;n++)V.set(t[n],"globalEval",!e||V.get(e[n],"globalEval"))}ut.optgroup=ut.option,ut.tbody=ut.tfoot=ut.colgroup=ut.caption=ut.thead,ut.th=ut.td;var dt,ft,pt=/<|&#?\w+;/;function It(t,e,n,i,r){for(var o,a,s,l,c,u,g=e.createDocumentFragment(),h=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===C.type(o))C.merge(h,o.nodeType?[o]:o);else if(pt.test(o)){for(a=a||g.appendChild(e.createElement("div")),s=(lt.exec(o)||["",""])[1].toLowerCase(),l=ut[s]||ut._default,a.innerHTML=l[1]+C.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;C.merge(h,a.childNodes),(a=g.firstChild).textContent=""}else h.push(e.createTextNode(o));for(g.textContent="",d=0;o=h[d++];)if(i&&C.inArray(o,i)>-1)r&&r.push(o);else if(c=C.contains(o.ownerDocument,o),a=gt(g.appendChild(o),"script"),c&&ht(a),n)for(u=0;o=a[u++];)ct.test(o.type||"")&&n.push(o);return g}dt=a.createDocumentFragment().appendChild(a.createElement("div")),(ft=a.createElement("input")).setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),dt.appendChild(ft),m.checkClone=dt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!dt.cloneNode(!0).lastChild.defaultValue;var mt=a.documentElement,At=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vt=/^([^.]*)(?:\.(.+)|)/;function yt(){return!0}function bt(){return!1}function wt(){try{return a.activeElement}catch(t){}}function xt(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)xt(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=bt;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return C().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=C.guid++)),t.each(function(){C.event.add(this,e,r,i,n)})}C.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,g,h,d,f,p,I=V.get(t);if(I)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(mt,r),n.guid||(n.guid=C.guid++),(l=I.events)||(l=I.events={}),(a=I.handle)||(a=I.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):undefined}),c=(e=(e||"").match(O)||[""]).length;c--;)d=p=(s=vt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),d&&(g=C.event.special[d]||{},d=(r?g.delegateType:g.bindType)||d,g=C.event.special[d]||{},u=C.extend({type:d,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[d])||((h=l[d]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(d,a)),g.add&&(g.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),C.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,c,u,g,h,d,f,p,I=V.hasData(t)&&V.get(t);if(I&&(l=I.events)){for(c=(e=(e||"").match(O)||[""]).length;c--;)if(d=p=(s=vt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),d){for(g=C.event.special[d]||{},h=l[d=(i?g.delegateType:g.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&p!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,g.remove&&g.remove.call(t,u));a&&!h.length&&(g.teardown&&!1!==g.teardown.call(t,f,I.handle)||C.removeEvent(t,d,I.handle),delete l[d])}else for(d in l)C.event.remove(t,d+e[c],n,i,!0);C.isEmptyObject(l)&&V.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=C.event.fix(t),l=new Array(arguments.length),c=(V.get(this,"events")||{})[s.type]||[],u=C.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=C.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,(i=((C.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))!==undefined&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)a[r=(i=e[n]).selector+" "]===undefined&&(a[r]=i.needsContext?C(r,this).index(c)>-1:C.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:C.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==wt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===wt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(t){return C.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?yt:bt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=yt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=yt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=yt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&At.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||C.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),C.fn.extend({on:function(t,e,n,i){return xt(this,t,e,n,i)},one:function(t,e,n,i){return xt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=bt),this.each(function(){C.event.remove(this,t,n,e)})}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Mt=/<script|<style|<link/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^true\/(.*)/,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function zt(t,e){return C.nodeName(t,"table")&&C.nodeName(11!==e.nodeType?e:e.firstChild,"tr")&&t.getElementsByTagName("tbody")[0]||t}function Tt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Zt(t){var e=kt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function Gt(t,e){var n,i,r,o,a,s,l,c;if(1===e.nodeType){if(V.hasData(t)&&(o=V.access(t),a=V.set(e,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)C.event.add(e,r,c[r][n]);H.hasData(t)&&(s=H.access(t),l=C.extend({},s),H.set(e,l))}}function St(t,e,n,i){e=c.apply([],e);var r,o,a,s,l,u,g=0,h=t.length,d=h-1,f=e[0],p=C.isFunction(f);if(p||h>1&&"string"==typeof f&&!m.checkClone&&jt.test(f))return t.each(function(r){var o=t.eq(r);p&&(e[0]=f.call(this,r,o.html())),St(o,e,n,i)});if(h&&(o=(r=It(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=C.map(gt(r,"script"),Tt)).length;g<h;g++)l=r,g!==d&&(l=C.clone(l,!0,!0),s&&C.merge(a,gt(l,"script"))),n.call(t[g],l,g);if(s)for(u=a[a.length-1].ownerDocument,C.map(a,Zt),g=0;g<s;g++)l=a[g],ct.test(l.type||"")&&!V.access(l,"globalEval")&&C.contains(u,l)&&(l.src?C._evalUrl&&C._evalUrl(l.src):A(l.textContent.replace(Dt,""),u))}return t}function Lt(t,e,n){for(var i,r=e?C.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(gt(i)),i.parentNode&&(n&&C.contains(i.ownerDocument,i)&&ht(gt(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t.replace(Nt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l,c,u=t.cloneNode(!0),g=C.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(a=gt(u),i=0,r=(o=gt(t)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&st.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||gt(t),a=a||gt(u),i=0,r=o.length;i<r;i++)Gt(o[i],a[i]);else Gt(t,u);return(a=gt(u,"script")).length>0&&ht(a,!g&&gt(t,"script")),u},cleanData:function(t){for(var e,n,i,r=C.event.special,o=0;(n=t[o])!==undefined;o++)if(U(n)){if(e=n[V.expando]){if(e.events)for(i in e.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,e.handle);n[V.expando]=undefined}n[H.expando]&&(n[H.expando]=undefined)}}}),C.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return _(this,function(t){return t===undefined?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return St(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||zt(this,t).appendChild(t)})},prepend:function(){return St(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=zt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return St(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return St(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return _(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!ut[(lt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return St(this,arguments,function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(gt(this)),n&&n.replaceChild(e,this))},t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){C.fn[t]=function(t){for(var n,i=[],r=C(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),C(r[a])[e](n),u.apply(i,n.get());return this.pushStack(i)}});var Bt=/^margin/,Ot=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),Pt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)};function Yt(t,e,n){var i,r,o,a,s=t.style;return(n=n||Pt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||C.contains(t.ownerDocument,t)||(a=C.style(t,e)),!m.pixelMarginRight()&&Ot.test(a)&&Bt.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),a!==undefined?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",mt.appendChild(s);var t=n.getComputedStyle(l);e="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,l.style.marginRight="50%",r="4px"===t.marginRight,mt.removeChild(s),l=null}}var e,i,r,o,s=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===l.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(l),C.extend(m,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),o}}))}();var Et=/^(none|table(?!-c[ea]).+)/,Rt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},_t=["Webkit","Moz","ms"],Ut=a.createElement("div").style;function Ft(t){if(t in Ut)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=_t.length;n--;)if((t=_t[n]+e)in Ut)return t}function Vt(t,e,n){var i=$.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Ht(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=C.css(t,n+tt[o],!0,r)),i?("content"===n&&(a-=C.css(t,"padding"+tt[o],!0,r)),"margin"!==n&&(a-=C.css(t,"border"+tt[o]+"Width",!0,r))):(a+=C.css(t,"padding"+tt[o],!0,r),"padding"!==n&&(a+=C.css(t,"border"+tt[o]+"Width",!0,r)));return a}function Jt(t,e,n){var i,r=!0,o=Pt(t),a="border-box"===C.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),i<=0||null==i){if(((i=Yt(t,e,o))<0||null==i)&&(i=t.style[e]),Ot.test(i))return i;r=a&&(m.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+Ht(t,e,n||(a?"border":"content"),r,o)+"px"}function Qt(t,e,n,i,r){return new Qt.prototype.init(t,e,n,i,r)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=C.camelCase(e),l=t.style;if(e=C.cssProps[s]||(C.cssProps[s]=Ft(s)||s),a=C.cssHooks[e]||C.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(t,!1,i))!==undefined?r:l[e];"string"===(o=typeof n)&&(r=$.exec(n))&&r[1]&&(n=it(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(C.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&(n=a.set(t,n,i))===undefined||(l[e]=n))}},css:function(t,e,n,i){var r,o,a,s=C.camelCase(e);return e=C.cssProps[s]||(C.cssProps[s]=Ft(s)||s),(a=C.cssHooks[e]||C.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),r===undefined&&(r=Yt(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),C.each(["height","width"],function(t,e){C.cssHooks[e]={get:function(t,n,i){if(n)return!Et.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Jt(t,e,i):nt(t,Rt,function(){return Jt(t,e,i)})},set:function(t,n,i){var r,o=i&&Pt(t),a=i&&Ht(t,e,i,"border-box"===C.css(t,"boxSizing",!1,o),o);return a&&(r=$.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=C.css(t,e)),Vt(0,n,a)}}}),C.cssHooks.marginLeft=Wt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-nt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(t,e){C.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+tt[i]+e]=o[i]||o[i-2]||o[0];return r}},Bt.test(t)||(C.cssHooks[t+e].set=Vt)}),C.fn.extend({css:function(t,e){return _(this,function(t,e,n){var i,r,o={},a=0;if(C.isArray(e)){for(i=Pt(t),r=e.length;a<r;a++)o[e[a]]=C.css(t,e[a],!1,i);return o}return n!==undefined?C.style(t,e,n):C.css(t,e)},t,e,arguments.length>1)}}),C.Tween=Qt,Qt.prototype={constructor:Qt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=Qt.propHooks[this.prop];return t&&t.get?t.get(this):Qt.propHooks._default.get(this)},run:function(t){var e,n=Qt.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Qt.propHooks._default.set(this),this}},Qt.prototype.init.prototype=Qt.prototype,Qt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[C.cssProps[t.prop]]&&!C.cssHooks[t.prop]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},Qt.propHooks.scrollTop=Qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=Qt.prototype.init,C.fx.step={};var Kt,qt,$t=/^(?:toggle|show|hide)$/,te=/queueHooks$/;function ee(){qt&&(n.requestAnimationFrame(ee),C.fx.tick())}function ne(){return n.setTimeout(function(){Kt=undefined}),Kt=C.now()}function ie(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=tt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function re(t,e,n){for(var i,r=(oe.tweeners[e]||[]).concat(oe.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function oe(t,e,n){var i,r,o=0,a=oe.prefilters.length,s=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Kt||ne(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:Kt||ne(),duration:n.duration,tweens:[],createTween:function(e,n){var i=C.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=C.camelCase(n)],o=t[n],C.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=C.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=oe.prefilters[o].call(c,t,u,c.opts))return C.isFunction(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=C.proxy(i.stop,i)),i;return C.map(u,re,c),C.isFunction(c.opts.start)&&c.opts.start.call(t,c),C.fx.timer(C.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(oe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return it(n.elem,t,$.exec(e),n),n}]},tweener:function(t,e){C.isFunction(t)?(e=t,t=["*"]):t=t.match(O);for(var n,i=0,r=t.length;i<r;i++)n=t[i],oe.tweeners[n]=oe.tweeners[n]||[],oe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,c,u,g="width"in e||"height"in e,h=this,d={},f=t.style,p=t.nodeType&&et(t),I=V.get(t,"fxshow");for(i in n.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],$t.test(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!I||I[i]===undefined)continue;p=!0}d[i]=I&&I[i]||C.style(t,i)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(d))for(i in g&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=I&&I.display)&&(c=V.get(t,"display")),"none"===(u=C.css(t,"display"))&&(c?u=c:(at([t],!0),c=t.style.display||c,u=C.css(t,"display"),at([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===C.css(t,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,d)l||(I?"hidden"in I&&(p=I.hidden):I=V.access(t,"fxshow",{display:c}),o&&(I.hidden=!p),p&&at([t],!0),h.done(function(){for(i in p||at([t]),V.remove(t,"fxshow"),d)C.style(t,i,d[i])})),l=re(p?I[i]:0,i,h),i in I||(I[i]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?oe.prefilters.unshift(t):oe.prefilters.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||C.isFunction(t)&&t,duration:t,easing:n&&e||e&&!C.isFunction(e)&&e};return C.fx.off||a.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){C.isFunction(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(et).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=C.isEmptyObject(t),o=C.speed(e,n,i),a=function(){var e=oe(this,C.extend({},t),o);(r||V.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=C.timers,a=V.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&te.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||C.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=V.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=C.timers,a=i?i.length:0;for(n.finish=!0,C.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),C.each(["toggle","show","hide"],function(t,e){var n=C.fn[e];C.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ie(e,!0),t,i,r)}}),C.each({slideDown:ie("show"),slideUp:ie("hide"),slideToggle:ie("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){C.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(Kt=C.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),Kt=undefined},C.fx.timer=function(t){C.timers.push(t),t()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){qt||(qt=n.requestAnimationFrame?n.requestAnimationFrame(ee):n.setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){n.cancelAnimationFrame?n.cancelAnimationFrame(qt):n.clearInterval(qt),qt=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ae,se=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return _(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(r=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ae:undefined)),n!==undefined?null===n?void C.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=C.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&C.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(O);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ae={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var n=se[e]||C.find.attr;se[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=se[a],se[a]=r,r=null!=n(t,e,i)?a:null,se[a]=o),r}});var le=/^(?:input|select|textarea|button)$/i,ce=/^(?:a|area)$/i;function ue(t){return(t.match(O)||[]).join(" ")}function ge(t){return t.getAttribute&&t.getAttribute("class")||""}C.fn.extend({prop:function(t,e){return _(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,r=C.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):le.test(t.nodeName)||ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,ge(this)))});if("string"==typeof t&&t)for(e=t.match(O)||[];n=this[l++];)if(r=ge(n),i=1===n.nodeType&&" "+ue(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=ue(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,ge(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(O)||[];n=this[l++];)if(r=ge(n),i=1===n.nodeType&&" "+ue(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=ue(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):C.isFunction(t)?this.each(function(n){C(this).toggleClass(t.call(this,n,ge(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=C(this),o=t.match(O)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else t!==undefined&&"boolean"!==n||((e=ge(this))&&V.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":V.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ue(ge(n))+" ").indexOf(e)>-1)return!0;return!1}});var he=/\r/g;C.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=C.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,C(this).val()):t)?r="":"number"==typeof r?r+="":C.isArray(r)&&(r=C.map(r,function(t){return null==t?"":t+""})),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,r,"value")!==undefined||(this.value=r))})):r?(e=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(r,"value"))!==undefined?n:"string"==typeof(n=r.value)?n.replace(he,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:ue(C.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!C.nodeName(n.parentNode,"optgroup"))){if(e=C(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=C.makeArray(e),a=r.length;a--;)((i=r[a]).selected=C.inArray(C.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(C.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},m.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var de=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(t,e,i,r){var o,s,l,c,u,g,h,d=[i||a],p=f.call(t,"type")?t.type:t,I=f.call(t,"namespace")?t.namespace.split("."):[];if(s=l=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!de.test(p+C.event.triggered)&&(p.indexOf(".")>-1&&(p=(I=p.split(".")).shift(),I.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[C.expando]?t:new C.Event(p,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=I.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+I.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=i),e=null==e?[t]:C.makeArray(e,[t]),h=C.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!C.isWindow(i)){for(c=h.delegateType||p,de.test(c+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),l=s;l===(i.ownerDocument||a)&&d.push(l.defaultView||l.parentWindow||n)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)t.type=o>1?c:h.bindType||p,(g=(V.get(s,"events")||{})[t.type]&&V.get(s,"handle"))&&g.apply(s,e),(g=u&&s[u])&&g.apply&&U(s)&&(t.result=g.apply(s,e),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!U(i)||u&&C.isFunction(i[p])&&!C.isWindow(i)&&((l=i[u])&&(i[u]=null),C.event.triggered=p,i[p](),C.event.triggered=undefined,l&&(i[u]=l)),t.result}},simulate:function(t,e,n){var i=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),m.focusin="onfocusin"in n,m.focusin||C.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=V.access(i,e);r||i.addEventListener(t,n,!0),V.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=V.access(i,e)-1;r?V.access(i,e,r):(i.removeEventListener(t,n,!0),V.remove(i,e))}}});var fe=n.location,pe=C.now(),Ie=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var me=/\[\]$/,Ae=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,ve=/^(?:input|select|textarea|keygen)/i;function ye(t,e,n,i){var r;if(C.isArray(e))C.each(e,function(e,r){n||me.test(t)?i(t,r):ye(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==C.type(e))i(t,e);else for(r in e)ye(t+"["+r+"]",e[r],n,i)}C.param=function(t,e){var n,i=[],r=function(t,e){var n=C.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(C.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){r(this.name,this.value)});else for(n in t)ye(n,t[n],e,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&ve.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!st.test(t))}).map(function(t,e){var n=C(this).val();return null==n?null:C.isArray(n)?C.map(n,function(t){return{name:e.name,value:t.replace(Ae,"\r\n")}}):{name:e.name,value:n.replace(Ae,"\r\n")}}).get()}});var be=/%20/g,we=/#.*$/,xe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,je=/^\/\//,ke={},De={},ze="*/".concat("*"),Te=a.createElement("a");function Ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(O)||[];if(C.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ge(t,e,n,i){var r={},o=t===De;function a(s){var l;return r[s]=!0,C.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Se(t,e){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&C.extend(!0,t,i),t}Te.href=fe.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fe.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fe.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Se(Se(t,C.ajaxSettings),e):Se(C.ajaxSettings,t)},ajaxPrefilter:Ze(ke),ajaxTransport:Ze(De),ajax:function(t,e){"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,r,o,s,l,c,u,g,h,d,f=C.ajaxSetup({},e),p=f.context||f,I=f.context&&(p.nodeType||p.jquery)?C(p):C.event,m=C.Deferred(),A=C.Callbacks("once memory"),v=f.statusCode||{},y={},b={},w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Ne.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)x.always(t[x.status]);else for(e in t)v[e]=[v[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),N(0,e),this}};if(m.promise(x),f.url=((t||f.url||fe.href)+"").replace(je,fe.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(O)||[""],null==f.crossDomain){c=a.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Te.protocol+"//"+Te.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ge(ke,f,e,x),u)return x;for(h in(g=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Me.test(f.type),r=f.url.replace(we,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(be,"+")):(d=f.url.slice(r.length),f.data&&(r+=(Ie.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(xe,"$1"),d=(Ie.test(r)?"&":"?")+"_="+pe+++d),f.url=r+d),f.ifModified&&(C.lastModified[r]&&x.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&x.setRequestHeader("If-None-Match",C.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+ze+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,x,f)||u))return x.abort();if(w="abort",A.add(f.complete),x.done(f.success),x.fail(f.error),i=Ge(De,f,e,x)){if(x.readyState=1,g&&I.trigger("ajaxSend",[x,f]),u)return x;f.async&&f.timeout>0&&(l=n.setTimeout(function(){x.abort("timeout")},f.timeout));try{u=!1,i.send(y,N)}catch(t){if(u)throw t;N(-1,t)}}else N(-1,"No Transport");function N(t,e,a,s){var c,h,d,y,b,w=e;u||(u=!0,l&&n.clearTimeout(l),i=undefined,o=s||"",x.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(y=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,x,a)),y=function(t,e,n,i){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,y,x,c),c?(f.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=b),(b=x.getResponseHeader("etag"))&&(C.etag[r]=b)),204===t||"HEAD"===f.type?w="nocontent":304===t?w="notmodified":(w=y.state,h=y.data,c=!(d=y.error))):(d=w,!t&&w||(w="error",t<0&&(t=0))),x.status=t,x.statusText=(e||w)+"",c?m.resolveWith(p,[h,w,x]):m.rejectWith(p,[x,w,d]),x.statusCode(v),v=undefined,g&&I.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?h:d]),A.fireWith(p,[x,w]),g&&(I.trigger("ajaxComplete",[x,f]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,undefined,e,"script")}}),C.each(["get","post"],function(t,e){C[e]=function(t,n,i,r){return C.isFunction(n)&&(r=r||i,i=n,n=undefined),C.ajax(C.extend({url:t,type:e,dataType:r,data:n,success:i},C.isPlainObject(t)&&t))}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(C.isFunction(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return C.isFunction(t)?this.each(function(e){C(this).wrapInner(t.call(this,e))}):this.each(function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=C.isFunction(t);return this.each(function(n){C(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Le={0:200,1223:204},Be=C.ajaxSettings.xhr();m.cors=!!Be&&"withCredentials"in Be,m.ajax=Be=!!Be,C.ajaxTransport(function(t){var e,i;if(m.cors||Be&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Le[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=e("error"),s.onabort!==undefined?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=C("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Oe,Pe=[],Ye=/(=)\?(?=&|$)|\?\?/;function We(t){return C.isWindow(t)?t:9===t.nodeType&&t.defaultView}C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||C.expando+"_"+pe++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=C.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(Ie.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||C.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){o===undefined?C(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Pe.push(r)),a&&C.isFunction(o)&&o(a[0]),a=o=undefined}),"script"}),m.createHTMLDocument=((Oe=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Oe.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),r=D.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=It([t],e,o),o&&o.length&&C(o).remove(),C.merge([],r.childNodes)));var i,r,o},C.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=ue(t.slice(s)),t=t.slice(0,s)),C.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),a.length>0&&C.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,c=C.css(t,"position"),u=C(t),g={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=C.css(t,"top"),l=C.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),C.isFunction(e)&&(e=e.call(t,n,C.extend({},s))),null!=e.top&&(g.top=e.top-s.top+a),null!=e.left&&(g.left=e.left-s.left+r),"using"in e?e.using.call(t,g):u.css(g)}},C.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect()).width||i.height?(n=We(r=o.ownerDocument),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===C.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),C.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+C.css(t[0],"borderTopWidth",!0),left:i.left+C.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-C.css(n,"marginTop",!0),left:e.left-i.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||mt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;C.fn[t]=function(i){return _(this,function(t,i,r){var o=We(t);if(r===undefined)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),C.each(["top","left"],function(t,e){C.cssHooks[e]=Wt(m.pixelPosition,function(t,n){if(n)return n=Yt(t,e),Ot.test(n)?C(t).position()[e]+"px":n})}),C.each({Height:"height",Width:"width"},function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){C.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return _(this,function(e,n,r){var o;return C.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):r===undefined?C.css(e,n,s):C.style(e,n,r,s)},e,a?r:undefined,a)}})}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),C.parseJSON=JSON.parse,(i=function(){return C}.apply(e,[]))===undefined||(t.exports=i);var Ee=n.jQuery,Re=n.$;return C.noConflict=function(t){return n.$===C&&(n.$=Re),t&&n.jQuery===C&&(n.jQuery=Ee),C},r||(n.jQuery=n.$=C),C})},ziBY:function(t,e,n){var i,r,o;
/*! JointJS v2.0.1 (2017-11-15) - JavaScript diagramming library


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
*/
/*! JointJS v2.0.1 (2017-11-15) - JavaScript diagramming library


This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
*/
o=function(t,i,r,o){var a,s,l,c;!function(){function t(t){this.message=t}var n=e,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",n.btoa||(n.btoa=function(e){for(var n,r,o=String(e),a=0,s=i,l="";o.charAt(0|a)||(s="=",a%1);l+=s.charAt(63&n>>8-a%1*8)){if((r=o.charCodeAt(a+=.75))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|r}return l}),n.atob||(n.atob=function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,l="";o=n.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?l+=String.fromCharCode(255&r>>(-2*a&6)):0)o=i.indexOf(o);return l})}(),function(){function t(t,e){return this.slice(t,e)}function e(t,e){arguments.length<2&&(e=0);for(var n=0,i=t.length;n<i;++n,++e)this[e]=255&t[n]}function n(n){var i;if("number"==typeof n){i=new Array(n);for(var r=0;r<n;++r)i[r]=0}else i=n.slice(0);return i.subarray=t,i.buffer=i,i.byteLength=i.length,i.set=e,"object"==typeof n&&n.buffer&&(i.buffer=n.buffer),i}"undefined"==typeof Uint8Array&&"undefined"!=typeof window&&(window.Uint8Array=n,window.Uint32Array=n,window.Int32Array=n)}(),"undefined"!=typeof XMLHttpRequest&&("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype||Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return new Uint8Array(new VBArray(this.responseBody).toArray())}})),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){function n(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return!1;for(var o=0|e,a=Math.max(o>=0?o:r-Math.abs(o),0);a<r;){if(n(i[a],t))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),Array.from||(Array.from=(a=Object.prototype.toString,s=function(t){return"function"==typeof t||"[object Function]"===a.call(t)},l=Math.pow(2,53)-1,c=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),l)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!s(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var r,o=c(e.length),a=s(this)?Object(new this(o)):new Array(o),l=0;l<o;)r=e[l],a[l]=i?void 0===n?i(r,l):i.call(n,r,l):r,l+=1;return a.length=o,a})),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1}}),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e||0,t.length)===t}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t};var u,g=function(){var t={},e=Math,n=e.abs,i=e.cos,r=e.sin,o=e.sqrt,a=e.min,s=e.max,l=e.atan2,c=e.round,u=e.floor,g=e.PI,h=e.random,d=e.pow;t.bezier={curveThroughPoints:function(t){for(var e=this.getCurveControlPoints(t),n=["M",t[0].x,t[0].y],i=0;i<e[0].length;i++)n.push("C",e[0][i].x,e[0][i].y,e[1][i].x,e[1][i].y,t[i+1].x,t[i+1].y);return n},getCurveControlPoints:function(t){var e,n=[],i=[],r=t.length-1;if(1==r)return n[0]=I((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),i[0]=I(2*n[0].x-t[0].x,2*n[0].y-t[0].y),[n,i];var o=[];for(e=1;e<r-1;e++)o[e]=4*t[e].x+2*t[e+1].x;o[0]=t[0].x+2*t[1].x,o[r-1]=(8*t[r-1].x+t[r].x)/2;var a=this.getFirstControlPoints(o);for(e=1;e<r-1;++e)o[e]=4*t[e].y+2*t[e+1].y;o[0]=t[0].y+2*t[1].y,o[r-1]=(8*t[r-1].y+t[r].y)/2;var s=this.getFirstControlPoints(o);for(e=0;e<r;e++)n.push(I(a[e],s[e])),e<r-1?i.push(I(2*t[e+1].x-a[e+1],2*t[e+1].y-s[e+1])):i.push(I((t[r].x+a[r-1])/2,(t[r].y+s[r-1])/2));return[n,i]},getCurveDivider:function(t,e,n,i){return function(r){var o=p(t,e).pointAt(r),a=p(e,n).pointAt(r),s=p(n,i).pointAt(r),l=p(o,a).pointAt(r),c=p(a,s).pointAt(r),u=p(l,c).pointAt(r);return[{p0:t,p1:o,p2:l,p3:u},{p0:u,p1:c,p2:s,p3:i}]}},getFirstControlPoints:function(t){var e=t.length,n=[],i=[],r=2;n[0]=t[0]/r;for(var o=1;o<e;o++)i[o]=1/r,r=(o<e-1?4:3.5)-i[o],n[o]=(t[o]-n[o-1])/r;for(o=1;o<e;o++)n[e-o-1]-=i[e-o]*n[e-o];return n},getInversionSolver:function(t,e,n,i){function r(t,e){var n=o[t],i=o[e];return function(r){return(t%3?3:1)*(e%3?3:1)*(r.x*(n.y-i.y)+r.y*(i.x-n.x)+n.x*i.y-n.y*i.x)}}var o=arguments;return function(n){var i=3*r(2,3)(e),o=r(1,3)(t)/i,a=-r(2,3)(t)/i,s=o*r(3,1)(n)+a*(r(3,0)(n)+r(2,1)(n))+r(2,0)(n),l=o*r(3,0)(n)+a*r(2,0)(n)+r(1,0)(n);return l/(l-s)}}};var f=t.Ellipse=function(t,e,n){return this instanceof f?t instanceof f?new f(I(t),t.a,t.b):(t=I(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=n)):new f(t,e,n)};t.Ellipse.fromRect=function(t){return t=m(t),f(t.center(),t.width/2,t.height/2)},t.Ellipse.prototype={bbox:function(){return m(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},clone:function(){return f(this)},normalizedDistance:function(t){var e=t.x,n=t.y,i=this.a,r=this.b,o=this.x,a=this.y;return(e-o)*(e-o)/(i*i)+(n-a)*(n-a)/(r*r)},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},containsPoint:function(t){return this.normalizedDistance(t)<=1},center:function(){return I(this.x,this.y)},tangentTheta:function(e){var n,i,r=e.x,o=e.y,a=this.a,s=this.b,l=this.bbox().center(),c=l.x,u=l.y,g=r>l.x+a/2,h=r<l.x-a/2;return g||h?i=a*a/(r-c)-a*a*(o-u)*((n=r>l.x?o-30:o+30)-u)/(s*s*(r-c))+c:n=s*s/(o-u)-s*s*(r-c)*((i=o>l.y?r+30:r-30)-c)/(a*a*(o-u))+u,t.point(i,n).theta(e)},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},intersectionWithLineFromCenterToPoint:function(t,e){t=I(t),e&&t.rotate(I(this.x,this.y),e);var n,i=t.x-this.x,r=t.y-this.y;if(0===i)return n=this.bbox().pointNearestToPoint(t),e?n.rotate(I(this.x,this.y),-e):n;var a=r/i,s=a*a,l=this.a*this.a,c=this.b*this.b,u=o(1/(1/l+s/c)),g=a*(u=i<0?-u:u);return n=I(this.x+u,this.y+g),e?n.rotate(I(this.x,this.y),-e):n},toString:function(){return I(this.x,this.y).toString()+" "+this.a+" "+this.b}};var p=t.Line=function(t,e){return this instanceof p?t instanceof p?p(t.start,t.end):(this.start=I(t),void(this.end=I(e))):new p(t,e)};t.Line.prototype={bearing:function(){var t=b(this.start.y),e=b(this.end.y),n=this.start.x,o=this.end.x,a=b(o-n),s=r(a)*i(e),c=i(t)*r(e)-r(t)*i(e)*i(a),u=y(l(s,c))-22.5;return u<0&&(u+=360),["NE","E","SE","S","SW","W","NW","N"][u=parseInt(u/45)]},clone:function(){return p(this.start,this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t){if(t instanceof p){var e=I(this.end.x-this.start.x,this.end.y-this.start.y),n=I(t.end.x-t.start.x,t.end.y-t.start.y),i=e.x*n.y-e.y*n.x,r=I(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*n.y-r.y*n.x,a=r.x*e.y-r.y*e.x;if(0===i||o*i<0||a*i<0)return null;if(i>0){if(o>i||a>i)return null}else if(o<i||a<i)return null;return I(this.start.x+o*e.x/i,this.start.y+o*e.y/i)}if(t instanceof m){var s,l,c=t,u=[c.topLine(),c.rightLine(),c.bottomLine(),c.leftLine()],g=[],h=[];for(l=0;l<u.length;l++)null!==(s=this.intersect(u[l]))&&h.indexOf(s.toString())<0&&(g.push(s),h.push(s.toString()));return g.length>0?g:null}return null},length:function(){return o(this.squaredLength())},midpoint:function(){return I((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},pointAt:function(t){var e=(1-t)*this.start.x+t*this.end.x,n=(1-t)*this.start.y+t*this.end.y;return I(e,n)},pointOffset:function(t){return((this.end.x-this.start.x)*(t.y-this.start.y)-(this.end.y-this.start.y)*(t.x-this.start.x))/2},vector:function(){return I(this.end.x-this.start.x,this.end.y-this.start.y)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointNormalizedLength:function(t){var e=this.vector().dot(p(this.start,t).vector());return Math.min(1,Math.max(0,e/this.squaredLength()))},squaredLength:function(){var t=this.start.x,e=this.start.y,n=this.end.x,i=this.end.y;return(t-=n)*t+(e-=i)*e},toString:function(){return this.start.toString()+" "+this.end.toString()}},t.Line.prototype.intersection=t.Line.prototype.intersect;var I=t.Point=function(t,e){if(!(this instanceof I))return new I(t,e);if("string"==typeof t){var n=t.split(-1===t.indexOf("@")?" ":"@");t=parseInt(n[0],10),e=parseInt(n[1],10)}else Object(t)===t&&(e=t.y,t=t.x);this.x=void 0===t?0:t,this.y=void 0===e?0:e};t.Point.fromPolar=function(t,e,o){o=o&&I(o)||I(0,0);var a=n(t*i(e)),s=n(t*r(e)),l=C(y(e));return l<90?s=-s:l<180?(a=-a,s=-s):l<270&&(a=-a),I(o.x+a,o.y+s)},t.Point.random=function(t,e,n,i){return I(u(h()*(e-t+1)+t),u(h()*(i-n+1)+n))},t.Point.prototype={adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=a(s(this.x,t.x),t.x+t.width),this.y=a(s(this.y,t.y),t.y+t.height),this)},bearing:function(t){return p(this,t).bearing()},changeInAngle:function(t,e,n){return I(this).offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return I(this)},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),I(this.x-(t||0),this.y-(e||0))},distance:function(t){return p(this,t).length()},squaredDistance:function(t){return p(this,t).squaredLength()},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},magnitude:function(){return o(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return n(t.x-this.x)+n(t.y-this.y)},move:function(t,e){var n=b(I(t).theta(this));return this.offset(i(n)*e,-r(n)*e)},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return I(t).move(this,this.distance(t))},rotate:function(t,e){e=(e+360)%360,this.toPolar(t),this.y+=b(e);var n=I.fromPolar(this.x,this.y,t);return this.x=n.x,this.y=n.y,this},round:function(t){var e=d(10,t||0);return this.x=c(this.x*e)/e,this.y=c(this.y*e)/e,this},scale:function(t,e,n){return n=n&&I(n)||I(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=v(this.x,t),this.y=v(this.y,e||t),this},theta:function(t){var e=-((t=I(t)).y-this.y),n=t.x-this.x,i=l(e,n);return i<0&&(i=2*g+i),180*i/g},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},vectorAngle:function(t){return I(0,0).angleBetween(this,t)},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&I(t)||I(0,0);var e=this.x,n=this.y;return this.x=o((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=b(t.theta(I(e,n))),this},toString:function(){return this.x+"@"+this.y},update:function(t,e){return this.x=t||0,this.y=e||0,this},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN}};var m=t.Rect=function(t,e,n,i){return this instanceof m?(Object(t)===t&&(e=t.y,n=t.width,i=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===n?0:n,void(this.height=void 0===i?0:i)):new m(t,e,n,i)};t.Rect.fromEllipse=function(t){return t=f(t),m(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},t.Rect.prototype={bbox:function(t){var e=b(t||0),o=n(r(e)),a=n(i(e)),s=this.width*a+this.height*o,l=this.width*o+this.height*a;return m(this.x+(this.width-s)/2,this.y+(this.height-l)/2,s,l)},bottomLeft:function(){return I(this.x,this.y+this.height)},bottomLine:function(){return p(this.bottomLeft(),this.corner())},bottomMiddle:function(){return I(this.x+this.width/2,this.y+this.height)},center:function(){return I(this.x+this.width/2,this.y+this.height/2)},clone:function(){return m(this)},containsPoint:function(t){return(t=I(t)).x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=m(this).normalize(),n=m(t).normalize(),i=e.width,r=e.height,o=n.width,a=n.height;if(!(i&&r&&o&&a))return!1;var s=e.x,l=e.y,c=n.x,u=n.y;return o+=c,i+=s,a+=u,r+=l,s<=c&&o<=i&&l<=u&&a<=r},corner:function(){return I(this.x+this.width,this.y+this.height)},equals:function(t){var e=m(this).normalize(),n=m(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},intersect:function(t){var e=this.origin(),n=this.corner(),i=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||i.x>=n.x||i.y>=n.y)return null;var o=Math.max(e.x,i.x),a=Math.max(e.y,i.y);return m(o,a,Math.min(n.x,r.x)-o,Math.min(n.y,r.y)-a)},intersectionWithLineFromCenterToPoint:function(t,e){t=I(t);var n,i=I(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(i,e);for(var r=[p(this.origin(),this.topRight()),p(this.topRight(),this.corner()),p(this.corner(),this.bottomLeft()),p(this.bottomLeft(),this.origin())],o=p(i,t),a=r.length-1;a>=0;--a){var s=r[a].intersection(o);if(null!==s){n=s;break}}return n&&e&&n.rotate(i,-e),n},leftLine:function(){return p(this.origin(),this.bottomLeft())},leftMiddle:function(){return I(this.x,this.y+this.height/2)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},offset:function(t,e){return I.prototype.offset.call(this,t,e)},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},normalize:function(){var t=this.x,e=this.y,n=this.width,i=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,i=-this.height),this.x=t,this.y=e,this.width=n,this.height=i,this},origin:function(){return I(this.x,this.y)},pointNearestToPoint:function(t){if(t=I(t),this.containsPoint(t))switch(this.sideNearestToPoint(t)){case"right":return I(this.x+this.width,t.y);case"left":return I(this.x,t.y);case"bottom":return I(t.x,this.y+this.height);case"top":return I(t.x,this.y)}return t.adhereToRect(this)},rightLine:function(){return p(this.topRight(),this.corner())},rightMiddle:function(){return I(this.x+this.width,this.y+this.height/2)},round:function(t){var e=d(10,t||0);return this.x=c(this.x*e)/e,this.y=c(this.y*e)/e,this.width=c(this.width*e)/e,this.height=c(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},maxRectScaleToFit:function(e,n){e=t.Rect(e),n||(n=e.center());var i,r,o,a,s,l,c,u,g=n.x,h=n.y;i=r=o=a=s=l=c=u=1/0;var d=e.origin();d.x<g&&(i=(this.x-g)/(d.x-g)),d.y<h&&(s=(this.y-h)/(d.y-h));var f=e.corner();f.x>g&&(r=(this.x+this.width-g)/(f.x-g)),f.y>h&&(l=(this.y+this.height-h)/(f.y-h));var p=e.topRight();p.x>g&&(o=(this.x+this.width-g)/(p.x-g)),p.y<h&&(c=(this.y-h)/(p.y-h));var I=e.bottomLeft();return I.x<g&&(a=(this.x-g)/(I.x-g)),I.y>h&&(u=(this.y+this.height-h)/(I.y-h)),{sx:Math.min(i,r,o,a),sy:Math.min(s,l,c,u)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return Math.min(n.sx,n.sy)},sideNearestToPoint:function(t){var e=(t=I(t)).x-this.x,n=this.x+this.width-t.x,i=t.y-this.y,r=this.y+this.height-t.y,o=e,a="left";return n<o&&(o=n,a="right"),i<o&&(o=i,a="top"),r<o&&(o=r,a="bottom"),a},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),i=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=i.x-n.x,this.height=i.y-n.y,this},topLine:function(){return p(this.origin(),this.topRight())},topMiddle:function(){return I(this.x+this.width/2,this.y)},topRight:function(){return I(this.x+this.width,this.y)},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){t=m(t);var e=this.origin(),n=this.corner(),i=t.origin(),r=t.corner(),o=Math.min(e.x,i.x),a=Math.min(e.y,i.y),s=Math.max(n.x,r.x),l=Math.max(n.y,r.y);return m(o,a,s-o,l-a)}};var A=t.Polyline=function(t){return this instanceof A?void(this.points=Array.isArray(t)?t.map(I):[]):new A(t)};A.prototype={pointAtLength:function(t){for(var e=this.points,n=0,i=0,r=e.length-1;i<r;i++){var o=e[i],a=e[i+1],s=o.distance(a);if(t<=(n+=s))return p(a,o).pointAt(s?(n-t)/s:0)}return null},length:function(){for(var t=this.points,e=0,n=0,i=t.length-1;n<i;n++)e+=t[n].distance(t[n+1]);return e},closestPoint:function(t){return this.pointAtLength(this.closestPointLength(t))},closestPointLength:function(t){for(var e,n=this.points,i=1/0,r=0,o=0,a=n.length-1;o<a;o++){var s=p(n[o],n[o+1]),l=s.length(),c=s.closestPointNormalizedLength(t),u=s.pointAt(c).squaredDistance(t);u<i&&(i=u,e=r+c*l),r+=l}return e},toString:function(){return this.points+""},convexHull:function(){var t,e,n,i=this.points;for(e=i.length,t=0;t<e;t++)void 0===n?n=i[t]:i[t].y<n.y?n=i[t]:i[t].y===n.y&&i[t].x>n.x&&(n=i[t]);var r=[];for(e=i.length,t=0;t<e;t++){var o=n.theta(i[t]);0===o&&(o=360);var a=[i[t],t,o];r.push(a)}if(r.sort(function(t,e){var n=t[2]-e[2];return 0===n&&(n=e[1]-t[1]),n}),r.length>2){var s=r[r.length-1];r.unshift(s)}for(var l,c,u,g,h,d,f={},p=[];0!==r.length;)if(c=(l=r.pop())[0],!f.hasOwnProperty(l[0]+"@@"+l[1]))for(var I=!1;!I;)if(p.length<2)p.push(l),I=!0;else{g=(u=p.pop())[0];var m=(d=(h=p.pop())[0]).cross(g,c);if(m<0)p.push(h),p.push(u),p.push(l),I=!0;else if(0===m){var C=g.angleBetween(d,c);Math.abs(C-180)<1e-10?(f[u[0]+"@@"+u[1]]=g,p.push(h)):g.equals(c)||d.equals(g)?(f[u[0]+"@@"+u[1]]=g,p.push(h)):Math.abs((C+1)%360-1)<1e-10&&(p.push(h),r.push(u))}else f[u[0]+"@@"+u[1]]=g,p.push(h)}p.length>2&&p.pop();var v,y=-1;for(e=p.length,t=0;t<e;t++){var b=p[t][1];(void 0===v||b<v)&&(v=b,y=t)}var w=[];if(y>0){var x=p.slice(y),N=p.slice(0,y);w=x.concat(N)}else w=p;var M=[];for(e=w.length,t=0;t<e;t++)M.push(w[t][0]);return A(M)}},t.scale={linear:function(t,e,n){var i=t[1]-t[0],r=e[1]-e[0];return(n-t[0])/i*r+e[0]||0}};var C=t.normalizeAngle=function(t){return t%360+(t<0?360:0)},v=t.snapToGrid=function(t,e){return e*Math.round(t/e)},y=t.toDeg=function(t){return 180*t/g%360},b=t.toRad=function(t,e){return(t=(e=e||!1)?t:t%360)*g/180};return t.ellipse=t.Ellipse,t.line=t.Line,t.point=t.Point,t.rect=t.Rect,t}();u=function(){"use strict";if(!("object"==typeof window&&!(!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))))return function(){throw new Error("SVG is required to use Vectorizer.")};var t={xmlns:"http://www.w3.org/2000/svg",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink"},e=function(n,i,r){if(!(this instanceof e))return e.apply(Object.create(e.prototype),arguments);if(n){if(e.isV(n)&&(n=n.node),i=i||{},e.isString(n)){if("svg"===n.toLowerCase())n=e.createSvgDocument();else if("<"===n[0]){var o=e.createSvgDocument(n);if(o.childNodes.length>1){var a,s,l=[];for(a=0,s=o.childNodes.length;a<s;a++){var c=o.childNodes[a];l.push(new e(document.importNode(c,!0)))}return l}n=document.importNode(o.firstChild,!0)}else n=document.createElementNS(t.xmlns,n);e.ensureId(n)}return this.node=n,this.setAttributes(i),r&&this.append(r),this}};e.prototype.getTransformToElement=function(t){return(t=e.toNode(t)).getScreenCTM().inverse().multiply(this.node.getScreenCTM())},e.prototype.transform=function(t,n){var i=this.node;if(e.isUndefined(t))return e.transformStringToMatrix(this.attr("transform"));if(n&&n.absolute)return this.attr("transform",e.matrixToTransformString(t));var r=e.createSVGTransform(t);return i.transform.baseVal.appendItem(r),this},e.prototype.translate=function(t,n,i){i=i||{},n=n||0;var r=this.attr("transform")||"",o=e.parseTransformString(r);if(r=o.value,e.isUndefined(t))return o.translate;r=r.replace(/translate\([^\)]*\)/g,"").trim();var a="translate("+(i.absolute?t:o.translate.tx+t)+","+(i.absolute?n:o.translate.ty+n)+")";return this.attr("transform",(a+" "+r).trim()),this},e.prototype.rotate=function(t,n,i,r){r=r||{};var o=this.attr("transform")||"",a=e.parseTransformString(o);if(o=a.value,e.isUndefined(t))return a.rotate;o=o.replace(/rotate\([^\)]*\)/g,"").trim(),t%=360;var s="rotate("+(r.absolute?t:a.rotate.angle+t)+(void 0!==n&&void 0!==i?","+n+","+i:"")+")";return this.attr("transform",(o+" "+s).trim()),this},e.prototype.scale=function(t,n){n=e.isUndefined(n)?t:n;var i=this.attr("transform")||"",r=e.parseTransformString(i);if(i=r.value,e.isUndefined(t))return r.scale;i=i.replace(/scale\([^\)]*\)/g,"").trim();var o="scale("+t+","+n+")";return this.attr("transform",(i+" "+o).trim()),this},e.prototype.bbox=function(t,n){var i,r=this.node,o=r.ownerSVGElement;if(!o)return g.Rect(0,0,0,0);try{i=r.getBBox()}catch(t){i={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(t)return g.Rect(i);var a=this.getTransformToElement(n||o);return e.transformRect(i,a)},e.prototype.getBBox=function(t){var n,i={},r=this.node;if(!r.ownerSVGElement)return g.Rect(0,0,0,0);if(t&&(t.target&&(i.target=e.toNode(t.target)),t.recursive&&(i.recursive=t.recursive)),i.recursive){var o=this.children(),a=o.length;if(0===a)return this.getBBox({target:i.target,recursive:!1});i.target||(i.target=this);for(var s=0;s<a;s++){var l,c=o[s];l=0===c.children().length?c.getBBox({target:i.target,recursive:!1}):c.getBBox({target:i.target,recursive:!0}),n=n?n.union(l):l}return n}try{n=r.getBBox()}catch(t){n={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(i.target){var u=this.getTransformToElement(i.target);return e.transformRect(n,u)}return g.Rect(n)},e.prototype.text=function(t,n){t=e.sanitizeText(t);var i,r=(n=n||{}).eol,o=t.split("\n");t?this.removeAttr("display"):this.attr("display","none"),this.attr("xml:space","preserve"),this.node.textContent="";var a=this.node;if(n.textPath){var s=this.find("defs");0===s.length&&(s=e("defs"),this.append(s));var l=Object(n.textPath)===n.textPath?n.textPath.d:n.textPath;if(l){var c=e("path",{d:l});s.append(c)}var u=e("textPath");!n.textPath["xlink:href"]&&c&&u.attr("xlink:href","#"+c.node.id),Object(n.textPath)===n.textPath&&u.attr(n.textPath),this.append(u),a=u.node}var g=0,h=(void 0!==n.x?n.x:this.attr("x"))||0,d=n.lineHeight||"1em";"auto"===n.lineHeight&&(d="1.5em");for(var f=0,p=0;p<o.length;p++){var I={class:"v-line"};0===p?I.dy="0em":(I.dy=d,I.x=h);var m=e("tspan",I),A=o.length-1,C=o[p];if(C){var v=0;if(n.annotations){for(var y=e.annotateString(o[p],e.isArray(n.annotations)?n.annotations:[n.annotations],{offset:-g,includeAnnotationIndices:n.includeAnnotationIndices}),b=y.length-1,w=0;w<y.length;w++){var x=y[w];if(e.isObject(x)){var N=parseFloat(x.attrs["font-size"]);N&&N>v&&(v=N),i=e("tspan",x.attrs),n.includeAnnotationIndices&&i.attr("annotations",x.annotations),x.attrs.class&&i.addClass(x.attrs.class),r&&w===b&&p!==A&&(x.t+=r),i.node.textContent=x.t}else r&&w===b&&p!==A&&(x+=r),i=document.createTextNode(x||" ");m.append(i)}"auto"===n.lineHeight&&v&&0!==p&&m.attr("dy",1.2*v+"px")}else r&&p!==A&&(C+=r),m.node.textContent=C;0===p&&(f=v)}else m.addClass("v-empty-line"),m.node.style.fillOpacity=0,m.node.style.strokeOpacity=0,m.node.textContent="-";e(a).append(m),g+=C.length+1}return null===this.attr("y")&&this.attr("y",f||"0.8em"),this},e.prototype.removeAttr=function(t){var n=e.qualifyAttr(t),i=this.node;return n.ns?i.hasAttributeNS(n.ns,n.local)&&i.removeAttributeNS(n.ns,n.local):i.hasAttribute(t)&&i.removeAttribute(t),this},e.prototype.attr=function(t,n){if(e.isUndefined(t)){for(var i=this.node.attributes,r={},o=0;o<i.length;o++)r[i[o].name]=i[o].value;return r}if(e.isString(t)&&e.isUndefined(n))return this.node.getAttribute(t);if("object"==typeof t)for(var a in t)t.hasOwnProperty(a)&&this.setAttribute(a,t[a]);else this.setAttribute(t,n);return this},e.prototype.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},e.prototype.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},e.prototype.setAttributes=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setAttribute(e,t[e]);return this},e.prototype.append=function(t){e.isArray(t)||(t=[t]);for(var n=0,i=t.length;n<i;n++)this.node.appendChild(e.toNode(t[n]));return this},e.prototype.prepend=function(t){var n=this.node.firstChild;return n?e(n).before(t):this.append(t)},e.prototype.before=function(t){var n=this.node,i=n.parentNode;if(i){e.isArray(t)||(t=[t]);for(var r=0,o=t.length;r<o;r++)i.insertBefore(e.toNode(t[r]),n)}return this},e.prototype.appendTo=function(t){return e.toNode(t).appendChild(this.node),this},e.prototype.svg=function(){return this.node instanceof window.SVGSVGElement?this:e(this.node.ownerSVGElement)},e.prototype.defs=function(){var t=this.svg().node.getElementsByTagName("defs");return t&&t.length?e(t[0]):void 0},e.prototype.clone=function(){var t=e(this.node.cloneNode(!0));return t.node.id=e.uniqueId(),t},e.prototype.findOne=function(t){var n=this.node.querySelector(t);return n?e(n):void 0},e.prototype.find=function(t){var n=[],i=this.node.querySelectorAll(t);if(i)for(var r=0;r<i.length;r++)n.push(e(i[r]));return n},e.prototype.children=function(){for(var t=this.node.childNodes,n=[],i=0;i<t.length;i++){1===t[i].nodeType&&n.push(e(t[i]))}return n},e.prototype.index=function(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t},e.prototype.findParentByClass=function(t,n){for(var i=this.node.ownerSVGElement,r=this.node.parentNode;r&&r!==n&&r!==i;){var o=e(r);if(o.hasClass(t))return o;r=r.parentNode}return null},e.prototype.contains=function(t){var n=this.node,i=e.toNode(t),r=i&&i.parentNode;return n===r||!!(r&&1===r.nodeType&&16&n.compareDocumentPosition(r))},e.prototype.toLocalPoint=function(t,e){var n=this.svg().node,i=n.createSVGPoint();i.x=t,i.y=e;try{var r=i.matrixTransform(n.getScreenCTM().inverse()),o=this.getTransformToElement(n).inverse()}catch(t){return i}return r.matrixTransform(o)},e.prototype.translateCenterToPoint=function(t){var e=this.getBBox({target:this.svg()}).center();return this.translate(t.x-e.x,t.y-e.y),this},e.prototype.translateAndAutoOrient=function(t,n,i){var r=this.scale();this.attr("transform",""),this.scale(r.sx,r.sy);var o=this.svg().node,a=this.getBBox({target:i||o}),s=o.createSVGTransform();s.setTranslate(-a.x-a.width/2,-a.y-a.height/2);var l=o.createSVGTransform(),c=g.point(t).changeInAngle(t.x-n.x,t.y-n.y,n);l.setRotate(c,0,0);var u=o.createSVGTransform(),h=g.point(t).move(n,a.width/2);u.setTranslate(t.x+(t.x-h.x),t.y+(t.y-h.y));var d=this.getTransformToElement(i||o),f=o.createSVGTransform();f.setMatrix(u.matrix.multiply(l.matrix.multiply(s.matrix.multiply(d))));var p=e.decomposeMatrix(f.matrix);return this.translate(p.translateX,p.translateY),this.rotate(p.rotation),this},e.prototype.animateAlongPath=function(t,n){n=e.toNode(n);var i=e.ensureId(n),r=e("animateMotion",t),o=e("mpath",{"xlink:href":"#"+i});r.append(o),this.append(r);try{r.node.beginElement()}catch(t){if("fake"===document.documentElement.getAttribute("smiling")){var a=r.node;a.animators=[];var s=a.getAttribute("id");s&&(id2anim[s]=a);for(var l=getTargets(a),c=0,u=l.length;c<u;c++){var g=l[c],h=new Animator(a,g,c);animators.push(h),a.animators[c]=h,h.register()}}}return this},e.prototype.hasClass=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.node.getAttribute("class"))},e.prototype.addClass=function(t){if(!this.hasClass(t)){var e=this.node.getAttribute("class")||"";this.node.setAttribute("class",(e+" "+t).trim())}return this},e.prototype.removeClass=function(t){if(this.hasClass(t)){var e=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2");this.node.setAttribute("class",e)}return this},e.prototype.toggleClass=function(t,n){return(e.isUndefined(n)?this.hasClass(t):!n)?this.removeClass(t):this.addClass(t),this},e.prototype.sample=function(t){t=t||1;for(var e,n=this.node,i=n.getTotalLength(),r=[],o=0;o<i;)e=n.getPointAtLength(o),r.push({x:e.x,y:e.y,distance:o}),o+=t;return r},e.prototype.convertToPath=function(){var t=e("path");t.attr(this.attr());var n=this.convertToPathData();return n&&t.attr("d",n),t},e.prototype.convertToPathData=function(){var t=this.node.tagName.toUpperCase();switch(t){case"PATH":return this.attr("d");case"LINE":return e.convertLineToPathData(this.node);case"POLYGON":return e.convertPolygonToPathData(this.node);case"POLYLINE":return e.convertPolylineToPathData(this.node);case"ELLIPSE":return e.convertEllipseToPathData(this.node);case"CIRCLE":return e.convertCircleToPathData(this.node);case"RECT":return e.convertRectToPathData(this.node)}throw new Error(t+" cannot be converted to PATH.")},e.prototype.findIntersection=function(t,n){var i=this.svg().node;n=n||i;var r=this.getBBox({target:n}),o=r.center();if(r.intersectionWithLineFromCenterToPoint(t)){var a,s=this.node.localName.toUpperCase();if("RECT"===s){var l=g.rect(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),c=this.getTransformToElement(n),u=e.decomposeMatrix(c),h=i.createSVGTransform();h.setRotate(-u.rotation,o.x,o.y);var d=e.transformRect(l,h.matrix.multiply(c));a=g.rect(d).intersectionWithLineFromCenterToPoint(t,u.rotation)}else if("PATH"===s||"POLYGON"===s||"POLYLINE"===s||"CIRCLE"===s||"ELLIPSE"===s){var f,p,I,m,A,C=("PATH"===s?this:this.convertToPath()).sample(),v=1/0,y=[];for(f=0;f<C.length;f++)p=C[f],I=(I=e.createSVGPoint(p.x,p.y)).matrixTransform(this.getTransformToElement(n)),(A=(p=g.point(I)).distance(o)+(m=1.1*p.distance(t)))<v?(v=A,y=[{sample:p,refDistance:m}]):A<v+1&&y.push({sample:p,refDistance:m});y.sort(function(t,e){return t.refDistance-e.refDistance}),y[0]&&(a=y[0].sample)}return a}},e.prototype.setAttribute=function(t,n){var i=this.node;if(null===n)return this.removeAttr(t),this;var r=e.qualifyAttr(t);return r.ns?i.setAttributeNS(r.ns,t,n):"id"===t?i.id=n:i.setAttribute(t,n),this},e.createSvgDocument=function(n){var i='<svg xmlns="'+t.xmlns+'" xmlns:xlink="'+t.xlink+'" version="1.1">'+(n||"")+"</svg>";return e.parseXML(i,{async:!1}).documentElement},e.idCounter=0,e.uniqueId=function(){return"v-"+ ++e.idCounter},e.toNode=function(t){return e.isV(t)?t.node:t.nodeName&&t||t[0]},e.ensureId=function(t){return(t=e.toNode(t)).id||(t.id=e.uniqueId())},e.sanitizeText=function(t){return(t||"").replace(/ /g," ")},e.isUndefined=function(t){return void 0===t},e.isString=function(t){return"string"==typeof t},e.isObject=function(t){return t&&"object"==typeof t},e.isArray=Array.isArray,e.parseXML=function(t,n){var i;n=n||{};try{var r=new DOMParser;e.isUndefined(n.async)||(r.async=n.async),i=r.parseFromString(t,"text/xml")}catch(t){i=void 0}if(!i||i.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return i},e.qualifyAttr=function(e){if(-1!==e.indexOf(":")){var n=e.split(":");return{ns:t[n[0]],local:n[1]}}return{ns:null,local:e}},e.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,e.transformSeparatorRegex=/[ ,]+/,e.transformationListRegex=/^(\w+)\((.*)\)/,e.transformStringToMatrix=function(t){var n=e.createSVGMatrix(),i=t&&t.match(e.transformRegex);if(!i)return n;for(var r=0,o=i.length;r<o;r++){var a=i[r].match(e.transformationListRegex);if(a){var s,l,c,u,g,h=e.createSVGMatrix(),d=a[2].split(e.transformSeparatorRegex);switch(a[1].toLowerCase()){case"scale":s=parseFloat(d[0]),l=void 0===d[1]?s:parseFloat(d[1]),h=h.scaleNonUniform(s,l);break;case"translate":c=parseFloat(d[0]),u=parseFloat(d[1]),h=h.translate(c,u);break;case"rotate":g=parseFloat(d[0]),c=parseFloat(d[1])||0,u=parseFloat(d[2])||0,h=0!==c||0!==u?h.translate(c,u).rotate(g).translate(-c,-u):h.rotate(g);break;case"skewx":g=parseFloat(d[0]),h=h.skewX(g);break;case"skewy":g=parseFloat(d[0]),h=h.skewY(g);break;case"matrix":h.a=parseFloat(d[0]),h.b=parseFloat(d[1]),h.c=parseFloat(d[2]),h.d=parseFloat(d[3]),h.e=parseFloat(d[4]),h.f=parseFloat(d[5]);break;default:continue}n=n.multiply(h)}}return n},e.matrixToTransformString=function(t){return t||(t=!0),"matrix("+(void 0!==t.a?t.a:1)+","+(void 0!==t.b?t.b:0)+","+(void 0!==t.c?t.c:0)+","+(void 0!==t.d?t.d:1)+","+(void 0!==t.e?t.e:0)+","+(void 0!==t.f?t.f:0)+")"},e.parseTransformString=function(t){var n,i,r;if(t){var o=e.transformSeparatorRegex;if(t.trim().indexOf("matrix")>=0){var a=e.transformStringToMatrix(t),s=e.decomposeMatrix(a);n=[s.translateX,s.translateY],r=[s.scaleX,s.scaleY],i=[s.rotation];var l=[];0===n[0]&&0===n[0]||l.push("translate("+n+")"),1===r[0]&&1===r[1]||l.push("scale("+r+")"),0!==i[0]&&l.push("rotate("+i+")"),t=l.join(" ")}else{var c=t.match(/translate\((.*?)\)/);c&&(n=c[1].split(o));var u=t.match(/rotate\((.*?)\)/);u&&(i=u[1].split(o));var g=t.match(/scale\((.*?)\)/);g&&(r=g[1].split(o))}}var h=r&&r[0]?parseFloat(r[0]):1;return{value:t,translate:{tx:n&&n[0]?parseInt(n[0],10):0,ty:n&&n[1]?parseInt(n[1],10):0},rotate:{angle:i&&i[0]?parseInt(i[0],10):0,cx:i&&i[1]?parseInt(i[1],10):void 0,cy:i&&i[2]?parseInt(i[2],10):void 0},scale:{sx:h,sy:r&&r[1]?parseFloat(r[1]):h}}},e.deltaTransformPoint=function(t,e){return{x:e.x*t.a+e.y*t.c+0,y:e.x*t.b+e.y*t.d+0}},e.decomposeMatrix=function(t){var n=e.deltaTransformPoint(t,{x:0,y:1}),i=e.deltaTransformPoint(t,{x:1,y:0}),r=180/Math.PI*Math.atan2(n.y,n.x)-90,o=180/Math.PI*Math.atan2(i.y,i.x);return{translateX:t.e,translateY:t.f,scaleX:Math.sqrt(t.a*t.a+t.b*t.b),scaleY:Math.sqrt(t.c*t.c+t.d*t.d),skewX:r,skewY:o,rotation:r}},e.matrixToScale=function(t){var n,i,r,o;return t?(n=e.isUndefined(t.a)?1:t.a,o=e.isUndefined(t.d)?1:t.d,i=t.b,r=t.c):n=o=1,{sx:i?Math.sqrt(n*n+i*i):n,sy:r?Math.sqrt(r*r+o*o):o}},e.matrixToRotate=function(t){var n={x:0,y:1};return t&&(n=e.deltaTransformPoint(t,n)),{angle:g.normalizeAngle(g.toDeg(Math.atan2(n.y,n.x))-90)}},e.matrixToTranslate=function(t){return{tx:t&&t.e||0,ty:t&&t.f||0}},e.isV=function(t){return t instanceof e},e.isVElement=e.isV;var n=e("svg").node;return e.createSVGMatrix=function(t){var e=n.createSVGMatrix();for(var i in t)e[i]=t[i];return e},e.createSVGTransform=function(t){return e.isUndefined(t)?n.createSVGTransform():(t instanceof SVGMatrix||(t=e.createSVGMatrix(t)),n.createSVGTransformFromMatrix(t))},e.createSVGPoint=function(t,e){var i=n.createSVGPoint();return i.x=t,i.y=e,i},e.transformRect=function(t,e){var i=n.createSVGPoint();i.x=t.x,i.y=t.y;var r=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y;var o=i.matrixTransform(e);i.x=t.x+t.width,i.y=t.y+t.height;var a=i.matrixTransform(e);i.x=t.x,i.y=t.y+t.height;var s=i.matrixTransform(e),l=Math.min(r.x,o.x,a.x,s.x),c=Math.max(r.x,o.x,a.x,s.x),u=Math.min(r.y,o.y,a.y,s.y),h=Math.max(r.y,o.y,a.y,s.y);return g.Rect(l,u,c-l,h-u)},e.transformPoint=function(t,n){return g.Point(e.createSVGPoint(t.x,t.y).matrixTransform(n))},e.styleToObject=function(t){for(var e={},n=t.split(";"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0].trim()]=r[1].trim()}return e},e.createSlicePathData=function(t,e,n,i){var r=2*Math.PI-1e-6,o=t,a=e,s=n,l=i,c=(l<s&&(c=s,s=l,l=c),l-s),u=c<Math.PI?"0":"1",g=Math.cos(s),h=Math.sin(s),d=Math.cos(l),f=Math.sin(l);return c>=r?o?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+o+"A"+o+","+o+" 0 1,0 0,"+-o+"A"+o+","+o+" 0 1,0 0,"+o+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":o?"M"+a*g+","+a*h+"A"+a+","+a+" 0 "+u+",1 "+a*d+","+a*f+"L"+o*d+","+o*f+"A"+o+","+o+" 0 "+u+",0 "+o*g+","+o*h+"Z":"M"+a*g+","+a*h+"A"+a+","+a+" 0 "+u+",1 "+a*d+","+a*f+"L0,0Z"},e.mergeAttrs=function(t,n){for(var i in n)"class"===i?t[i]=t[i]?t[i]+" "+n[i]:n[i]:"style"===i?e.isObject(t[i])&&e.isObject(n[i])?t[i]=e.mergeAttrs(t[i],n[i]):e.isObject(t[i])?t[i]=e.mergeAttrs(t[i],e.styleToObject(n[i])):e.isObject(n[i])?t[i]=e.mergeAttrs(e.styleToObject(t[i]),n[i]):t[i]=e.mergeAttrs(e.styleToObject(t[i]),e.styleToObject(n[i])):t[i]=n[i];return t},e.annotateString=function(t,n,i){n=n||[];for(var r,o,a,s=(i=i||{}).offset||0,l=[],c=[],u=0;u<t.length;u++){o=c[u]=t[u];for(var g=0;g<n.length;g++){var h=n[g],d=h.start+s,f=h.end+s;u>=d&&u<f&&(e.isObject(o)?o.attrs=e.mergeAttrs(e.mergeAttrs({},o.attrs),h.attrs):o=c[u]={t:t[u],attrs:h.attrs},i.includeAnnotationIndices&&(o.annotations||(o.annotations=[])).push(g))}(a=c[u-1])?e.isObject(o)&&e.isObject(a)?JSON.stringify(o.attrs)===JSON.stringify(a.attrs)?r.t+=o.t:(l.push(r),r=o):e.isObject(o)?(l.push(r),r=o):e.isObject(a)?(l.push(r),r=o):r=(r||"")+o:r=o}return r&&l.push(r),l},e.findAnnotationsAtIndex=function(t,e){var n=[];return t&&t.forEach(function(t){t.start<e&&e<=t.end&&n.push(t)}),n},e.findAnnotationsBetweenIndexes=function(t,e,n){var i=[];return t&&t.forEach(function(t){(e>=t.start&&e<t.end||n>t.start&&n<=t.end||t.start>=e&&t.end<n)&&i.push(t)}),i},e.shiftAnnotations=function(t,e,n){return t&&t.forEach(function(t){t.start<e&&t.end>=e?t.end+=n:t.start>=e&&(t.start+=n,t.end+=n)}),t},e.convertLineToPathData=function(t){return["M",(t=e(t)).attr("x1"),t.attr("y1"),"L",t.attr("x2"),t.attr("y2")].join(" ")},e.convertPolygonToPathData=function(t){var n=e.getPointsFromSvgNode(e(t).node);return n.length>0?e.svgPointsToPath(n)+" Z":null},e.convertPolylineToPathData=function(t){var n=e.getPointsFromSvgNode(e(t).node);return n.length>0?e.svgPointsToPath(n):null},e.svgPointsToPath=function(t){var e;for(e=0;e<t.length;e++)t[e]=t[e].x+" "+t[e].y;return"M "+t.join(" L")},e.getPointsFromSvgNode=function(t){var n=[],i=(t=e.toNode(t)).points;if(i)for(var r=0;r<i.numberOfItems;r++)n.push(i.getItem(r));return n},e.KAPPA=.5522847498307935,e.convertCircleToPathData=function(t){t=e(t);var n=parseFloat(t.attr("cx"))||0,i=parseFloat(t.attr("cy"))||0,r=parseFloat(t.attr("r")),o=r*e.KAPPA;return["M",n,i-r,"C",n+o,i-r,n+r,i-o,n+r,i,"C",n+r,i+o,n+o,i+r,n,i+r,"C",n-o,i+r,n-r,i+o,n-r,i,"C",n-r,i-o,n-o,i-r,n,i-r,"Z"].join(" ")},e.convertEllipseToPathData=function(t){t=e(t);var n=parseFloat(t.attr("cx"))||0,i=parseFloat(t.attr("cy"))||0,r=parseFloat(t.attr("rx")),o=parseFloat(t.attr("ry"))||r,a=r*e.KAPPA,s=o*e.KAPPA;return["M",n,i-o,"C",n+a,i-o,n+r,i-s,n+r,i,"C",n+r,i+s,n+a,i+o,n,i+o,"C",n-a,i+o,n-r,i+s,n-r,i,"C",n-r,i-s,n-a,i-o,n,i-o,"Z"].join(" ")},e.convertRectToPathData=function(t){return t=e(t),e.rectToPath({x:parseFloat(t.attr("x"))||0,y:parseFloat(t.attr("y"))||0,width:parseFloat(t.attr("width"))||0,height:parseFloat(t.attr("height"))||0,rx:parseFloat(t.attr("rx"))||0,ry:parseFloat(t.attr("ry"))||0})},e.rectToPath=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=Math.min(t.rx||t["top-rx"]||0,i/2),a=Math.min(t.rx||t["bottom-rx"]||0,i/2),s=Math.min(t.ry||t["top-ry"]||0,r/2),l=Math.min(t.ry||t["bottom-ry"]||0,r/2);return(o||a||s||l?["M",e,n+s,"v",r-s-l,"a",a,l,0,0,0,a,l,"h",i-2*a,"a",a,l,0,0,0,a,-l,"v",-(r-l-s),"a",o,s,0,0,0,-o,-s,"h",-(i-2*o),"a",o,s,0,0,0,-o,s,"Z"]:["M",e,n,"H",e+i,"V",n+r,"H",e,"V",n,"Z"]).join(" ")},e.namespace=t,e}();var h={version:"2.0.1",config:{classNamePrefix:"joint-",defaultTheme:"default"},dia:{},ui:{},layout:{},shapes:{},format:{},connectors:{},highlighters:{},routers:{},mvc:{views:{}},setTheme:function(t,e){e=e||{},h.util.invoke(h.mvc.views,"setTheme",t,e),h.mvc.View.prototype.defaultTheme=t},env:{_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return h.env._tests[t]=e},test:function(t){var e=h.env._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=h.env._results[t];if(void 0!==n)return n;try{n=e()}catch(t){n=!1}return h.env._results[t]=n,n}},util:{hashCode:function(t){var e=0;if(0==t.length)return e;for(var n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n),e&=e}return e},getByPath:function(t,e,n){for(var i,r=Array.isArray(e)?e.slice():e.split(n||"/");r.length;){if(i=r.shift(),!(Object(t)===t&&i in t))return;t=t[i]}return t},setByPath:function(t,e,n,i){for(var r=Array.isArray(e)?e:e.split(i||"/"),o=t,a=0,s=r.length;a<s-1;a++)o=o[r[a]]||(o[r[a]]={});return o[r[s-1]]=n,t},unsetByPath:function(t,e,n){n=n||"/";var i=Array.isArray(e)?e.slice():e.split(n),r=i.pop();if(i.length>0){var o=h.util.getByPath(t,i,n);o&&delete o[r]}else delete t[r];return t},flattenObject:function(t,e,n){e=e||"/";var i={};for(var r in t)if(t.hasOwnProperty(r)){var o="object"==typeof t[r];if(o&&n&&n(t[r])&&(o=!1),o){var a=this.flattenObject(t[r],e,n);for(var s in a)a.hasOwnProperty(s)&&(i[r+e+s]=a[s])}else i[r]=t[r]}return i},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},guid:function(t){return this.guid.id=this.guid.id||1,t.id=void 0===t.id?"j_"+this.guid.id++:t.id,t.id},toKebabCase:function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},mixin:r.assign,supplement:r.defaults,deepMixin:r.mixin,deepSupplement:r.defaultsDeep,normalizeEvent:function(t){var e=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(e){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}return t},nextFrame:function(){var t;if("undefined"!=typeof window&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=setTimeout(function(){t(n+i)},i);return e=n+i,r}}return function(e,n){return t(n?e.bind(n):e)}}(),cancelFrame:function(){var t,e="undefined"!=typeof window;return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),shapePerimeterConnectionPoint:function(t,e,n,i){var r,o;if(!n){var a=e.$(".scalable")[0],s=e.$(".rotatable")[0];a&&a.firstChild?n=a.firstChild:s&&s.firstChild&&(n=s.firstChild)}return n?(o=u(n).findIntersection(i,t.paper.viewport))||(r=u(n).getBBox({target:t.paper.viewport})):o=(r=e.model.getBBox()).intersectionWithLineFromCenterToPoint(i),o||r.center()},parseCssNumeric:function(t,e){e=e||[];var n={value:parseFloat(t)};if(Number.isNaN(n.value))return null;var i=e.join("|");if(h.util.isString(t)){var r=new RegExp("(\\d+)("+i+")$").exec(t);if(!r)return null;r[2]&&(n.unit=r[2])}return n},breakText:function(t,e,n,i){i=i||{};var r=e.width,o=e.height,a=i.svgDocument||u("svg").node,s=u("<text><tspan></tspan></text>").attr(n||{}).node,l=s.firstChild,c=document.createTextNode("");s.style.opacity=0,s.style.display="block",l.style.display="block",l.appendChild(c),a.appendChild(s),i.svgDocument||document.body.appendChild(a);for(var g,d,f=t.split(" "),p=[],I=[],m=0,A=0,C=f.length;m<C;m++){var v=f[m];if(c.data=I[A]?I[A]+" "+v:v,l.getComputedTextLength()<=r)I[A]=c.data,g&&(p[A++]=!0,g=0);else{if(!I[A]||g){var y=!!g;if(g=v.length-1,y||!g){if(!g){if(!I[A]){I=[];break}f.splice(m,2,v+f[m+1]),C--,p[A++]=!0,m--;continue}f[m]=v.substring(0,g),f[m+1]=v.substring(g)+f[m+1]}else f.splice(m,1,v.substring(0,g),v.substring(g)),C++,A&&!p[A-1]&&A--;m--;continue}A++,m--}if(void 0!==o){var b;if(void 0===d)d=(b="auto"===n.lineHeight?{value:1.5,unit:"em"}:h.util.parseCssNumeric(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===b.unit&&(d*=s.getBBox().height);if(d*I.length>o){I.splice(Math.floor(o/d));break}}}return i.svgDocument?a.removeChild(s):document.body.removeChild(a),I.join("\n")},imageToDataUri:function(t,e){if(!t||"data:"===t.substr(0,"data:".length))return setTimeout(function(){e(null,t)},0);var n=new XMLHttpRequest;n.open("GET",t,!0),n.addEventListener("error",function(){e(new Error("Failed to load image "+t))}),n.responseType=window.FileReader?"blob":"arraybuffer",n.addEventListener("load",function(){window.FileReader?function(e,n){if(200===e.status){var i=new FileReader;i.onload=function(t){var e=t.target.result;n(null,e)},i.onerror=function(){n(new Error("Failed to load image "+t))},i.readAsDataURL(e.response)}else n(new Error("Failed to load image "+t))}(n,e):function(e,n){if(200===e.status){var i=new Uint8Array(e.response),r=t.split(".").pop()||"png";n(null,"data:image/"+({svg:"svg+xml"}[r]||r)+";base64,"+btoa(function(t){for(var e=[],n=0;n<t.length;n+=32768)e.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return e.join("")}(i)))}else n(new Error("Failed to load image "+t))}(n,e)}),n.send()},getElementBBox:function(t){var e=o(t);if(0===e.length)throw new Error("Element not found");var n=e[0],i=n.ownerDocument,r=n.getBoundingClientRect(),a=0,s=0;if(n.ownerSVGElement){var l=u(n),c=l.getBBox({target:l.svg()});a=r.width-c.width,s=r.height-c.height}return{x:r.left+window.pageXOffset-i.documentElement.offsetLeft+a/2,y:r.top+window.pageYOffset-i.documentElement.offsetTop+s/2,width:r.width-a,height:r.height-s}},sortElements:function(t,e){var n=o(t),i=n.map(function(){var t=this.parentNode,e=t.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(t===this)throw new Error("You can't sort elements if any one is a descendant of another.");t.insertBefore(this,e),t.removeChild(e)}});return Array.prototype.sort.call(n,e).each(function(t){i[t].call(this)})},setAttributesBySelector:function(t,e){var n=o(t);h.util.forIn(e,function(t,e){var i=n.find(e).addBack().filter(e);h.util.has(t,"class")&&(i.addClass(t.class),t=h.util.omit(t,"class")),i.attr(t)})},normalizeSides:function(t){return Object(t)!==t?{top:t=t||0,bottom:t,left:t,right:t}:{top:t.top||0,bottom:t.bottom||0,left:t.left||0,right:t.right||0}},timing:{linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var i=(11-6*e-11*t)/4;return-i*i+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(i){var r=t(i);return r<e?e:r>n?n:r}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},interpolate:{number:function(t,e){var n=e-t;return function(e){return t+n*e}},object:function(t,e){var n=Object.keys(t);return function(i){var r,o,a={};for(r=n.length-1;-1!=r;r--)a[o=n[r]]=t[o]+(e[o]-t[o])*i;return a}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),i=parseInt(e.slice(1),16),r=255&n,o=(255&i)-r,a=65280&n,s=(65280&i)-a,l=16711680&n,c=(16711680&i)-l;return function(t){return"#"+(1<<24|r+o*t&255|a+s*t&65280|l+c*t&16711680).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(t),r=n.exec(e),o=r[1].indexOf("."),a=o>0?r[1].length-o-1:0;t=+i[1];var s=+r[1]-t,l=i[2];return function(e){return(t+s*e).toFixed(a)+l}}},filter:{outline:function(t){var e=Number.isFinite(t.margin)?t.margin:2,n=Number.isFinite(t.width)?t.width:1;return h.util.template('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:e+n,innerRadius:e})},highlight:function(t){return h.util.template('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return h.util.template('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return h.util.template(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return h.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return h.util.template('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return h.util.template('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return h.util.template('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return h.util.template('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return h.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return h.util.template('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},format:{number:function(t,e,n){function i(t){for(var e=t.length,i=[],r=0,o=n.grouping[0];e>0&&o>0;)i.push(t.substring(e-=o,e+o)),o=n.grouping[r=(r+1)%n.grouping.length];return i.reverse().join(n.thousands)}n=n||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i.exec(t),o=r[1]||" ",a=r[2]||">",s=r[3]||"",l=r[4]||"",c=r[5],u=+r[6],g=r[7],h=r[8],d=r[9],f=1,p="",I="",m=!1;switch(h&&(h=+h.substring(1)),(c||"0"===o&&"="===a)&&(c=o="0",a="=",g&&(u-=Math.floor((u-1)/4))),d){case"n":g=!0,d="g";break;case"%":f=100,I="%",d="f";break;case"p":f=100,I="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+d.toLowerCase());break;case"c":case"d":m=!0,h=0;break;case"s":f=-1,d="r"}"$"===l&&(p=n.currency[0],I=n.currency[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h))));var A=c&&g;if(m&&e%1)return"";var C=e<0||0===e&&1/e<0?(e=-e,"-"):s,v=I;if(f<0){var y=this.prefix(e,h);e=y.scale(e),v=y.symbol+I}else e*=f;var b=(e=this.convert(d,e,h)).lastIndexOf("."),w=b<0?e:e.substring(0,b),x=b<0?"":n.decimal+e.substring(b+1);!c&&g&&n.grouping&&(w=i(w));var N=p.length+w.length+x.length+(A?0:C.length),M=N<u?new Array(N=u-N+1).join(o):"";return A&&(w=i(M+w)),C+=p,e=w+x,("<"===a?C+e+M:">"===a?M+C+e:"^"===a?M.substring(0,N>>=1)+C+e+M.substring(N):C+(A?e:M+e))+v},string:function(t,e){for(var n,i="{",r=!1,o=[];-1!==(n=t.indexOf(i));){var a,s,l;if(a=t.slice(0,n),r){l=(s=a.split(":")).shift().split("."),a=e;for(var c=0;c<l.length;c++)a=a[l[c]];s.length&&(a=this.number(s,a))}o.push(a),t=t.slice(n+1),i=(r=!r)?"}":"{"}return o.push(t),o.join("")},convert:function(t,e,n){switch(t){case"b":return e.toString(2);case"c":return String.fromCharCode(e);case"o":return e.toString(8);case"x":return e.toString(16);case"X":return e.toString(16).toUpperCase();case"g":return e.toPrecision(n);case"e":return e.toExponential(n);case"f":return e.toFixed(n);case"r":return(e=this.round(e,this.precision(e,n))).toFixed(Math.max(0,Math.min(20,this.precision(e*(1+1e-15),n))));default:return e+""}},round:function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},precision:function(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)},prefix:function(t,e){var n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}),i=0;return t&&(t<0&&(t*=-1),e&&(t=this.round(t,this.precision(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i<=0?i+1:i-1)/3)))),n[8+i/3]}},template:function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^\{\} ]+) ?\}|\{\{([^\{\} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(t){for(var e=Array.from(arguments).slice(1,4).find(function(t){return!!t}).split("."),i=n[e.shift()];void 0!==i&&e.length;)i=i[e.shift()];return void 0!==i?i:""})}},toggleFullScreen:function(t){function e(t,e){for(var n=["webkit","moz","ms","o",""],i=0;i<n.length;i++){var r=n[i],o=r?r+e:e.substr(0,1).toLowerCase()+e.substr(1);if(void 0!==t[o])return h.util.isFunction(t[o])?t[o]():t[o]}}var n=window.top.document;t=t||n.body,e(n,"FullscreenElement")||e(n,"FullScreenElement")?e(n,"ExitFullscreen")||e(n,"CancelFullScreen"):e(t,"RequestFullscreen")||e(t,"RequestFullScreen")},addClassNamePrefix:function(t){return t?t.toString().split(" ").map(function(t){return t.substr(0,h.config.classNamePrefix.length)!==h.config.classNamePrefix&&(t=h.config.classNamePrefix+t),t}).join(" "):t},removeClassNamePrefix:function(t){return t?t.toString().split(" ").map(function(t){return t.substr(0,h.config.classNamePrefix.length)===h.config.classNamePrefix&&(t=t.substr(h.config.classNamePrefix.length)),t}).join(" "):t},wrapWith:function(t,e,n){if(h.util.isString(n)){if(!h.util.wrappers[n])throw new Error('Unknown wrapper: "'+n+'"');n=h.util.wrappers[n]}if(!h.util.isFunction(n))throw new Error("Wrapper must be a function.");this.toArray(e).forEach(function(e){t[e]=n(t[e])})},wrappers:{cells:function(t){return function(){var e=Array.from(arguments),n=e.length,i=n>0&&e[0]||[],r=n>1&&e[n-1]||{};return Array.isArray(i)||(r instanceof h.dia.Cell?i=e:i instanceof h.dia.Cell&&(e.length>1&&e.pop(),i=e)),r instanceof h.dia.Cell&&(r={}),t.call(this,i,r)}}},sortedIndex:r.sortedIndexBy||r.sortedIndex,uniq:r.uniqBy||r.uniq,uniqueId:r.uniqueId,sortBy:r.sortBy,isFunction:r.isFunction,result:r.result,union:r.union,invoke:r.invokeMap||r.invoke,difference:r.difference,intersection:r.intersection,omit:r.omit,pick:r.pick,has:r.has,bindAll:r.bindAll,assign:r.assign,defaults:r.defaults,defaultsDeep:r.defaultsDeep,isPlainObject:r.isPlainObject,isEmpty:r.isEmpty,isEqual:r.isEqual,noop:function(){},cloneDeep:r.cloneDeep,toArray:r.toArray,flattenDeep:r.flattenDeep,camelCase:r.camelCase,groupBy:r.groupBy,forIn:r.forIn,without:r.without,debounce:r.debounce,clone:r.clone,isBoolean:function(t){var e=Object.prototype.toString;return!0===t||!1===t||!!t&&"object"==typeof t&&"[object Boolean]"===e.call(t)},isObject:function(t){return!!t&&("object"==typeof t||"function"==typeof t)},isNumber:function(t){var e=Object.prototype.toString;return"number"==typeof t||!!t&&"object"==typeof t&&"[object Number]"===e.call(t)},isString:function(t){var e=Object.prototype.toString;return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===e.call(t)},merge:function(){if(r.mergeWith){var t=Array.from(arguments),e=t[t.length-1],n=this.isFunction(e)?e:this.noop;return t.push(function(t,e){var i=n(t,e);return void 0!==i?i:Array.isArray(t)&&!Array.isArray(e)?e:void 0}),r.mergeWith.apply(this,t)}return r.merge.apply(this,arguments)}}};h.mvc.View=i.View.extend({options:{},theme:null,themeClassNamePrefix:h.util.addClassNamePrefix("theme-"),requireSetThemeOverride:!1,defaultTheme:h.config.defaultTheme,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=h.util.assign({},this.options,t),i.View.call(this,t)},initialize:function(t){h.util.bindAll(this,"setTheme","onSetTheme","remove","onRemove"),h.mvc.views[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},_ensureElement:function(){if(this.el)this.setElement(h.util.result(this,"el"));else{var t=h.util.result(this,"tagName"),e=h.util.assign({},h.util.result(this,"attributes"));this.id&&(e.id=h.util.result(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_createElement:function(t){return this.svgElement?document.createElementNS(u.namespace.xmlns,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof i.$?t:i.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=u(this.el))},_ensureElClassName:function(){var t=h.util.result(this,"className"),e=h.util.addClassNamePrefix(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)},init:function(){},onRender:function(){},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),h.mvc.views[this.cid]=null,i.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid}},{extend:function(){var t=Array.from(arguments),e=t[0]&&h.util.assign({},t[0])||{},n=t[1]&&h.util.assign({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return r&&r.apply(this,arguments),this.onRender(),this},i.View.extend.call(this,e,n)}}),h.dia.GraphCells=i.Collection.extend({cellNamespace:h.shapes,initialize:function(t,e){e.cellNamespace&&(this.cellNamespace=e.cellNamespace),this.graph=e.graph},model:function(t,e){var n=e.collection,i=n.cellNamespace,r=new("link"===t.type?h.dia.Link:h.util.getByPath(i,t.type,".")||h.dia.Element)(t,e);return r.graph=n.graph,r},comparator:function(t){return t.get("z")||0}}),h.dia.Graph=i.Model.extend({_batches:{},initialize:function(t,e){e=e||{};var n=new h.dia.GraphCells([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});i.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this.on("batch:stop",this._onBatchStop,this),this._out={},this._in={},this._nodes={},this._edges={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.hasActiveBatch("to-front")||this.hasActiveBatch("to-back")||this.get("cells").sort()},_onBatchStop:function(t){var e=t&&t.batchName;"to-front"!==e&&"to-back"!==e||this.hasActiveBatch(e)||this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var e=t.get("source"),n=t.get("target");e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var e=t.get("source"),n=t.get("target");e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.get("source");n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=i.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return"object"==typeof t?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=h.util.omit(r,"cells")),i.Model.prototype.set.call(this,r,n)},clear:function(t){t=h.util.assign({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);var n=e.sortBy(function(t){return t.isLink()?1:2});do{n.shift().remove(t)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof i.Model?(n=t.attributes,t.graph||e&&e.dry||(t.graph=this)):n=t,!h.util.isString(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof i.Model?t.has("z")||t.set("z",this.maxZIndex()+1):void 0===t.z&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length&&(t=h.util.flattenDeep(t),e.position=t.length,this.startBatch("add"),t.forEach(function(t){e.position--,this.addCell(t,e)},this),this.stopBatch("add")),this},resetCells:function(t,e){var n=h.util.toArray(t).map(function(t){return this._prepareCell(t,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),h.util.invoke(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return Object.keys(this._nodes).map(this.getCell,this)},getLinks:function(){return Object.keys(this._edges).map(this.getCell,this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){var n=(e=e||{}).inbound,i=e.outbound;void 0===n&&void 0===i&&(n=i=!0);var r=[],o={};if(i&&h.util.forIn(this.getOutboundEdges(t.id),function(t,e){o[e]||(r.push(this.getCell(e)),o[e]=!0)}.bind(this)),n&&h.util.forIn(this.getInboundEdges(t.id),function(t,e){o[e]||(r.push(this.getCell(e)),o[e]=!0)}.bind(this)),e.deep){var a=t.getEmbeddedCells({deep:!0}),s={};a.forEach(function(t){t.isLink()&&(s[t.id]=!0)}),a.forEach(function(t){t.isLink()||(i&&h.util.forIn(this.getOutboundEdges(t.id),function(t,e){o[e]||s[e]||(r.push(this.getCell(e)),o[e]=!0)}.bind(this)),n&&h.util.forIn(this.getInboundEdges(t.id),function(t,e){o[e]||s[e]||(r.push(this.getCell(e)),o[e]=!0)}.bind(this)))},this)}return r},getNeighbors:function(t,e){var n=(e=e||{}).inbound,i=e.outbound;void 0===n&&void 0===i&&(n=i=!0);var r=this.getConnectedLinks(t,e).reduce(function(r,o){var a=o.get("source"),s=o.get("target"),l=o.hasLoop(e);if(n&&h.util.has(a,"id")&&!r[a.id]){var c=this.getCell(a.id);!l&&(!c||c===t||e.deep&&c.isEmbeddedIn(t))||(r[a.id]=c)}if(i&&h.util.has(s,"id")&&!r[s.id]){var u=this.getCell(s.id);!l&&(!u||u===t||e.deep&&u.isEmbeddedIn(t))||(r[s.id]=u)}return r}.bind(this),{});return h.util.toArray(r)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(t){for(var e=[],n=t.get("parent");n;)e.push(n),n=this.getCell(n).get("parent");return e},this);t=t.sort(function(t,e){return t.length-e.length});var e=h.util.toArray(t.shift()).find(function(e){return t.every(function(t){return t.includes(e)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(e){e!==t&&n.push(e)},h.util.assign({},e,{outbound:!0})),n},cloneCells:function(t){t=h.util.uniq(t);var e=h.util.toArray(t).reduce(function(t,e){return t[e.id]=e.clone(),t},{});return h.util.toArray(t).forEach(function(t){var n=e[t.id];if(n.isLink()){var i=n.get("source"),r=n.get("target");i.id&&e[i.id]&&n.prop("source/id",e[i.id].id),r.id&&e[r.id]&&n.prop("target/id",e[r.id].id)}var o=t.get("parent");o&&e[o]&&n.set("parent",e[o].id);var a=h.util.toArray(t.get("embeds")).reduce(function(t,n){return e[n]&&t.push(e[n].id),t},[]);h.util.isEmpty(a)||n.set("embeds",a)}),e},cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],i={},r=[],o=[];return h.util.toArray(t).forEach(function(t){(i[t.id]||(n.push(t),i[t.id]=t,t.isLink()?o.push(t):r.push(t)),e.deep)&&t.getEmbeddedCells({deep:!0}).forEach(function(t){i[t.id]||(n.push(t),i[t.id]=t,t.isLink()?o.push(t):r.push(t))})}),o.forEach(function(t){var e=t.get("source"),o=t.get("target");if(e.id&&!i[e.id]){var a=this.getCell(e.id);n.push(a),i[a.id]=a,r.push(a)}if(o.id&&!i[o.id]){var s=this.getCell(o.id);n.push(this.getCell(o.id)),i[s.id]=s,r.push(s)}},this),r.forEach(function(t){this.getConnectedLinks(t,e).forEach(function(t){var e=t.get("source"),r=t.get("target");!i[t.id]&&e.id&&i[e.id]&&r.id&&i[r.id]&&(n.push(t),i[t.id]=t)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(e){e!==t&&n.push(e)},h.util.assign({},e,{inbound:!0})),n},search:function(t,e,n){(n=n||{}).breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n){n=n||{};var i={},r={},o=[];for(o.push(t),r[t.id]=0;o.length>0;){var a=o.shift();if(!i[a.id]){if(i[a.id]=!0,!1===e(a,r[a.id]))return;this.getNeighbors(a,n).forEach(function(t){r[t.id]=r[a.id]+1,o.push(t)})}}},dfs:function(t,e,n,i,r){n=n||{};var o=i||{},a=r||0;!1!==e(t,a)&&(o[t.id]=!0,this.getNeighbors(t,n).forEach(function(t){o[t.id]||this.dfs(t,e,n,o,a+1)},this))},getSources:function(){var t=[];return h.util.forIn(this._nodes,function(e,n){this._in[n]&&!h.util.isEmpty(this._in[n])||t.push(this.getCell(n))}.bind(this)),t},getSinks:function(){var t=[];return h.util.forIn(this._nodes,function(e,n){this._out[n]&&!h.util.isEmpty(this._out[n])||t.push(this.getCell(n))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||h.util.isEmpty(this._in[t.id])},isSink:function(t){return!this._out[t.id]||h.util.isEmpty(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(i){if(i===e&&i!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(i){if(i===e&&i!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){var i=(n=n||{}).inbound,r=n.outbound;void 0===i&&void 0===r&&(i=r=!0);var o=!1;return this.getConnectedLinks(t,n).forEach(function(t){var n=t.get("source"),a=t.get("target");return i&&h.util.has(n,"id")&&n.id===e.id?(o=!0,!1):r&&h.util.has(a,"id")&&a.id===e.id?(o=!0,!1):void 0}),o},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.get("source").id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){h.util.invoke(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(function(e){return e.getBBox().containsPoint(t)})},findModelsInArea:function(t,e){t=g.rect(t);var n=(e=h.util.defaults(e||{},{strict:!1})).strict?"containsRect":"intersect";return this.getElements().filter(function(e){return t[n](e.getBBox())})},findModelsUnderElement:function(t,e){e=h.util.defaults(e||{},{searchBy:"bbox"});var n=t.getBBox();return("bbox"===e.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[e.searchBy]())).filter(function(e){return t.id!==e.id&&!e.isEmbeddedIn(t)})},getBBox:function(t,e){return this.getCellsBBox(t||this.getElements(),e)},getCellsBBox:function(t,e){return h.util.toArray(t).reduce(function(t,n){return n.isLink()?t:t?t.union(n.getBBox(e)):n.getBBox(e)},null)},translate:function(t,e,n){var i=this.getCells().filter(function(t){return!t.isEmbedded()});return h.util.invoke(i,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,i){var r=this.getCellsBBox(n);if(r){var o=Math.max(t/r.width,0),a=Math.max(e/r.height,0);h.util.invoke(n,"scale",o,a,r.origin(),i)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",h.util.assign({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",h.util.assign({},e,{batchName:t}))},hasActiveBatch:function(t){return t?!!this._batches[t]:h.util.toArray(this._batches).some(function(t){return t>0})}}),h.util.wrapWith(h.dia.Graph.prototype,["resetCells","addCells","removeCells"],"cells"),function(t,e,n,i,r){function o(t){return r.isString(t)&&"%"===t.slice(-1)}function a(t,e){return function(n,i){var r=o(n);n=parseFloat(n),r&&(n/=100);var a={};if(isFinite(n)){var s=r||n>=0&&n<=1?n*i[e]:Math.max(n+i[e],0);a[t]=s}return a}}function s(t,e,i){return function(r,a){var s,l=o(r);if(r=parseFloat(r),l&&(r/=100),isFinite(r)){var c=a[i]();s=l||r>0&&r<1?c[t]+a[e]*r:c[t]+r}var u=n.Point();return u[t]=s||0,u}}function l(t,e,i){return function(r,a){var s;s="middle"===r?a[e]/2:r===i?a[e]:isFinite(r)?r>-1&&r<1?-a[e]*r:-r:o(r)?a[e]*parseFloat(r)/100:0;var l=n.Point();return l[t]=-(a[t]+s),l}}var c=t.dia.attributes={xlinkHref:{set:"xlink:href"},xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},filter:{qualify:r.isPlainObject,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:r.isPlainObject,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},stroke:{qualify:r.isPlainObject,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},sourceMarker:{qualify:r.isPlainObject,set:function(t){return{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:r.isPlainObject,set:function(t){return t=r.assign({transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:r.isPlainObject,set:function(t){return{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{set:function(e,n,r,o){var a=i(r),s="joint-text",l=a.data(s),c=t.util.pick(o,"lineHeight","annotations","textPath","x","eol"),g=c.fontSize=o["font-size"]||o.fontSize,h=JSON.stringify([e,c]);void 0!==l&&l===h||(g&&r.setAttribute("font-size",g),u(r).text(""+e,c),a.data(s,h))}},textWrap:{qualify:r.isPlainObject,set:function(e,n,i,r){var a=e.width||0;o(a)?n.width*=parseFloat(a)/100:a<=0?n.width+=a:n.width=a;var s=e.height||0;o(s)?n.height*=parseFloat(s)/100:s<=0?n.height+=s:n.height=s;var l=t.util.breakText(""+e.text,n,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily},{svgDocument:this.paper.svg});u(i).text(l)}},lineHeight:{qualify:function(t,e,n){return void 0!==n.text}},textPath:{qualify:function(t,e,n){return void 0!==n.text}},annotations:{qualify:function(t,e,n){return void 0!==n.text}},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:r.isPlainObject,set:function(t,e,n){i(n).css(t)}},html:{set:function(t,e,n){i(n).html(t+"")}},ref:{},refX:{position:s("x","width","origin")},refY:{position:s("y","height","origin")},refDx:{position:s("x","width","corner")},refDy:{position:s("y","height","corner")},refWidth:{set:a("width","width")},refHeight:{set:a("height","height")},refRx:{set:a("rx","width")},refRy:{set:a("ry","height")},refCx:{set:a("cx","width")},refCy:{set:a("cy","height")},xAlignment:{offset:l("x","width","right")},yAlignment:{offset:l("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}}};c.refX2=c.refX,c.refY2=c.refY,c["ref-x"]=c.refX,c["ref-y"]=c.refY,c["ref-dy"]=c.refDy,c["ref-dx"]=c.refDx,c["ref-width"]=c.refWidth,c["ref-height"]=c.refHeight,c["x-alignment"]=c.xAlignment,c["y-alignment"]=c.yAlignment}(h,0,g,o,h.util),h.dia.Cell=i.Model.extend({constructor:function(t,e){var n,i=t||{};this.cid=h.util.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(i=this.parse(i,e)||{}),(n=h.util.result(this,"defaults"))&&(i=h.util.merge({},n,i)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){var t=this.constructor.prototype.defaults.attrs||{},e=this.attributes.attrs,n={};h.util.forIn(e,function(e,i){var r=t[i];h.util.forIn(e,function(t,e){h.util.isObject(t)&&!Array.isArray(t)?h.util.forIn(t,function(t,o){r&&r[e]&&h.util.isEqual(r[e][o],t)||(n[i]=n[i]||{},(n[i][e]||(n[i][e]={}))[o]=t)}):r&&h.util.isEqual(r[e],t)||(n[i]=n[i]||{},n[i][e]=t)})});var i=h.util.cloneDeep(h.util.omit(this.attributes,"attrs"));return i.attrs=n,i},initialize:function(t){t&&t.id||this.set("id",h.util.uuid(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},processPorts:function(){var t=this.ports,e={};h.util.forIn(this.get("attrs"),function(t,n){t&&t.port&&(void 0!==t.port.id?e[t.port.id]=t.port:e[t.port]={id:t.port})});var n={};(h.util.forIn(t,function(t,i){e[i]||(n[i]=!0)}),this.graph&&!h.util.isEmpty(n))&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(t){n[t.get("target").port]&&t.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(t){n[t.get("source").port]&&t.remove()}));this.ports=e},remove:function(t){t=t||{};var e=this.graph;e&&e.startBatch("remove");var n=this.get("parent");n&&(e&&e.getCell(n)).unembed(this);return h.util.invoke(this.getEmbeddedCells(),"remove",t),this.trigger("remove",this,this.collection,t),e&&e.stopBatch("remove"),this},toFront:function(t){if(this.graph){t=t||{};var e=(this.graph.getLastCell().get("z")||0)+1;if(this.startBatch("to-front").set("z",e,t),t.deep)this.getEmbeddedCells({deep:!0,breadthFirst:!0}).forEach(function(n){n.set("z",++e,t)});this.stopBatch("to-front")}return this},toBack:function(t){if(this.graph){t=t||{};var e=(this.graph.getFirstCell().get("z")||0)-1;if(this.startBatch("to-back"),t.deep)this.getEmbeddedCells({deep:!0,breadthFirst:!0}).reverse().forEach(function(n){n.set("z",e--,t)});this.set("z",e,t).stopBatch("to-back")}return this},embed:function(t,e){if(this===t||this.isEmbeddedIn(t))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var n=h.util.assign([],this.get("embeds"));return n[t.isLink()?"unshift":"push"](t.id),t.set("parent",this.id,e),this.set("embeds",h.util.uniq(n),e),this.stopBatch("embed"),this},unembed:function(t,e){return this.startBatch("unembed"),t.unset("parent",e),this.set("embeds",h.util.without(this.get("embeds"),t.id),e),this.stopBatch("unembed"),this},getAncestors:function(){var t=[],e=this.get("parent");if(!this.graph)return t;for(;void 0!==e;){var n=this.graph.getCell(e);if(void 0===n)break;t.push(n),e=n.get("parent")}return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var i=n.shift();e.push(i),n.push.apply(n,i.getEmbeddedCells())}}else(e=this.getEmbeddedCells()).forEach(function(n){e.push.apply(e,n.getEmbeddedCells(t))});else e=h.util.toArray(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=h.util.isString(t)?t:t.id,i=this.get("parent");if(e=h.util.defaults({deep:!0},e),this.graph&&e.deep){for(;i;){if(i===n)return!0;i=this.graph.getCell(i).get("parent")}return!1}return i===n},isEmbedded:function(){return!!this.get("parent")},clone:function(t){if((t=t||{}).deep)return h.util.toArray(h.dia.Graph.prototype.cloneCells.call(null,[this].concat(this.getEmbeddedCells({deep:!0}))));var e=i.Model.prototype.clone.apply(this,arguments);return e.set("id",h.util.uuid()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var i=h.util.isString(t);if(i||Array.isArray(t)){if(arguments.length>1){var r,o;i?o=(r=t).split("/"):(r=t.join("/"),o=t.slice());var a=o[0],s=o.length;if((n=n||{}).propertyPath=r,n.propertyValue=e,n.propertyPathArray=o,1===s)return this.set(a,e,n);for(var l={},c=l,u=a,g=1;g<s;g++){var d=o[g],f=Number.isFinite(i?Number(d):d);c=c[u]=f?[]:{},u=d}l=h.util.setByPath(l,o,e,"/");var p=h.util.merge({},this.attributes);n.rewrite&&h.util.unsetByPath(p,r,"/");var I=h.util.merge(p,l);return this.set(a,I[a],n)}return h.util.getByPath(this.attributes,t,"/")}return this.set(h.util.merge({},this.attributes,t),e)},removeProp:function(t,e){(e=e||{}).dirty=!0;var n=Array.isArray(t)?t:t.split("/");if(1===n.length)return this.unset(t,e);var i=n[0],r=n.slice(1),o=h.util.cloneDeep(this.get(i));return h.util.unsetByPath(o,r,"/"),this.set(i,o,e)},attr:function(t,e,n){var i=Array.from(arguments);return 0===i.length?this.get("attrs"):(Array.isArray(t)?i[0]=["attrs"].concat(t):h.util.isString(t)?i[0]="attrs/"+t:i[0]={attrs:t},this.prop.apply(this,i))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,i){i=i||"/";var r={duration:100,delay:10,timingFunction:h.util.timing.linear,valueFunction:h.util.interpolate.number};n=h.util.assign(r,n);var o,a=0,s=function(e){var i,r,l;(r=(e-=a=a||e)/n.duration)<1?this._transitionIds[t]=i=h.util.nextFrame(s):(r=1,delete this._transitionIds[t]),l=o(n.timingFunction(r)),n.transitionId=i,this.prop(t,l,n),i||this.trigger("transition:end",this,t)}.bind(this),l=function(r){this.stopTransitions(t),o=n.valueFunction(h.util.getByPath(this.attributes,t,i),e),this._transitionIds[t]=h.util.nextFrame(r),this.trigger("transition:start",this,t)}.bind(this);return setTimeout(l,n.delay,s)},getTransitions:function(){return Object.keys(this._transitionIds)},stopTransitions:function(t,e){e=e||"/";var n=t&&t.split(e);return Object.keys(this._transitionIds).filter(n&&function(t){return h.util.isEqual(n,t.split(e).slice(0,n.length))}).forEach(function(t){h.util.cancelFrame(this._transitionIds[t]),delete this._transitionIds[t],this.trigger("transition:end",this,t)},this),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,h.util.assign({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,h.util.assign({},e,{cell:this})),this}},{getAttributeDefinition:function(t){var e=this.attributes,n=h.dia.attributes;return e&&e[t]||n[t]},define:function(t,e,n,i){n=h.util.assign({defaults:h.util.defaultsDeep({type:t},e,this.prototype.defaults)},n);var r=this.extend(n,i);return h.util.setByPath(h.shapes,t,r,"."),r}}),h.dia.CellView=h.mvc.View.extend({tagName:"g",svgElement:!0,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(e,n,i){t.push("type-"+i.slice(0,n+1).join("-"))}),t.join(" ")},attributes:function(){return{"model-id":this.model.id}},constructor:function(t){t.id=t.id||h.util.guid(this),h.mvc.View.call(this,t)},init:function(){h.util.bindAll(this,"remove","update"),this.$el.data("view",this),this.$el.attr("data-type",this.model.get("type")),this.listenTo(this.model,"change:attrs",this.onChangeAttrs)},onChangeAttrs:function(t,e,n){return n.dirty?this.render():this.update(t,e,n)},can:function(t){var e=h.util.isFunction(this.options.interactive)?this.options.interactive(this):this.options.interactive;return h.util.isObject(e)&&!1!==e[t]||h.util.isBoolean(e)&&!1!==e},findBySelector:function(t,e){var n=o(e||this.el);return"."===t?n:n.find(t)},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getStrokeBBox:function(t){var e=!!t;t=t||this.el;var n,i=u(t).getBBox({target:this.paper.viewport});return n=e?u(t).attr("stroke-width"):this.model.attr("rect/stroke-width")||this.model.attr("circle/stroke-width")||this.model.attr("ellipse/stroke-width")||this.model.attr("path/stroke-width"),n=parseFloat(n)||0,g.rect(i).moveAndExpand({x:-n/2,y:-n/2,width:n,height:n})},getBBox:function(){return this.vel.getBBox({target:this.paper.svg})},highlight:function(t,e){return t=t&&this.$(t)[0]||this.el,(e=e||{}).partial=t!==this.el,this.notify("cell:highlight",t,e),this},unhighlight:function(t,e){return t=t&&this.$(t)[0]||this.el,(e=e||{}).partial=t!=this.el,this.notify("cell:unhighlight",t,e),this},findMagnet:function(t){var e=this.$(t),n=this.$el;0===e.length&&(e=n);do{var i=e.attr("magnet");if((i||e.is(n))&&"false"!==i)return e[0];e=e.parent()}while(e.length>0)},getSelector:function(t,e){if(t===this.el)return e;var n;if(t){var i=u(t).index()+1;n=t.tagName+":nth-child("+i+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){h.util.isEmpty(e)||(t instanceof SVGElement?u(t).attr(e):o(t).attr(e))},processNodeAttributes:function(t,e){var n,i,r,o,a,s,l,c,u,g=[];for(n in e)e.hasOwnProperty(n)&&(i=e[n],!(r=this.getAttributeDefinition(n))||h.util.isFunction(r.qualify)&&!r.qualify.call(this,i,t,e)?(s||(s={}),s[h.util.toKebabCase(n)]=i):(h.util.isString(r.set)&&(s||(s={}),s[r.set]=i),null!==i&&g.push(n,r)));for(o=0,a=g.length;o<a;o+=2)n=g[o],r=g[o+1],i=e[n],h.util.isFunction(r.set)&&(l||(l={}),l[n]=i),h.util.isFunction(r.position)&&(c||(c={}),c[n]=i),h.util.isFunction(r.offset)&&(u||(u={}),u[n]=i);return{raw:e,normal:s,set:l,position:c,offset:u}},updateRelativeAttributes:function(t,e,n,i){i||(i={});var r,o,a=e.raw||{},s=e.normal||{},l=e.set,c=e.position,d=e.offset;for(r in l){o=l[r];var f=this.getAttributeDefinition(r).set.call(this,o,n.clone(),t,a);h.util.isObject(f)?h.util.assign(s,f):void 0!==f&&(s[r]=f)}if(t instanceof HTMLElement)this.setNodeAttributes(t,s);else{var p,I,m,A=s.transform,C=u.transformStringToMatrix(A),v=g.Point(C.e,C.f);if(A&&(s=h.util.omit(s,"transform"),C.e=C.f=0),c||d){var y=this.getNodeScale(t,i.scalableNode);p=y.sx,I=y.sy}var b=!1;for(r in c)o=c[r],(m=this.getAttributeDefinition(r).position.call(this,o,n.clone(),t,a))&&(v.offset(g.Point(m).scale(p,I)),b||(b=!0));this.setNodeAttributes(t,s);var w=!1;if(d){var x=t.getBoundingClientRect();if(x.width>0&&x.height>0){var N=u.transformRect(t.getBBox(),C).scale(1/p,1/I);for(r in d)o=d[r],(m=this.getAttributeDefinition(r).offset.call(this,o,N,t,a))&&(v.offset(g.Point(m).scale(p,I)),w||(w=!0))}}(void 0!==A||b||w)&&(v.round(1),C.e=v.x,C.f=v.y,t.setAttribute("transform",u.matrixToTransformString(C)))}},getNodeScale:function(t,e){var n,i;if(e&&e.contains(t)){var r=e.scale();n=1/r.sx,i=1/r.sy}else n=1,i=1;return{sx:n,sy:i}},findNodesAttributes:function(t,e,n){var i={};for(var r in t)if(t.hasOwnProperty(r))for(var o=n[r]=this.findBySelector(r,e),a=0,s=o.length;a<s;a++){var l=o[a],c=u.ensureId(l),g=t[r],d=i[c];d?(d.merged||(d.merged=!0,d.attributes=h.util.cloneDeep(d.attributes)),h.util.merge(d.attributes,g)):i[c]={attributes:g,node:l,merged:!1}}return i},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=g.Rect());var i,r,o,a,s,l={},c={},h=[],d=n.roAttributes,f=this.findNodesAttributes(d||e,t,l),p=d?p=this.findNodesAttributes(e,t,l):f;for(var I in f)if(o=(a=f[I]).attributes,r=a.node,(s=this.processNodeAttributes(r,o)).set||s.position||s.offset){var m,A=p[I]&&p[I].attributes,C=A&&void 0===o.ref?A.ref:o.ref;if(C){if(!(m=(l[C]||this.findBySelector(C,t))[0]))throw new Error('dia.ElementView: "'+C+'" reference does not exists.')}else m=null;i={node:r,refNode:m,processedAttributes:s,allAttributes:A};var v=h.findIndex(function(t){return t.refNode===r});v>-1?h.splice(v,0,i):h.push(i)}else this.setNodeAttributes(r,s.normal);for(var y=0,b=h.length;y<b;y++){i=h[y],r=i.node;var w=(m=i.refNode)?u.ensureId(m):"",x=c[w];x||(x=c[w]=m?u(m).getBBox({target:n.rotatableNode||t}):n.rootBBox),d?(s=this.processNodeAttributes(r,i.allAttributes),this.mergeProcessedAttributes(s,i.processedAttributes)):s=i.processedAttributes,this.updateRelativeAttributes(r,s,x,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),h.util.assign(t.set,e.set),h.util.assign(t.position,e.position),h.util.assign(t.offset,e.offset);var n=t.normal&&t.normal.transform;void 0!==n&&e.normal&&(e.normal.transform=n),t.normal=e.normal},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},pointerdown:function(t,e,n){this.model.graph&&(this.model.startBatch("pointer"),this._graph=this.model.graph),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){this.notify("cell:pointerup",t,e,n),this._graph&&(this._graph.stopBatch("pointer",{cell:this.model}),delete this._graph)},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,i){this.notify("cell:mousewheel",t,e,n,i)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},event:function(t,e,n,i){this.notify(e,t,n,i)},setInteractivity:function(t){this.options.interactive=t}}),h.dia.Element=h.dia.Cell.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),h.dia.Cell.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},isElement:function(){return!0},position:function(t,e,n){var i=h.util.isNumber(e);if((n=(i?n:t)||{}).parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var r=this.graph.getCell(this.get("parent")),o=r&&!r.isLink()?r.get("position"):{x:0,y:0}}if(i){if(n.parentRelative&&(t+=o.x,e+=o.y),n.deep){var a=this.get("position");this.translate(t-a.x,e-a.y,n)}else this.set("position",{x:t,y:e},n);return this}var s=g.point(this.get("position"));return n.parentRelative?s.difference(o):s},translate:function(t,e,n){if(t=t||0,e=e||0,0===t&&0===e)return this;(n=n||{}).translateBy=n.translateBy||this.id;var i=this.get("position")||{x:0,y:0};if(n.restrictedArea&&n.translateBy===this.id){var r=this.getBBox({deep:!0}),o=n.restrictedArea,a=i.x-r.x,s=i.y-r.y,l=Math.max(o.x+a,Math.min(o.x+o.width+a-r.width,i.x+t)),c=Math.max(o.y+s,Math.min(o.y+o.height+s-r.height,i.y+e));t=l-i.x,e=c-i.y}var u={x:i.x+t,y:i.y+e};return n.tx=t,n.ty=e,n.transition?(h.util.isObject(n.transition)||(n.transition={}),this.transition("position",u,h.util.assign({},n.transition,{valueFunction:h.util.interpolate.object}))):this.set("position",u,n),h.util.invoke(this.getEmbeddedCells(),"translate",t,e,n),this},size:function(t,e,n){var i=this.get("size");return void 0===t?{width:i.width,height:i.height}:(h.util.isObject(t)&&(n=e,e=h.util.isNumber(t.height)?t.height:i.height,t=h.util.isNumber(t.width)?t.width:i.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var i=this.get("size");switch(n.direction){case"left":case"right":e=i.height;break;case"top":case"bottom":t=i.width}var r=g.normalizeAngle(this.get("angle")||0),o={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(o+=Math.floor((r+45)/90),o%=4);var a=this.getBBox(),s=a[["bottomLeft","corner","topRight","origin"][o]](),l=g.point(s).rotate(a.center(),-r),c=Math.sqrt(t*t+e*e)/2,u=o*Math.PI/2;u+=Math.atan(o%2==0?e/t:t/e),u-=g.toRad(r);var h=g.point.fromPolar(c,u,l),d=g.point(h).offset(t/-2,e/-2);this.set("size",{width:t,height:e},n),this.position(d.x,d.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,i){var r=this.getBBox().scale(t,e,n);return this.startBatch("scale",i),this.position(r.x,r.y,i),this.resize(r.width,r.height,i),this.stopBatch("scale"),this},fitEmbeds:function(t){if(t=t||{},!this.graph)throw new Error("Element must be part of a graph.");var e=this.getEmbeddedCells();if(e.length>0){this.startBatch("fit-embeds",t),t.deep&&h.util.invoke(e,"fitEmbeds",t);var n=this.graph.getCellsBBox(e),i=h.util.normalizeSides(t.padding);n.moveAndExpand({x:-i.left,y:-i.top,width:i.right+i.left,height:i.bottom+i.top}),this.set({position:{x:n.x,y:n.y},size:{width:n.width,height:n.height}},t),this.stopBatch("fit-embeds")}return this},rotate:function(t,e,n,i){if(n){var r=this.getBBox().center(),o=this.get("size"),a=this.get("position");r.rotate(n,this.get("angle")-t);var s=r.x-o.width/2-a.x,l=r.y-o.height/2-a.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(a.x+s,a.y+l,i),this.rotate(t,e,null,i),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,i);return this},getBBox:function(t){if((t=t||{}).deep&&this.graph){var e=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return e.push(this),this.graph.getCellsBBox(e)}var n=this.get("position"),i=this.get("size");return g.rect(n.x,n.y,i.width,i.height)}}),h.dia.ElementView=h.dia.CellView.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=h.dia.CellView.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){h.dia.CellView.prototype.initialize.apply(this,arguments);var t=this.model;this.listenTo(t,"change:position",this.translate),this.listenTo(t,"change:size",this.resize),this.listenTo(t,"change:angle",this.rotate),this.listenTo(t,"change:markup",this.render),this._initializePorts()},_initializePorts:function(){},update:function(t,e){this._removePorts();var n=this.model,i=n.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:g.Rect(n.size()),scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===i?null:e}),this._renderPorts()},renderMarkup:function(){var t=this.model.get("markup")||this.model.markup;if(!t)throw new Error("properties.markup is missing while the default render() implementation is used.");var e=h.util.template(t)(),n=u(e);this.vel.append(n)},render:function(){return this.$el.empty(),this.renderMarkup(),this.rotatableNode=this.vel.findOne(".rotatable"),(this.scalableNode=this.vel.findOne(".scalable"))&&this.update(),this.resize(),this.rotate(),this.translate(),this},resize:function(t,e,n){var i=this.model,r=i.get("size")||{width:1,height:1},o=i.get("angle")||0,a=this.scalableNode;if(!a)return 0!==o&&this.rotate(),void this.update();var s=!1;a.node.getElementsByTagName("path").length>0&&(s=!0);var l=a.getBBox({recursive:s}),c=r.width/(l.width||1),u=r.height/(l.height||1);a.attr("transform","scale("+c+","+u+")");var g=this.rotatableNode,h=g&&g.attr("transform");if(h&&"null"!==h){g.attr("transform",h+" rotate("+-o+","+r.width/2+","+r.height/2+")");var d=a.getBBox({target:this.paper.viewport});i.set("position",{x:d.x,y:d.y},n),this.rotate()}this.update()},translate:function(t,e,n){var i=this.model.get("position")||{x:0,y:0};this.vel.attr("transform","translate("+i.x+","+i.y+")")},rotate:function(){var t=this.rotatableNode;if(t){var e=this.model.get("angle")||0,n=this.model.get("size")||{width:1,height:1},i=n.width/2,r=n.height/2;0!==e?t.attr("transform","rotate("+e+","+i+","+r+")"):t.removeAttr("transform")}},getBBox:function(t){if(t&&t.useModelGeometry){var e=this.model.getBBox().bbox(this.model.get("angle"));return this.paper.localToPaperRect(e)}return h.dia.CellView.prototype.getBBox.apply(this,arguments)},prepareEmbedding:function(t){var e=(t=t||{}).model||this.model,n=(t.paper||this.paper).model;e.startBatch("to-front",t),e.toFront({deep:!0,ui:!0});var i=n.get("cells").max("z").get("z"),r=n.getConnectedLinks(e,{deep:!0});h.util.invoke(r,"set","z",i+1,{ui:!0}),e.stopBatch("to-front");var o=e.get("parent");o&&n.getCell(o).unembed(e,{ui:!0})},processEmbedding:function(t){var e=(t=t||{}).model||this.model,n=t.paper||this.paper,i=n.options,r=n.model.findModelsUnderElement(e,{searchBy:i.findParentBy});i.frontParentOnly&&(r=r.slice(-1));for(var o=null,a=this._candidateEmbedView,s=r.length-1;s>=0;s--){var l=r[s];if(a&&a.model.id==l.id){o=a;break}var c=l.findView(n);if(i.validateEmbedding.call(n,this,c)){o=c;break}}o&&o!=a&&(this.clearEmbedding(),this._candidateEmbedView=o.highlight(null,{embedding:!0})),!o&&a&&this.clearEmbedding()},clearEmbedding:function(){var t=this._candidateEmbedView;t&&(t.unhighlight(null,{embedding:!0}),this._candidateEmbedView=null)},finalizeEmbedding:function(t){t=t||{};var e=this._candidateEmbedView,n=t.model||this.model,i=t.paper||this.paper;e&&(e.model.embed(n,{ui:!0}),e.unhighlight(null,{embedding:!0}),delete this._candidateEmbedView),h.util.invoke(i.model.getConnectedLinks(n,{deep:!0}),"reparent",{ui:!0})},pointerdown:function(t,e,n){var i=this.paper;if(t.target.getAttribute("magnet")&&this.can("addLinkFromMagnet")&&i.options.validateMagnet.call(i,this,t.target)){this.model.startBatch("add-link");var r=i.getDefaultLink(this,t.target);r.set({source:{id:this.model.id,selector:this.getSelector(t.target),port:t.target.getAttribute("port")},target:{x:e,y:n}}),i.model.addCell(r);var o=this._linkView=i.findViewByModel(r);o.pointerdown(t,e,n),o.startArrowheadMove("target",{whenNotAllowed:"remove"})}else this._dx=e,this._dy=n,this.restrictedArea=i.getRestrictedArea(this),h.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("element:pointerdown",t,e,n)},pointermove:function(t,e,n){if(this._linkView)this._linkView.pointermove(t,e,n);else{var i=this.paper.options.gridSize;if(this.can("elementMove")){var r=this.model.get("position"),o=g.snapToGrid(r.x,i)-r.x+g.snapToGrid(e-this._dx,i),a=g.snapToGrid(r.y,i)-r.y+g.snapToGrid(n-this._dy,i);this.model.translate(o,a,{restrictedArea:this.restrictedArea,ui:!0}),this.paper.options.embeddingMode&&(this._inProcessOfEmbedding||(this.prepareEmbedding(),this._inProcessOfEmbedding=!0),this.processEmbedding())}this._dx=g.snapToGrid(e,i),this._dy=g.snapToGrid(n,i),h.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("element:pointermove",t,e,n)}},pointerup:function(t,e,n){this._linkView?(this._linkView.pointerup(t,e,n),this._linkView=null,this.model.stopBatch("add-link")):(this._inProcessOfEmbedding&&(this.finalizeEmbedding(),this._inProcessOfEmbedding=!1),this.notify("element:pointerup",t,e,n),h.dia.CellView.prototype.pointerup.apply(this,arguments))},mouseenter:function(t){h.dia.CellView.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){h.dia.CellView.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)}}),h.dia.Link=h.dia.Cell.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),labelMarkup:['<g class="label">',"<rect />","<text />","</g>"].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(){return this.set({source:g.point(0,0),target:g.point(0,0)})},label:function(t,e,n){return t=t||0,arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},translate:function(t,e,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(n){return{x:(n.x||0)+t,y:(n.y||0)+e}},n)},scale:function(t,e,n,i){return this.applyToPoints(function(i){return g.point(i).scale(t,e,n).toJSON()},i)},applyToPoints:function(t,e){if(!h.util.isFunction(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},i=this.get("source");i.id||(n.source=t(i));var r=this.get("target");r.id||(n.target=t(r));var o=this.get("vertices");return o&&o.length>0&&(n.vertices=o.map(t)),this.set(n,e)},reparent:function(t){var e;if(this.graph){var n=this.graph.getCell(this.get("source").id),i=this.graph.getCell(this.get("target").id),r=this.graph.getCell(this.get("parent"));n&&i&&(e=this.graph.getCommonAncestor(n,i)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var e=this.get("source").id,n=this.get("target").id;if(!e||!n)return!1;var i=e===n;if(!i&&t.deep&&this.graph){var r=this.graph.getCell(e),o=this.graph.getCell(n);i=r.isEmbeddedIn(o)||o.isEmbeddedIn(r)}return i},getSourceElement:function(){var t=this.get("source");return t&&t.id&&this.graph&&this.graph.getCell(t.id)||null},getTargetElement:function(){var t=this.get("target");return t&&t.id&&this.graph&&this.graph.getCell(t.id)||null},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(t){return!!t});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=h.util.isString(t)||h.util.isNumber(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}}),h.dia.LinkView=h.dia.CellView.extend({className:function(){var t=h.dia.CellView.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:100,doubleLinkTools:!1,longLinkLength:160,linkToolsOffset:40,doubleLinkToolsOffset:60,sampleInterval:50},_z:null,initialize:function(t){h.dia.CellView.prototype.initialize.apply(this,arguments),"function"!=typeof this.constructor.prototype.watchSource&&(this.constructor.prototype.watchSource=this.createWatcher("source"),this.constructor.prototype.watchTarget=this.createWatcher("target")),this._labelCache={},this._markerCache={},this.startListening()},startListening:function(){var t=this.model;this.listenTo(t,"change:markup",this.render),this.listenTo(t,"change:smooth change:manhattan change:router change:connector",this.update),this.listenTo(t,"change:toolMarkup",this.onToolsChange),this.listenTo(t,"change:labels change:labelMarkup",this.onLabelsChange),this.listenTo(t,"change:vertices change:vertexMarkup",this.onVerticesChange),this.listenTo(t,"change:source",this.onSourceChange),this.listenTo(t,"change:target",this.onTargetChange)},onSourceChange:function(t,e,n){this.watchSource(t,e),n.translateBy&&this.model.get("target").id||(n.updateConnectionOnly=!0,this.update(this.model,null,n))},onTargetChange:function(t,e,n){this.watchTarget(t,e),n.translateBy||(n.updateConnectionOnly=!0,this.update(this.model,null,n))},onVerticesChange:function(t,e,n){this.renderVertexMarkers(),n.translateBy&&n.translateBy!==this.model.id||(n.updateConnectionOnly=!0,this.update(t,null,n))},onToolsChange:function(){this.renderTools().updateToolsPosition()},onLabelsChange:function(t,e,n){var i=!0,r=this.model.previous("labels");if(r&&"propertyPathArray"in n&&"propertyValue"in n){var o=n.propertyPathArray||[],a=o.length;if(a>1)!!r[o[1]]&&(2===a?i="markup"in Object(n.propertyValue):"markup"!==o[2]&&(i=!1))}i?this.renderLabels():this.updateLabels(),this.updateLabelPositions()},render:function(){this.$el.empty();var t=this.model,e=t.get("markup")||t.markup,n=u(e);if(Array.isArray(n)||(n=[n]),this._V={},n.forEach(function(t){var e=t.attr("class");e&&(e=h.util.removeClassNamePrefix(e),this._V[o.camelCase(e)]=t)},this),!this._V.connection)throw new Error("link: no connection path in the markup");return this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(n),this.renderLabels(),this.watchSource(t,t.get("source")).watchTarget(t,t.get("target")).update(),this},renderLabels:function(){var t=this._V.labels;if(!t)return this;t.empty();var e=this.model,n=e.get("labels")||[],i=this._labelCache={},r=n.length;if(0===r)return this;for(var o=h.util.template(e.get("labelMarkup")||e.labelMarkup),a=u(o()),s=0;s<r;s++){var l=n[s].markup;(i[s]=l?u("g").append(u(l)):a.clone()).addClass("label").attr("label-idx",s).appendTo(t)}return this.updateLabels(),this},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model.get("labels")||[],e=this.can("labelMove"),n=0,i=t.length;n<i;n++){var r=this._labelCache[n],o=t[n];r.attr("cursor",e?"move":"default");var a=o.attrs;o.markup||(a=h.util.merge({text:{textAnchor:"middle",fontSize:14,fill:"#000000",pointerEvents:"none",yAlignment:"middle"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},a)),this.updateDOMSubtreeAttributes(r.node,a,{rootBBox:g.Rect(o.size)})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t,e=o(this._V.linkTools.node).empty(),n=h.util.template(this.model.get("toolMarkup")||this.model.toolMarkup),i=u(n());(e.append(i.node),this._toolCache=i,this.options.doubleLinkTools)&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(n=h.util.template(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),t=u(n())):t=i.clone(),e.append(t.node),this._tool2Cache=t);return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=o(this._V.markerVertices.node).empty(),e=h.util.template(this.model.get("vertexMarkup")||this.model.vertexMarkup);return h.util.toArray(this.model.get("vertices")).forEach(function(n,i){t.append(u(e(h.util.assign({idx:i},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=o(this._V.markerArrowheads.node);t.empty();var e=h.util.template(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=u(e({end:"source"})),this._V.targetArrowhead=u(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(t,e,n){return(n=n||{}).updateConnectionOnly||this.updateDOMSubtreeAttributes(this.el,this.model.attr()),this.updateConnection(n),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null,this.updatePostponed=!1,this},updateConnection:function(t){t=t||{};var e,n=this.model;if(t.translateBy&&n.isRelationshipEmbeddedIn(t.translateBy)){var i=t.tx||0,r=t.ty||0;e=this.route=h.util.toArray(this.route).map(function(t){return g.point(t).offset(i,r)}),this._translateConnectionPoints(i,r)}else e=this.route=this.findRoute(n.get("vertices")||[],t),this._findConnectionPoints(e);var o=this.getPathData(e);this._V.connection.attr("d",o),this._V.connectionWrap&&this._V.connectionWrap.attr("d",o),this._translateAndAutoOrientArrows(this._V.markerSource,this._V.markerTarget)},_findConnectionPoints:function(t){var e,n,i,r,o=h.util.toArray(t),a=o[0];e=this.getConnectionPoint("source",this.model.get("source"),a||this.model.get("target")).round();var s=o[o.length-1];n=this.getConnectionPoint("target",this.model.get("target"),s||e).round();var l=this._markerCache;this._V.markerSource&&(l.sourceBBox=l.sourceBBox||this._V.markerSource.getBBox(),i=g.point(e).move(a||n,l.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(l.targetBBox=l.targetBBox||this._V.markerTarget.getBBox(),r=g.point(n).move(s||e,l.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),l.sourcePoint=i||e.clone(),l.targetPoint=r||n.clone(),this.sourcePoint=e,this.targetPoint=n},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.model.get("labels")||[];if(!t.length)return this;var e,n=this._V.connection.node,i=n.getTotalLength();if(Number.isNaN(i))return this;for(var r=0,o=t.length;r<o;r++){var a,s=t[r].position,l=h.util.isObject(s),c=l?s.distance:s,u=l?s.offset:{x:0,y:0};if(Number.isFinite(c)?c=(c=(c=c>i?i:c)<0?i+c:c)>1?c:i*c:c=i/2,a=n.getPointAtLength(c),h.util.isObject(u))a=g.point(a).offset(u);else if(Number.isFinite(u)){e||(e=this._samples||this._V.connection.sample(this.options.sampleInterval));for(var d,f,p,I=1/0,m=0,A=e.length;m<A;m++)f=e[m],(p=g.line(f,a).squaredLength())<I&&(I=p,d=m);var C=e[d-1],v=e[d+1],y=0;v?y=g.point(a).theta(v):C&&(y=g.point(C).theta(a)),a=g.point(a).offset(u).rotate(a,y-90)}this._labelCache[r].attr("transform","translate("+a.x+", "+a.y+")")}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var i=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+i.x+", "+i.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var r=this.options.doubleLinkToolsOffset||e;i=this.getPointAtLength(n-r),this._tool2Cache.attr("transform","translate("+i.x+", "+i.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===o.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},createWatcher:function(t){var e=function(e,n){this.onEndModelChange(t,e,n)};return function(n,i){i=i||{};var r=null,o=n.previous(t)||{};return o.id&&this.stopListening(this.paper.getModelById(o.id),"change",e),i.id&&(r=this.paper.getModelById(i.id),this.listenTo(r,"change",e)),e.call(this,r,{cacheOnly:!0}),this}},onEndModelChange:function(t,e,n){var i=!n.cacheOnly,r=this.model,o=r.get(t)||{};if(e){var a=this.constructor.makeSelector(o),s="source"==t?"target":"source",l=r.get(s)||{},c=l.id&&this.constructor.makeSelector(l);if(n.handleBy===this.cid&&a==c)this[t+"BBox"]=this[s+"BBox"],this[t+"View"]=this[s+"View"],this[t+"Magnet"]=this[s+"Magnet"];else if(n.translateBy){var u=this[t+"BBox"];u.x+=n.tx,u.y+=n.ty}else{var d=this.paper.findViewByModel(o.id),f=d.el.querySelector(a);this[t+"BBox"]=d.getStrokeBBox(f),this[t+"View"]=d,this[t+"Magnet"]=f}if(n.handleBy===this.cid&&n.translateBy&&r.isEmbeddedIn(e)&&!h.util.isEmpty(r.get("vertices"))&&(i=!1),!this.updatePostponed&&l.id){var p=this.paper.getModelById(l.id);o.id===l.id&&(n.handleBy=this.cid),(n.handleBy===this.cid||n.translateBy&&p.isEmbeddedIn(n.translateBy))&&(this.updatePostponed=!0,i=!1)}}else this[t+"BBox"]=g.rect(o.x||0,o.y||0,1,1),this[t+"View"]=this[t+"Magnet"]=null;i&&(n.updateConnectionOnly=!0,this.update(r,null,n))},_translateAndAutoOrientArrows:function(t,e){var n=h.util.toArray(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.viewport),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.viewport)},removeVertex:function(t){var e=h.util.assign([],this.model.get("vertices"));return e&&e.length&&(e.splice(t,1),this.model.set("vertices",e,{ui:!0})),this},addVertex:function(t){for(var e=(this.model.get("vertices")||[]).slice(),n=e.slice(),i=this._V.connection.node.cloneNode(!1),r=i.getTotalLength(),o=e.length+1;o--&&(e.splice(o,0,t),u(i).attr("d",this.getPathData(this.findRoute(e))),i.getTotalLength()-r>20);)e=n.slice();return-1===o&&(o=0,e.splice(o,0,t)),this.model.set("vertices",e,{ui:!0}),o},sendToken:function(t,e,n){var i,r;h.util.isObject(e)?(i=e.duration,r="reverse"===e.direction):(i=e,r=!1);var o={dur:(i=i||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};r&&(o.keyPoints="1;0",o.keyTimes="0;1");var a=u(t),s=this._V.connection;a.appendTo(this.paper.viewport).animateAlongPath(o,s),setTimeout(function(t,e){return function(){t.remove(),"function"==typeof e&&e()}}(a,n),i)},findRoute:function(t){var e=h.routers,n=this.model.get("router"),i=this.paper.options.defaultRouter;if(!n)if(this.model.get("manhattan"))n={name:"orthogonal"};else{if(!i)return t;n=i}var r=n.args||{},o=h.util.isFunction(n)?n:e[n.name];if(!h.util.isFunction(o))throw new Error('unknown router: "'+n.name+'"');return o.call(this,t||[],r,this)},getPathData:function(t){var e=h.connectors,n=this.model.get("connector"),i=this.paper.options.defaultConnector;n||(n=this.model.get("smooth")?{name:"smooth"}:i||{});var r=h.util.isFunction(n)?n:e[n.name],o=n.args||{};if(!h.util.isFunction(r))throw new Error('unknown connector: "'+n.name+'"');return r.call(this,this._markerCache.sourcePoint,this._markerCache.targetPoint,t||this.model.get("vertices")||{},o,this)},getConnectionPoint:function(t,e,n){var i;if(h.util.isEmpty(e)&&(e={x:0,y:0}),h.util.isEmpty(n)&&(n={x:0,y:0}),e.id){var r,o=g.Rect("source"===t?this.sourceBBox:this.targetBBox);if(n.id){var a=g.Rect("source"===t?this.targetBBox:this.sourceBBox);r=(r=a.intersectionWithLineFromCenterToPoint(o.center()))||a.center()}else r=g.Point(n);var s=this.paper.options;if(s.perpendicularLinks||this.options.perpendicular){var l=o.origin(),c=o.corner();if(l.y<=r.y&&r.y<=c.y)switch(o.sideNearestToPoint(r)){case"left":i=g.Point(l.x,r.y);break;case"right":i=g.Point(c.x,r.y);break;default:i=o.center()}else if(l.x<=r.x&&r.x<=c.x)switch(o.sideNearestToPoint(r)){case"top":i=g.Point(r.x,l.y);break;case"bottom":i=g.Point(r.x,c.y);break;default:i=o.center()}else i=(i=o.intersectionWithLineFromCenterToPoint(r))||o.center()}else if(s.linkConnectionPoint){var u="target"===t?this.targetView:this.sourceView,d="target"===t?this.targetMagnet:this.sourceMagnet;i=s.linkConnectionPoint(this,u,d,r,t)}else i=(i=o.intersectionWithLineFromCenterToPoint(r))||o.center()}else i=g.Point(e);return i},getConnectionLength:function(){return this._V.connection.node.getTotalLength()},getPointAtLength:function(t){return this._V.connection.node.getPointAtLength(t)},_beforeArrowheadMove:function(){this._z=this.model.get("z"),this.model.toFront(),this.el.style.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets()},_afterArrowheadMove:function(){null!==this._z&&(this.model.set("z",this._z,{ui:!0}),this._z=null),this.el.style.pointerEvents="visiblePainted",this.paper.options.markAvailable&&this._unmarkAvailableMagnets()},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,i=0,r=0;"source"===t?(i=2,n="target"):(r=2,n="source");var o=this.model.get(n);return o.id&&(e[i]=this.paper.findViewByModel(o.id),e[i+1]=o.selector&&e[i].el.querySelector(o.selector)),function(t,n){return e[r]=t,e[r+1]=t.el===n?void 0:n,e}},_markAvailableMagnets:function(){function t(t,e){var n=t.paper;return n.options.validateConnection.apply(n,this._validateConnectionArgs(t,e))}var e=this.paper,n=e.model.getElements();this._marked={};for(var i=0,r=n.length;i<r;i++){var o=n[i].findView(e);if(o){var a=Array.prototype.slice.call(o.el.querySelectorAll("[magnet]"));"false"!==o.el.getAttribute("magnet")&&a.push(o.el);var s=a.filter(t.bind(this,o));if(s.length>0){for(var l=0,c=s.length;l<c;l++)o.highlight(s[l],{magnetAvailability:!0});o.highlight(null,{elementAvailability:!0}),this._marked[o.model.id]=s}}}},_unmarkAvailableMagnets:function(){for(var t,e,n=Object.keys(this._marked),i=0,r=n.length;i<r;i++){t=n[i],e=this._marked[t];var o=this.paper.findViewByModel(t);if(o){for(var a=0,s=e.length;a<s;a++)o.unhighlight(e[a],{magnetAvailability:!0});o.unhighlight(null,{elementAvailability:!0})}}this._marked=null},startArrowheadMove:function(t,e){e=h.util.defaults(e||{},{whenNotAllowed:"revert"}),this._action="arrowhead-move",this._whenNotAllowed=e.whenNotAllowed,this._arrowhead=t,this._initialMagnet=this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),this._initialEnd=h.util.assign({},this.model.get(t))||{x:0,y:0},this._validateConnectionArgs=this._createValidateConnectionArgs(this._arrowhead),this._beforeArrowheadMove()},pointerdown:function(t,e,n){if(h.dia.CellView.prototype.pointerdown.apply(this,arguments),this.notify("link:pointerdown",t,e,n),this._dx=e,this._dy=n,null==t.target.getAttribute("magnet")){var i,r=h.util.removeClassNamePrefix(t.target.getAttribute("class")),o=h.util.removeClassNamePrefix(t.target.parentNode.getAttribute("class"));switch("label"===o?(r=o,i=t.target.parentNode):i=t.target,r){case"marker-vertex":this.can("vertexMove")&&(this._action="vertex-move",this._vertexIdx=t.target.getAttribute("idx"));break;case"marker-vertex-remove":case"marker-vertex-remove-area":this.can("vertexRemove")&&this.removeVertex(t.target.getAttribute("idx"));break;case"marker-arrowhead":this.can("arrowheadMove")&&this.startArrowheadMove(t.target.getAttribute("end"));break;case"label":this.can("labelMove")&&(this._action="label-move",this._labelIdx=parseInt(u(i).attr("label-idx"),10),this._samples=this._V.connection.sample(1),this._linkLength=this._V.connection.node.getTotalLength());break;default:this.can("vertexAdd")&&(this._vertexIdx=this.addVertex({x:e,y:n}),this._action="vertex-move")}}},pointermove:function(t,e,n){switch(this._action){case"vertex-move":var i=h.util.assign([],this.model.get("vertices"));i[this._vertexIdx]={x:e,y:n},this.model.set("vertices",i,{ui:!0});break;case"label-move":for(var r,o,a,s,l={x:e,y:n},c=this._samples,d=1/0,f=0,p=c.length;f<p;f++)a=c[f],(s=g.line(a,l).squaredLength())<d&&(d=s,r=a,o=f);var I=c[o-1],m=c[o+1],A=0;I&&m?A=g.line(I,m).pointOffset(l):I?A=g.line(I,r).pointOffset(l):m&&(A=g.line(r,m).pointOffset(l)),this.model.label(this._labelIdx,{position:{distance:r.distance/this._linkLength,offset:A}});break;case"arrowhead-move":if(this.paper.options.snapLinks){var C=this.paper.options.snapLinks.radius||50,v=this.paper.findViewsInArea({x:e-C,y:n-C,width:2*C,height:2*C});this._closestView&&this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this._closestView=this._closestEnd=null;var y,b=Number.MAX_VALUE,w=g.point(e,n);v.forEach(function(t){"false"!==t.el.getAttribute("magnet")&&((y=t.model.getBBox().center().distance(w))<C&&y<b&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(t,null))&&(b=y,this._closestView=t,this._closestEnd={id:t.model.id})),t.$("[magnet]").each(function(e,n){var i=u(n).getBBox({target:this.paper.viewport});(y=w.distance({x:i.x+i.width/2,y:i.y+i.height/2}))<C&&y<b&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(t,n))&&(b=y,this._closestView=t,this._closestEnd={id:t.model.id,selector:t.getSelector(n),port:n.getAttribute("port")})}.bind(this))},this),this._closestView&&this._closestView.highlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),this.model.set(this._arrowhead,this._closestEnd||{x:e,y:n},{ui:!0})}else{var x="mousemove"===t.type?t.target:document.elementFromPoint(t.clientX,t.clientY);this._eventTarget!==x&&(this._magnetUnderPointer&&this._viewUnderPointer.unhighlight(this._magnetUnderPointer,{connecting:!0}),this._viewUnderPointer=this.paper.findView(x),this._viewUnderPointer?(this._magnetUnderPointer=this._viewUnderPointer.findMagnet(x),this._magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,this._validateConnectionArgs(this._viewUnderPointer,this._magnetUnderPointer))?this._magnetUnderPointer&&this._viewUnderPointer.highlight(this._magnetUnderPointer,{connecting:!0}):this._magnetUnderPointer=null):this._magnetUnderPointer=null),this._eventTarget=x,this.model.set(this._arrowhead,{x:e,y:n},{ui:!0})}}this._dx=e,this._dy=n,h.dia.CellView.prototype.pointermove.apply(this,arguments),this.notify("link:pointermove",t,e,n)},pointerup:function(t,e,n){if("label-move"===this._action)this._samples=null;else if("arrowhead-move"===this._action){var i,r=this.model,o=this.paper,a=o.options,s=this._arrowhead,l=this._initialEnd;if(a.snapLinks)this._closestView&&(this._closestView.unhighlight(this._closestEnd.selector,{connecting:!0,snapping:!0}),i=this._closestView.findMagnet(this._closestEnd.selector)),this._closestView=this._closestEnd=null;else{var c=this._viewUnderPointer;if(i=this._magnetUnderPointer,this._viewUnderPointer=null,this._magnetUnderPointer=null,i){c.unhighlight(i,{connecting:!0});var u=c.getSelector(i),g=i.getAttribute("port"),d={id:c.model.id};null!=g&&(d.port=g),null!=u&&(d.selector=u),r.set(s,d,{ui:!0})}}if(o.linkAllowed(this)){a.embeddingMode&&r.reparent()&&(this._z=null);var f=r.prop(s);f&&!h.dia.Link.endsEqual(l,f)&&(l.id&&this.notify("link:disconnect",t,o.findViewByModel(l.id),this._initialMagnet,s),f.id&&this.notify("link:connect",t,o.findViewByModel(f.id),i,s))}else switch(this._whenNotAllowed){case"remove":r.remove({ui:!0});break;case"revert":default:r.set(s,l,{ui:!0})}this._afterArrowheadMove()}this._action=null,this._whenNotAllowed=null,this._initialMagnet=null,this._initialEnd=null,this._validateConnectionArgs=null,this._eventTarget=null,this.notify("link:pointerup",t,e,n),h.dia.CellView.prototype.pointerup.apply(this,arguments)},mouseenter:function(t){h.dia.CellView.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){h.dia.CellView.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},event:function(t,e,n,i){u(t.target).findParentByClass("link-tool",this.el)?(t.stopPropagation(),this.can("useLinkTools")&&("remove"===e?this.model.remove({ui:!0}):this.notify(e,t,n,i))):h.dia.CellView.prototype.event.apply(this,arguments)}},{makeSelector:function(t){var e='[model-id="'+t.id+'"]';return t.port?e+=' [port="'+t.port+'"]':t.selector&&(e+=" "+t.selector),e}}),h.dia.Paper=h.mvc.View.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:h.dia.ElementView,linkView:h.dia.LinkView,snapLinks:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:{default:{name:"stroke",options:{padding:3}},magnetAvailability:{name:"addClass",options:{className:"available-magnet"}},elementAvailability:{name:"addClass",options:{className:"available-cell"}}},preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new h.dia.Link,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},validateMagnet:function(t,e){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,n,i,r,o){return("target"===r?n:t)instanceof h.dia.ElementView},embeddingMode:!1,validateEmbedding:function(t,e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,clickThreshold:0,moveThreshold:0,cellViewNamespace:h.shapes,highlighterNamespace:h.highlighters},events:{mousedown:"pointerdown",dblclick:"mousedblclick",click:"mouseclick",touchstart:"pointerdown",touchend:"mouseclick",touchmove:"pointermove",mousemove:"pointermove","mouseover .joint-cell":"cellMouseover","mouseout .joint-cell":"cellMouseout",contextmenu:"contextmenu",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"cellMouseenter","mouseleave .joint-cell":"cellMouseleave","mousedown .joint-cell [event]":"cellEvent","touchstart .joint-cell [event]":"cellEvent"},_highlights:{},init:function(){h.util.bindAll(this,"pointerup");var t=this.model=this.options.model||new h.dia.Graph;this.setGrid(this.options.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.removeView).listenTo(t,"reset",this.resetViews).listenTo(t,"sort",this._onSort).listenTo(t,"batch:stop",this._onBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update),this._mousemoved=0,this._views={},this.$document=o(this.el.ownerDocument)},cloneOptions:function(){var t=this.options;t.origin=h.util.assign({},t.origin),t.defaultConnector=h.util.assign({},t.defaultConnector),t.highlighting=h.util.defaultsDeep({},t.highlighting,this.constructor.prototype.options.highlighting)},bindDocumentEvents:function(){var t=this.getEventNamespace();this.$document.on("mouseup"+t+" touchend"+t,this.pointerup)},unbindDocumentEvents:function(){this.$document.off(this.getEventNamespace())},render:function(){return this.$el.empty(),this.svg=u("svg").attr({width:"100%",height:"100%"}).node,this.viewport=u("g").addClass(h.util.addClassNamePrefix("viewport")).node,this.defs=u("defs").node,u(this.svg).append([this.viewport,this.defs]),this.$background=o("<div/>").addClass(h.util.addClassNamePrefix("paper-background")),this.options.background&&this.drawBackground(this.options.background),this.$grid=o("<div/>").addClass(h.util.addClassNamePrefix("paper-grid")),this.options.drawGrid&&this.drawGrid(),this.$el.append(this.$background,this.$grid,this.svg),this},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},_viewportMatrix:null,_viewportTransformString:null,matrix:function(t){var e=this.viewport;if(void 0===t){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),u.createSVGMatrix(t)}return t=u.createSVGMatrix(t),u(e).transform(t,{absolute:!0}),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return u.createSVGMatrix(this.viewport.getScreenCTM())},_onSort:function(){this.model.hasActiveBatch("add")||this.sortViews()},_onBatchStop:function(t){"add"!==(t&&t.batchName)||this.model.hasActiveBatch("add")||this.sortViews()},onRemove:function(){this.removeViews(),this.unbindDocumentEvents()},setDimensions:function(t,e){t=this.options.width=t||this.options.width,e=this.options.height=e||this.options.height,this.$el.css({width:Math.round(t),height:Math.round(e)}),this.trigger("resize",t,e)},setOrigin:function(t,e){return this.translate(t||0,e||0,{absolute:!0})},fitToContent:function(t,e,n,i){h.util.isObject(t)?(t=(i=t).gridWidth||1,e=i.gridHeight||1,n=i.padding||0):(i=i||{},t=t||1,e=e||1,n=n||0),n=h.util.normalizeSides(n);var r=u(this.viewport).getBBox(),o=this.scale(),a=this.translate();r.x*=o.sx,r.y*=o.sy,r.width*=o.sx,r.height*=o.sy;var s=Math.max(Math.ceil((r.width+r.x)/t),1)*t,l=Math.max(Math.ceil((r.height+r.y)/e),1)*e,c=0,g=0;("negative"==i.allowNewOrigin&&r.x<0||"positive"==i.allowNewOrigin&&r.x>=0||"any"==i.allowNewOrigin)&&(c=Math.ceil(-r.x/t)*t,s+=c+=n.left),("negative"==i.allowNewOrigin&&r.y<0||"positive"==i.allowNewOrigin&&r.y>=0||"any"==i.allowNewOrigin)&&(g=Math.ceil(-r.y/e)*e,l+=g+=n.top),s+=n.right,l+=n.bottom,s=Math.max(s,i.minWidth||0),l=Math.max(l,i.minHeight||0),s=Math.min(s,i.maxWidth||Number.MAX_VALUE),l=Math.min(l,i.maxHeight||Number.MAX_VALUE);var d=s!=this.options.width||l!=this.options.height;(c!=a.tx||g!=a.ty)&&this.translate(c,g),d&&this.setDimensions(s,l)},scaleContentToFit:function(t){var e=this.getContentBBox();if(e.width&&e.height){t=t||{},h.util.defaults(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var n,i=t.padding,r=t.minScaleX||t.minScale,o=t.maxScaleX||t.maxScale,a=t.minScaleY||t.minScale,s=t.maxScaleY||t.maxScale;if(t.fittingBBox)n=t.fittingBBox;else{var l=this.translate();n={x:l.tx,y:l.ty,width:this.options.width,height:this.options.height}}n=g.rect(n).moveAndExpand({x:i,y:i,width:-2*i,height:-2*i});var c=this.scale(),u=n.width/e.width*c.sx,d=n.height/e.height*c.sy;if(t.preserveAspectRatio&&(u=d=Math.min(u,d)),t.scaleGrid){var f=t.scaleGrid;u=f*Math.floor(u/f),d=f*Math.floor(d/f)}u=Math.min(o,Math.max(r,u)),d=Math.min(s,Math.max(a,d)),this.scale(u,d);var p=this.getContentBBox(),I=n.x-p.x,m=n.y-p.y;this.translate(I,m)}},getContentBBox:function(){var t=this.viewport.getBoundingClientRect(),e=this.clientMatrix(),n=this.translate();return g.rect({x:t.left-e.e+n.tx,y:t.top-e.f+n.ty,width:t.width,height:t.height})},getArea:function(){return this.paperToLocalRect({x:0,y:0,width:this.options.width,height:this.options.height})},getRestrictedArea:function(){return h.util.isFunction(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):!0===this.options.restrictTranslate?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(t){var e,n,r=this.options.cellViewNamespace,o=t.get("type")+"View",a=h.util.getByPath(r,o,".");return t.isLink()?(e=this.options.linkView,n=h.dia.LinkView):(e=this.options.elementView,n=h.dia.ElementView),new(e.prototype instanceof i.View?a||e:e.call(this,t)||a||n)({model:t,interactive:this.options.interactive})},onCellAdded:function(t,e,n){if(this.options.async&&!1!==n.async&&h.util.isNumber(n.position)){if(this._asyncCells=this._asyncCells||[],this._asyncCells.push(t),0==n.position){if(this._frameId)throw new Error("another asynchronous rendering in progress");this.asyncRenderViews(this._asyncCells,n),delete this._asyncCells}}else this.renderView(t)},removeView:function(t){var e=this._views[t.id];return e&&(e.remove(),delete this._views[t.id]),e},renderView:function(t){var e=this._views[t.id]=this.createViewForModel(t);return u(this.viewport).append(e.el),e.paper=this,e.render(),o(e.el).find("image").on("dragstart",function(){return!1}),e},beforeRenderViews:function(t){return t.sort(function(t){return t.isLink()?1:-1}),t},afterRenderViews:function(){this.sortViews()},resetViews:function(t,e){this.removeViews();var n=t.models.slice();if(n=this.beforeRenderViews(n,e)||n,this.cancelRenderViews(),this.options.async)this.asyncRenderViews(n,e);else{for(var i=0,r=n.length;i<r;i++)this.renderView(n[i]);this.sortViews()}},cancelRenderViews:function(){this._frameId&&(h.util.cancelFrame(this._frameId),delete this._frameId)},removeViews:function(){h.util.invoke(this._views,"remove"),this._views={}},asyncBatchAdded:h.util.noop,asyncRenderViews:function(t,e){if(this._frameId){var n=this.options.async&&this.options.async.batchSize||50;t.splice(0,n).forEach(function(t){t.graph===this.model&&this.renderView(t)},this),this.asyncBatchAdded()}t.length?this._frameId=h.util.nextFrame(function(){this.asyncRenderViews(t,e)},this):(delete this._frameId,this.afterRenderViews(e),this.trigger("render:done",e))},sortViews:function(){var t=o(this.viewport).children("[model-id]"),e=this.model.get("cells");h.util.sortElements(t,function(t,n){var i=e.get(o(t).attr("model-id")),r=e.get(o(n).attr("model-id"));return(i.get("z")||0)>(r.get("z")||0)?1:-1})},scale:function(t,e,n,i){if(void 0===t)return u.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===n&&(n=0,i=0);var r=this.translate();if(n||i||r.tx||r.ty){var o=r.tx-n*(t-1),a=r.ty-i*(e-1);this.translate(o,a)}var s=this.matrix();return s.a=t||0,s.d=e||0,this.matrix(s),this.trigger("scale",t,e,n,i),this},rotate:function(t,e,n){if(void 0===t)return u.matrixToRotate(this.matrix());if(void 0===e){var i=this.viewport.getBBox();e=i.width/2,n=i.height/2}var r=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(r),this},translate:function(t,e){if(void 0===t)return u.matrixToTranslate(this.matrix());var n=this.matrix();n.e=t||0,n.f=e||0,this.matrix(n);var i=this.translate(),r=this.options.origin;return r.x=i.tx,r.y=i.ty,this.trigger("translate",i.tx,i.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(t){for(var e=h.util.isString(t)?this.viewport.querySelector(t):t instanceof o?t[0]:t;e&&e!==this.el&&e!==document;){var n=e.getAttribute("model-id");if(n)return this._views[n];e=e.parentNode}},findViewByModel:function(t){var e=h.util.isString(t)||h.util.isNumber(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){return t=g.point(t),this.model.getElements().map(this.findViewByModel,this).filter(function(e){return e&&e.vel.getBBox({target:this.viewport}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=h.util.defaults(e||{},{strict:!1}),t=g.rect(t);var n=this.model.getElements().map(this.findViewByModel,this),i=e.strict?"containsRect":"intersect";return n.filter(function(e){return e&&t[i](e.vel.getBBox({target:this.viewport}))},this)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=g.Point(t,e),i=u.transformPoint(n,this.matrix());return g.Point(i)},localToPaperRect:function(t,e,n,i){var r=g.Rect(t,e),o=u.transformRect(r,this.matrix());return g.Rect(o)},paperToLocalPoint:function(t,e){var n=g.Point(t,e),i=u.transformPoint(n,this.matrix().inverse());return g.Point(i)},paperToLocalRect:function(t,e,n,i){var r=g.Rect(t,e,n,i),o=u.transformRect(r,this.matrix().inverse());return g.Rect(o)},localToClientPoint:function(t,e){var n=g.Point(t,e),i=u.transformPoint(n,this.clientMatrix());return g.Point(i)},localToClientRect:function(t,e,n,i){var r=g.Rect(t,e,n,i),o=u.transformRect(r,this.clientMatrix());return g.Rect(o)},clientToLocalPoint:function(t,e){var n=g.Point(t,e),i=u.transformPoint(n,this.clientMatrix().inverse());return g.Point(i)},clientToLocalRect:function(t,e,n,i){var r=g.Rect(t,e,n,i),o=u.transformRect(r,this.clientMatrix().inverse());return g.Rect(o)},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,i){return this.localToPaperRect(t,e,n,i).moveAndExpand(this.pageOffset())},pageToLocalPoint:function(t,e){var n=g.Point(t,e).difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(t,e,n,i){var r=this.pageOffset(),o=g.Rect(t,e,n,i);return o.x-=r.x,o.y-=r.y,this.paperToLocalRect(o)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return g.Point(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){var e;if(t instanceof h.dia.Link)e=t;else{if(!(t instanceof h.dia.LinkView))throw new Error("Must provide link model or view.");e=t.model}if(!this.options.multiLinks){var n=e.get("source"),i=e.get("target");if(n.id&&i.id){var r=e.getSourceElement();if(r)if(this.model.getConnectedLinks(r,{outbound:!0,inbound:!1}).filter(function(t){var e=t.get("source"),r=t.get("target");return e&&e.id===n.id&&(!e.port||e.port===n.port)&&r&&r.id===i.id&&(!r.port||r.port===i.port)}).length>1)return!1}}return!!(this.options.linkPinning||h.util.has(e.get("source"),"id")&&h.util.has(e.get("target"),"id"))},getDefaultLink:function(t,e){return h.util.isFunction(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t){var e=(t=t||{}).highlighter,n=this.options;if(void 0===e){var i=["embedding","connecting","magnetAvailability","elementAvailability"].find(function(e){return!!t[e]});e=i&&n.highlighting[i]||n.highlighting.default}if(!e)return!1;h.util.isString(e)&&(e={name:e});var r=e.name,o=n.highlighterNamespace[r];if(!o)throw new Error('Unknown highlighter ("'+r+'")');if("function"!=typeof o.highlight)throw new Error('Highlighter ("'+r+'") is missing required highlight() method');if("function"!=typeof o.unhighlight)throw new Error('Highlighter ("'+r+'") is missing required unhighlight() method');return{highlighter:o,options:e.options||{},name:r}},onCellHighlight:function(t,e,n){if(n=this.resolveHighlighter(n)){e.id||(e.id=u.uniqueId());var i=n.name+e.id+JSON.stringify(n.options);if(!this._highlights[i]){var r=n.highlighter;r.highlight(t,e,h.util.assign({},n.options)),this._highlights[i]={cellView:t,magnetEl:e,opt:n.options,highlighter:r}}}},onCellUnhighlight:function(t,e,n){if(n=this.resolveHighlighter(n)){var i=n.name+e.id+JSON.stringify(n.options),r=this._highlights[i];r&&(r.highlighter.unhighlight(r.cellView,r.magnetEl,r.opt),this._highlights[i]=null)}},mousedblclick:function(t){t.preventDefault(),t=h.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},mouseclick:function(t){if(this._mousemoved<=this.options.clickThreshold){t=h.util.normalizeEvent(t);var e=this.findView(t.target);if(this.guard(t,e))return;var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.pointerclick(t,n.x,n.y):this.trigger("blank:pointerclick",t,n.x,n.y)}},guard:function(t,e){return!(!this.options.guard||!this.options.guard(t,e))||(t.data&&void 0!==t.data.guarded?t.data.guarded:!(e&&e.model&&e.model instanceof h.dia.Cell||this.svg===t.target||this.el===t.target||o.contains(this.svg,t.target)))},contextmenu:function(t){t=h.util.normalizeEvent(t),this.options.preventContextMenu&&t.preventDefault();var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){this.bindDocumentEvents(),t=h.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){this._mousemoved=0;var n=this.snapToGrid({x:t.clientX,y:t.clientY});e?(t.preventDefault(),this.sourceView=e,e.pointerdown(t,n.x,n.y)):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,n.x,n.y))}},pointermove:function(t){var e=this.sourceView;if(e&&(t.preventDefault(),++this._mousemoved>this.options.moveThreshold)){t=h.util.normalizeEvent(t);var n=this.snapToGrid({x:t.clientX,y:t.clientY});e.pointermove(t,n.x,n.y)}},pointerup:function(t){this.unbindDocumentEvents(),t=h.util.normalizeEvent(t);var e=this.snapToGrid({x:t.clientX,y:t.clientY});this.sourceView?(this.sourceView.pointerup(t,e.x,e.y),this.sourceView=null):this.trigger("blank:pointerup",t,e.x,e.y)},mousewheel:function(t){t=h.util.normalizeEvent(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=t.originalEvent,i=this.snapToGrid({x:n.clientX,y:n.clientY}),r=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));e?e.mousewheel(t,i.x,i.y,r):this.trigger("blank:mousewheel",t,i.x,i.y,r)}},cellMouseover:function(t){t=h.util.normalizeEvent(t);var e=this.findView(t.target);if(e){if(this.guard(t,e))return;e.mouseover(t)}},cellMouseout:function(t){t=h.util.normalizeEvent(t);var e=this.findView(t.target);if(e){if(this.guard(t,e))return;e.mouseout(t)}},cellMouseenter:function(t){t=h.util.normalizeEvent(t);var e=this.findView(t.target);e&&!this.guard(t,e)&&e.mouseenter(t)},cellMouseleave:function(t){t=h.util.normalizeEvent(t);var e=this.findView(t.target);e&&!this.guard(t,e)&&e.mouseleave(t)},cellEvent:function(t){var e=(t=h.util.normalizeEvent(t)).currentTarget,n=e.getAttribute("event");if(n){var i=this.findView(e);if(i&&!this.guard(t,i)){var r=this.snapToGrid({x:t.clientX,y:t.clientY});i.event(t,n,r.x,r.y)}}},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGriRefs:function(){return this._gridCache||(this._gridCache={root:u("svg",{width:"100%",height:"100%"},u("defs")),patterns:{},add:function(t,e){u(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(u("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(t)?t:[t||{}]).forEach(function(t){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(t))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(h.util.isString(t)&&Array.isArray(e[t]))return e[t].map(function(t){return h.util.assign({},t)});var n=t||{args:[{}]},i=Array.isArray(n),r=n.name;if(i||r||n.markup||(r="dot"),r&&Array.isArray(e[r])){var o=e[r].map(function(t){return h.util.assign({},t)}),a=Array.isArray(n.args)?n.args:[n.args||{}];h.util.defaults(a[0],h.util.omit(t,"args"));for(var s=0;s<a.length;s++)o[s]&&h.util.assign(o[s],a[s]);return o}return i?n:[n]},drawGrid:function(t){var e=this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],i=this.matrix(),r=this._getGriRefs();this._gridSettings.forEach(function(t,o){var a="pattern_"+o,s=h.util.merge(t,n[o],{sx:i.a||1,sy:i.d||1,ox:i.e||0,oy:i.f||0});s.width=e*(i.a||1)*(s.scaleFactor||1),s.height=e*(i.d||1)*(s.scaleFactor||1),r.exist(a)||r.add(a,u("pattern",{id:a,patternUnits:"userSpaceOnUse"},u(s.markup)));var l=r.get(a);h.util.isFunction(s.update)&&s.update(l.node.childNodes[0],s);var c=s.ox%s.width;c<0&&(c+=s.width);var g=s.oy%s.height;g<0&&(g+=s.height),l.attr({x:c,y:g,width:s.width,height:s.height})});var o=(new XMLSerializer).serializeToString(r.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(t){var e=(t=t||{}).position||"center",n=t.size||"auto auto",i=this.scale(),r=this.translate();h.util.isObject(e)&&(e=r.tx+i.sx*(e.x||0)+"px "+(r.ty+i.sy*(e.y||0))+"px");h.util.isObject(n)&&(n=(n=g.rect(n).scale(i.sx,i.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(t instanceof HTMLImageElement){var n,i=(e=e||{}).size,r=e.repeat||"no-repeat",o=e.opacity||1,a=Math.abs(e.quality)||1,s=this.constructor.backgroundPatterns[h.util.camelCase(r)];if(h.util.isFunction(s)){t.width*=a,t.height*=a;var l=s(t,e);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),r="repeat",h.util.isObject(i)?(i.width*=l.width/t.width,i.height*=l.height/t.height):void 0===i&&(e.size={width:l.width/a,height:l.height/a})}else n=t.src,void 0===i&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:r,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=h.util.cloneDeep(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,h.util.invoke(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!h.util.isObject(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+h.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var i=h.util.filter,r=i[n]&&i[n](t.args||{});if(!r)throw new Error("Non-existing filter "+n);var o=h.util.assign({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});u(r,o).appendTo(this.defs)}return e},defineGradient:function(t){if(!h.util.isObject(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var e=t.id,n=t.type,i=t.stops;if(e||(e=n+this.svg.id+h.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var r=h.util.template('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),o=["<"+n+">",h.util.toArray(i).map(function(t){return r({offset:t.offset,color:t.color,opacity:Number.isFinite(t.opacity)?t.opacity:1})}).join(""),"</"+n+">"].join(""),a=h.util.assign({id:e},t.attrs);u(o,a).appendTo(this.defs)}return e},defineMarker:function(t){if(!h.util.isObject(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var e=t.id;if(e||(e=this.svg.id+h.util.hashCode(JSON.stringify(t))),!this.isDefined(e)){var n=h.util.omit(t,"type","userSpaceOnUse");u("marker",{id:e,orient:"auto",overflow:"visible",markerUnits:t.markerUnits||"userSpaceOnUse"},[u(t.type||"path",n)]).appendTo(this.defs)}return e}},{backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=2*i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,n,i),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,n,i),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(2*n,0),r.scale(-1,1),r.drawImage(t,0,0,n,i),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=n,e.height=2*i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(0,2*i),r.scale(1,-1),r.drawImage(t,0,0,n,i),e},watermark:function(t,e){e=e||{};var n=t.width,i=t.height,r=document.createElement("canvas");r.width=3*n,r.height=3*i;for(var o=r.getContext("2d"),a=h.util.isNumber(e.watermarkAngle)?-e.watermarkAngle:-20,s=g.toRad(a),l=r.width/4,c=r.height/4,u=0;u<4;u++)for(var d=0;d<4;d++)(u+d)%2>0&&(o.setTransform(1,0,0,1,(2*u-1)*l,(2*d-1)*c),o.rotate(s),o.drawImage(t,-n/2,-i/2,n,i));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){u(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;u(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,i=e.width,r=e.height,o=e.thickness;n=i-o>=0&&r-o>=0?["M",i,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",u(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,i=e.width,r=e.height,o=e.thickness;n=i-o>=0&&r-o>=0?["M",i,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",u(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,i=e.width,r=e.height,o=e.thickness;n=i-o>=0&&r-o>=0?["M",i,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",u(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),function(t,e,n){var i=function(e){var i=n.cloneDeep(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=t.layout.Port,this.portLabelLayoutNamespace=t.layout.PortLabel,this._init(i)};i.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var i=this.getGroup(t),r=this.getPortsByGroup(t),o=i.position||{},a=o.name,s=this.portLayoutNamespace;s[a]||(a="left");var l=o.args||{},c=r.map(function(t){return t&&t.position&&t.position.args}),u=s[a](c,e,l),h={ports:r,result:[]};return n.toArray(u).reduce(function(t,n,i){var r=t.ports[i];return t.result.push({portId:r.id,portTransformation:n,labelTransformation:this._getPortLabelLayout(r,g.Point(n),e),portAttrs:r.attrs,portSize:r.size,labelSize:r.label.size}),t}.bind(this),h),h.result},_getPortLabelLayout:function(t,e,n){var i=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return i[r]?i[r](e,n,t.label.position.args):null},_init:function(t){if(n.isObject(t.groups))for(var e=Object.keys(t.groups),i=0,r=e.length;i<r;i++){var o=e[i];this.groups[o]=this._evaluateGroup(t.groups[o])}for(var a=n.toArray(t.items),s=0,l=a.length;s<l;s++)this.ports.push(this._evaluatePort(a[s]))},_evaluateGroup:function(t){return n.merge(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=n.assign({},t),i=this.getGroup(t.group);return e.markup=e.markup||i.markup,e.attrs=n.merge({},i.attrs,e.attrs),e.position=this._createPositionNode(i,e),e.label=n.merge({},i.label,this._getLabel(e)),e.z=this._getZIndex(i,e),e.size=n.assign({},i.size,e.size),e},_getZIndex:function(t,e){return n.isNumber(e.z)?e.z:n.isNumber(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,e){return n.merge({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var i,r={};n.isFunction(t)?(i="fn",r.fn=t):n.isString(t)?i=t:void 0===t?i=e?"left":null:Array.isArray(t)?(i="absolute",r.x=t[0],r.y=t[1]):n.isObject(t)&&(i=t.name,n.assign(r,t.args));var o={args:r};return i&&(o.name=i),o},_getLabel:function(t,e){var n=t.label||{},i=n;return i.position=this._getPosition(n.position,e),i}},n.assign(t.dia.Element.prototype,{_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};n.toArray(t.items).forEach(function(t){e[t.id]=!0});var i=this.previous("ports")||{},r={};n.toArray(i.items).forEach(function(t){e[t.id]||(r[t.id]=!0)});var o=this.graph;o&&!n.isEmpty(r)&&(o.getConnectedLinks(this,{inbound:!0}).forEach(function(t){r[t.get("target").port]&&t.remove()}),o.getConnectedLinks(this,{outbound:!0}).forEach(function(t){r[t.get("source").port]&&t.remove()}))},hasPorts:function(){return this.prop("ports/items").length>0},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return n.cloneDeep(this.prop("ports/items"))||[]},getPort:function(t){return n.cloneDeep(n.toArray(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){return this._portSettingsData.getGroupPortsMetrics(t,g.Rect(this.size())).reduce(function(t,e){var n=e.portTransformation;return t[e.portId]={x:n.x,y:n.y,angle:n.angle},t},{})},getPortIndex:function(t){var e=n.isObject(t)?t.id:t;return this._isValidPortId(e)?n.toArray(this.prop("ports/items")).findIndex(function(t){return t.id===e}):-1},addPort:function(t,e){if(!n.isObject(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var i=n.assign([],this.prop("ports/items"));return i.push(t),this.prop("ports/items",i,e),this},portProp:function(t,e,i,r){var o=this.getPortIndex(t);if(-1===o)throw new Error("Element: unable to find port with id "+t);var a=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?a[0]=["ports","items",o].concat(e):n.isString(e)?a[0]=["ports/items/",o,"/",e].join(""):(a=["ports/items/"+o],n.isPlainObject(e)&&(a.push(e),a.push(i))),this.prop.apply(this,a)},_validatePorts:function(){var e=this.get("ports")||{},i=[];e=e||{};var r=n.toArray(e.items);return r.forEach(function(t){"object"!=typeof t&&i.push("Element: invalid port ",t),this._isValidPortId(t.id)||(t.id=n.uuid())},this),t.util.uniq(r,"id").length!==r.length&&i.push("Element: found id duplicities in ports."),i},_isValidPortId:function(t){return null!==t&&void 0!==t&&!n.isObject(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",n.assign([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){var i=e||{},r=n.assign([],this.prop("ports/items")),o=this.getPortIndex(t);return-1!==o&&(r.splice(o,1),i.rewrite=!0,this.prop("ports/items",r,i)),this},_createPortData:function(){var t,e=this._validatePorts();if(e.length>0)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new i(this.get("ports"));var n=this._portSettingsData.getPorts();if(t){var r=n.filter(function(e){if(!t.find(function(t){return t.id===e.id}))return e}),o=t.filter(function(t){if(!n.find(function(e){return e.id===t.id}))return t});o.length>0&&this.trigger("ports:remove",this,o),r.length>0&&this.trigger("ports:add",this,r)}}}),n.assign(t.dia.ElementView.prototype,{portContainerMarkup:'<g class="joint-port"/>',portMarkup:'<circle class="joint-port-body" r="10" fill="#FFFFFF" stroke="#000000"/>',portLabelMarkup:'<text class="joint-port-label" fill="#000000"/>',_portElementsCache:null,_initializePorts:function(){this._portElementsCache={},this.listenTo(this.model,"change:ports",function(){this._refreshPorts()})},_refreshPorts:function(){this._removePorts(),this._portElementsCache={},this._renderPorts()},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),i=0,r=e.node.childNodes.length;i<r;i++)t.push(e.node.childNodes[i]);var o=n.groupBy(this.model._portSettingsData.getPorts(),"z"),a="auto";n.toArray(o[a]).forEach(function(n){var i=this._getPortElement(n);e.append(i),t.push(i)},this);for(var s=Object.keys(o),l=0;l<s.length;l++){var c=s[l];if(c!==a){var u=parseInt(c,10);this._appendPorts(o[c],u,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,i){var r=this._getContainerElement(),o=n.toArray(t).map(this._getPortElement,this);i[e]||e<0?u(i[Math.max(e,0)]).before(o):r.append(o)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){n.invoke(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){var e=u(this._getPortMarkup(t)),n=u(this._getPortLabelMarkup(t.label));if(e&&e.length>1)throw new Error("ElementView: Invalid port markup - multiple roots.");e.attr({port:t.id,"port-group":t.group});var i=u(this.portContainerMarkup).append(e).append(n);return this._portElementsCache[t.id]={portElement:i,portLabelElement:n},i},_updatePortGroup:function(t){for(var e=g.Rect(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),i=0,r=n.length;i<r;i++){var o=n[i],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation;this.applyPortTransform(s.portElement,l),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:g.Rect(o.portSize)});var c=o.labelTransformation;c&&(this.applyPortTransform(s.portLabelElement,c,-l.angle||0),this.updateDOMSubtreeAttributes(s.portLabelElement.node,c.attrs,{rootBBox:g.Rect(o.labelSize)}))}},applyPortTransform:function(t,e,n){var i=u.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(i,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}})}(h,0,h.util),h.dia.Element.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),h.shapes.basic.Generic.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),h.shapes.basic.TextView=h.dia.ElementView.extend({initialize:function(){h.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:attrs",this.resize)}}),h.shapes.basic.Generic.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),h.shapes.basic.Generic.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),h.shapes.basic.Generic.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),h.shapes.basic.Generic.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),h.shapes.basic.Generic.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),h.shapes.basic.Generic.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),h.shapes.basic.Generic.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),h.shapes.basic.Path.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),h.shapes.basic.PortsModelInterface={initialize:function(){this.updatePortsAttrs(),this.on("change:inPorts change:outPorts",this.updatePortsAttrs,this),this.constructor.__super__.constructor.__super__.initialize.apply(this,arguments)},updatePortsAttrs:function(t){if(this._portSelectors){var e=h.util.omit(this.get("attrs"),this._portSelectors);this.set("attrs",e,{silent:!0})}this._portSelectors=[];var n={};h.util.toArray(this.get("inPorts")).forEach(function(t,e,i){var r=this.getPortAttrs(t,e,i.length,".inPorts","in");this._portSelectors=this._portSelectors.concat(Object.keys(r)),h.util.assign(n,r)},this),h.util.toArray("outPorts").forEach(function(t,e,i){var r=this.getPortAttrs(t,e,i.length,".outPorts","out");this._portSelectors=this._portSelectors.concat(Object.keys(r)),h.util.assign(n,r)},this),this.attr(n,{silent:!0}),this.processPorts(),this.trigger("process:ports")},getPortSelector:function(t){var e=".inPorts",n=this.get("inPorts").indexOf(t);if(n<0&&(e=".outPorts",(n=this.get("outPorts").indexOf(t))<0))throw new Error("getPortSelector(): Port doesn't exist.");return e+">g:nth-child("+(n+1)+")>.port-body"}},h.shapes.basic.PortsViewInterface={initialize:function(){this.listenTo(this.model,"process:ports",this.update),h.dia.ElementView.prototype.initialize.apply(this,arguments)},update:function(){this.renderPorts(),h.dia.ElementView.prototype.update.apply(this,arguments)},renderPorts:function(){var t=this.$(".inPorts").empty(),e=this.$(".outPorts").empty(),n=h.util.template(this.model.portMarkup),i=this.model.ports||[];i.filter(function(t){return"in"===t.type}).forEach(function(e,i){t.append(u(n({id:i,port:e})).node)}),i.filter(function(t){return"out"===t.type}).forEach(function(t,i){e.append(u(n({id:i,port:t})).node)})}},h.shapes.basic.Generic.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',h.env.test("svgforeignobject")?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),h.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":h.util.assign({},e),div:{style:h.util.assign({},e)}})},updateContent:function(t,e){h.env.test("svgforeignobject")?this.attr({".content":{html:e}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),h.shapes.basic.TextBlockView=h.dia.ElementView.extend({initialize:function(){h.dia.ElementView.prototype.initialize.apply(this,arguments),this.noSVGForeignObjectElement=!h.env.test("svgforeignobject"),h.env.test("svgforeignobject")||this.listenTo(this.model,"change:content change:size",function(t){this.updateContent(t)})},update:function(t,e){var n=this.model;if(h.env.test("svgforeignobject"))h.dia.ElementView.prototype.update.call(this,n,e);else{var i=h.util.omit(e||n.get("attrs"),".content");h.dia.ElementView.prototype.update.call(this,n,i),e&&!h.util.has(e,".content")||this.updateContent(n,e)}},updateContent:function(t,e){var n=h.util.merge({},(e||t.get("attrs"))[".content"]);n=h.util.omit(n,"text");var i=h.util.breakText(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),r=h.util.setByPath({},".content",n,"/");r[".content"].text=i,h.dia.ElementView.prototype.update.call(this,t,r)}}),h.routers.manhattan=function(t,e,n,i){"use strict";function r(t){this.map={},this.options=t,this.mapGridSize=100}function o(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function a(e){return t.point(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function s(e,n,i,r){for(var o,s=[],l=a(r.difference(n)),c=n;o=e[c];){var u=a(c.difference(o));u.equals(l)||(s.unshift(c),l=u),c=o}return a(t.point(c).difference(i)).equals(l)||s.unshift(c),s}function l(t,e,n){var r=n.step,o=t.center(),a=i.isObject(n.directionMap)?Object.keys(n.directionMap):[],s=i.toArray(e);return a.reduce(function(e,i){if(s.includes(i)){var a=n.directionMap[i],l=a.x*t.width/2,c=a.y*t.height/2,u=o.clone().offset(l,c);t.containsPoint(u)&&u.offset(a.x*r,a.y*r),e.push(u.snapToGrid(r))}return e},[])}function c(e,n,i){var r=360/i;return Math.floor(t.normalizeAngle(e.theta(n)+r/2)/r)*r}function u(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function g(t,e){for(var n=1/0,i=0,r=e.length;i<r;i++){var o=t.manhattanDistance(e[i]);o<n&&(n=o)}return n}function h(e,n,r,a){var h,d,f,p,I=a.step;if(e instanceof t.rect?(h=l(e,a.startDirections,a),f=e.center().snapToGrid(I)):h=[f=e.clone().snapToGrid(I)],n instanceof t.rect?(d=l(n,a.endDirections,a),p=n.center().snapToGrid(I)):d=[p=n.clone().snapToGrid(I)],h=h.filter(r.isPointAccessible,r),d=d.filter(r.isPointAccessible,r),h.length>0&&d.length>0){for(var m=new o,A={},C={},v=0,y=h.length;v<y;v++){var b=h[v],w=b.toString();m.add(w,g(b,d)),C[w]=0}for(var x,N,M=a.directions,j=M.length,k=a.maximumLoops,D=i.invoke(d,"toString");!m.isEmpty()&&k>0;){var z=m.pop(),T=t.point(z),Z=C[z],G=S,S=A[z]?c(A[z],T,j):null!=a.previousDirAngle?a.previousDirAngle:c(f,T,j);if(D.indexOf(z)>=0&&(N=u(S,c(T,p,j)),T.equals(p)||N<180))return a.previousDirAngle=S,s(A,T,f,p);for(v=0;v<j;v++)if(N=u(S,(x=M[v]).angle),!(G&&N>a.maxAllowedDirectionChange)){var L=T.clone().offset(x.offsetX,x.offsetY),B=L.toString();if(!m.isClose(B)&&r.isPointAccessible(L)){var O=Z+x.cost+a.penalties[N];(!m.isOpen(B)||O<C[B])&&(A[B]=T,C[B]=O,m.add(B,O+g(L,d)))}}k--}}return a.fallbackRoute(f,p,a)}function d(e,o){(function(e){e.directions=i.result(e,"directions"),e.penalties=i.result(e,"penalties"),e.paddingBox=i.result(e,"paddingBox"),i.toArray(e.directions).forEach(function(e){var n=t.point(0,0),i=t.point(e.offsetX,e.offsetY);e.angle=t.normalizeAngle(n.theta(i))})})(o),this.options.perpendicular=!!o.perpendicular;for(var a=t.rect(this.sourceBBox).moveAndExpand(o.paddingBox),s=t.rect(this.targetBBox).moveAndExpand(o.paddingBox),l=new r(o).build(this.paper.model,this.model),c=i.toArray(e).map(t.point),u=[],g=a.center().snapToGrid(o.step),d=0,f=c.length;d<=f;d++){var p=null,I=m||a,m=c[d];if(!m)if(m=s,(!this.model.get("source").id||!this.model.get("target").id)&&i.isFunction(o.draggingRoute)){var A=I instanceof t.rect?I.center():I;p=o.draggingRoute(A,m.origin(),o)}if(null===(p=p||h(I,m,l,o))){if(!i.isFunction(n.routers.orthogonal))throw new Error("Manhattan requires the orthogonal router.");return n.routers.orthogonal(e,o,this)}var C=p[0];C&&C.equals(g)&&p.shift(),g=p[p.length-1]||g,Array.prototype.push.apply(u,p)}return u}var f={step:10,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],maximumLoops:2e3,startDirections:["left","right","top","bottom"],endDirections:["left","right","top","bottom"],directionMap:{right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0},top:{x:0,y:-1}},maxAllowedDirectionChange:90,paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},directions:function(){var t=this.step;return[{offsetX:t,offsetY:0,cost:t},{offsetX:0,offsetY:t,cost:t},{offsetX:-t,offsetY:0,cost:t},{offsetX:0,offsetY:-t,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},fallbackRoute:function(){return null},draggingRoute:null};return r.prototype.build=function(t,e){var n=this.options,r=i.toArray(n.excludeEnds).reduce(function(n,i){var r=e.get(i);if(r){var o=t.getCell(r.id);o&&n.push(o)}return n},[]),o=[],a=t.getCell(e.get("source").id);a&&(o=i.union(o,a.getAncestors().map(function(t){return t.id})));var s=t.getCell(e.get("target").id);s&&(o=i.union(o,s.getAncestors().map(function(t){return t.id})));var l=this.mapGridSize;return t.getElements().reduce(function(t,e){var a=i.toArray(n.excludeTypes).includes(e.get("type")),s=r.find(function(t){return t.id===e.id}),c=o.includes(e.id);if(!(a||s||c))for(var u=e.getBBox().moveAndExpand(n.paddingBox),g=u.origin().snapToGrid(l),h=u.corner().snapToGrid(l),d=g.x;d<=h.x;d+=l)for(var f=g.y;f<=h.y;f+=l){var p=d+"@"+f;t[p]=t[p]||[],t[p].push(u)}return t},this.map),this},r.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return i.toArray(this.map[e]).every(function(e){return!e.containsPoint(t)})},o.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var i=n.util.sortedIndex(this.items,t,function(t){return this.values[t]}.bind(this));this.items.splice(i,0,t)},o.prototype.remove=function(t){this.hash[t]=this.CLOSE},o.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},o.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},o.prototype.isEmpty=function(){return 0===this.items.length},o.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t},function(t,e,n){return d.call(n,t,i.assign({},f,e))}}(g,0,h,h.util),h.routers.metro=function(t){if(!t.isFunction(h.routers.manhattan))throw new Error("Metro requires the manhattan router.");var e={diagonalCost:null,directions:function(){var t=this.step,e=this.diagonalCost||Math.ceil(Math.sqrt(t*t<<1));return[{offsetX:t,offsetY:0,cost:t},{offsetX:t,offsetY:t,cost:e},{offsetX:0,offsetY:t,cost:t},{offsetX:-t,offsetY:t,cost:e},{offsetX:-t,offsetY:0,cost:t},{offsetX:-t,offsetY:-t,cost:e},{offsetX:0,offsetY:-t,cost:t},{offsetX:t,offsetY:-t,cost:e}]},maxAllowedDirectionChange:45,fallbackRoute:function(t,e,n){var i=t.theta(e),r={x:e.x,y:t.y},o={x:t.x,y:e.y};if(i%180>90){var a=r;r=o,o=a}var s=i%90<45?r:o,l=g.line(t,s),c=90*Math.ceil(i/90),u=g.point.fromPolar(l.squaredLength(),g.toRad(c+135),s),h=g.line(e,u),d=l.intersection(h);return d?[d.round(),e]:[e]}};return function(n,i,r){return h.routers.manhattan(n,t.assign({},e,i),r)}}(h.util),h.routers.normal=function(t,e,n){return t},h.routers.oneSide=function(t,e,n){var i,r,o,a=e.side||"bottom",s=e.padding||40,l=n.sourceBBox,c=n.targetBBox,u=l.center(),g=c.center();switch(a){case"bottom":o=1,i="y",r="height";break;case"top":o=-1,i="y",r="height";break;case"left":o=-1,i="x",r="width";break;case"right":o=1,i="x",r="width";break;default:throw new Error("Router: invalid side")}return u[i]+=o*(l[r]/2+s),g[i]+=o*(c[r]/2+s),o*(u[i]-g[i])>0?g[i]=u[i]:u[i]=g[i],[u].concat(t,g)},h.routers.orthogonal=function(t){function e(t,e){return t.x==e.x?t.y>e.y?"N":"S":t.y==e.y?t.x>e.x?"W":"E":null}function n(t,e){return t["W"==e||"E"==e?"width":"height"]}function i(t,e){return g.rect(t).moveAndExpand({x:-e,y:-e,width:2*e,height:2*e})}function r(t){return g.rect(t.x,t.y,0,0)}function o(t,e,n){var i=g.point(t.x,e.y);return n.containsPoint(i)&&(i=g.point(e.x,t.y)),i}function a(t,n,i){var r=g.point(t.x,n.y),o=g.point(n.x,t.y),a=e(t,r),s=e(t,o),l=h[i],c=a==i||a!=l&&(s==l||s!=i)?r:o;return{points:[c],direction:e(c,n)}}function s(t,n,i){var r=o(t,n,i);return{points:[r],direction:e(r,n)}}function l(i,r,a,s){var l,c={},u=[g.point(i.x,r.y),g.point(r.x,i.y)],h=u.filter(function(t){return!a.containsPoint(t)}),d=h.filter(function(t){return e(t,i)!=s});if(d.length>0)l=(l=d.filter(function(t){return e(i,t)==s}).pop())||d[0],c.points=[l],c.direction=e(l,r);else{l=t.difference(u,h)[0];var f=g.point(r).move(l,-n(a,s)/2),p=o(f,i,a);c.points=[p,f],c.direction=e(f,r)}return c}function c(t,i,r,o){var l=s(i,t,o),c=l.points[0];if(r.containsPoint(c)){var u=(l=s(t,i,r)).points[0];if(o.containsPoint(u)){var h=g.point(t).move(u,-n(r,e(t,u))/2),d=g.point(i).move(c,-n(o,e(i,c))/2),f=g.line(h,d).midpoint(),p=s(t,f,r),I=a(f,i,p.direction);l.points=[p.points[0],I.points[0]],l.direction=I.direction}}return l}function u(t,n,r,a,s){var l,c,u,h={},f=i(function(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y),r=Math.max(t.x+t.width,e.x+e.width),o=Math.max(t.y+t.height,e.y+e.height);return g.rect(n,i,r-n,o-i)}(r,a),1),p=f.center().distance(n)>f.center().distance(t),I=p?n:t,m=p?t:n;return s?(l=g.point.fromPolar(f.width+f.height,d[s],I),l=f.pointNearestToPoint(l).move(l,-1)):l=f.pointNearestToPoint(I).move(I,1),c=o(l,m,f),l.round().equals(c.round())?(c=g.point.fromPolar(f.width+f.height,g.toRad(l.theta(I))+Math.PI/2,m),u=o(l,c=f.pointNearestToPoint(c).move(m,1).round(),f),h.points=p?[c,u,l]:[l,u,c]):h.points=p?[c,l]:[l,c],h.direction=e(p?l:c,n),h}var h={N:"S",S:"N",E:"W",W:"E"},d={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};return function(n,o,h){var d=o.elementPadding||20,f=[],p=i(h.sourceBBox,d),I=i(h.targetBBox,d);(n=t.toArray(n).map(g.point)).unshift(p.center()),n.push(I.center());for(var m,A=0,C=n.length-1;A<C;A++){var v=null,y=n[A],b=n[A+1],w=!!e(y,b);if(0==A)A+1==C?p.intersect(i(I,1))?v=u(y,b,p,I):w||(v=c(y,b,p,I)):p.containsPoint(b)?v=u(y,b,p,i(r(b),d)):w||(v=s(y,b,p));else if(A+1==C){var x=w&&e(b,y)==m;I.containsPoint(y)||x?v=u(y,b,i(r(y),d),I,m):w||(v=l(y,b,I,m))}else w||(v=a(y,b,m));v?(Array.prototype.push.apply(f,v.points),m=v.direction):m=e(y,b),A+1<C&&f.push(b)}return f}}(h.util),h.connectors.normal=function(t,e,n){var i=["M",t.x,t.y];return h.util.toArray(n).forEach(function(t){i.push(t.x,t.y)}),i.push(e.x,e.y),i.join(" ")},h.connectors.rounded=function(t,e,n,i){var r,o,a,s,l,c,u=(i=i||{}).radius||10,d=["M",t.x,t.y];return h.util.toArray(n).forEach(function(i,h){l=n[h-1]||t,c=n[h+1]||e,a=s||g.point(i).distance(l)/2,s=g.point(i).distance(c)/2,r=g.point(i).move(l,-Math.min(u,a)).round(),o=g.point(i).move(c,-Math.min(u,s)).round(),d.push(r.x,r.y,"S",i.x,i.y,o.x,o.y,"L")}),d.push(e.x,e.y),d.join(" ")},h.connectors.smooth=function(t,e,n){var i;if(n.length)i=g.bezier.curveThroughPoints([t].concat(n).concat([e]));else{var r=(t.x+e.x)/2;i=["M",t.x,t.y,"C",r,t.y,r,e.y,e.x,e.y]}return i.join(" ")},h.connectors.jumpover=function(t,e,n){function i(t,n,i){var r=[].concat(t,i,n);return r.reduce(function(t,n,i){var o=r[i+1];return null!=o&&(t[i]=e.line(n,o)),t},[])}function r(t){var e=t.paper._jumpOverUpdateList;null==e&&(e=t.paper._jumpOverUpdateList=[],t.paper.on("cell:pointerup",o),t.paper.model.on("reset",function(){e=t.paper._jumpOverUpdateList=[]})),e.indexOf(t)<0&&(e.push(t),t.listenToOnce(t.model,"change:connector remove",function(){e.splice(e.indexOf(t),1)}))}function o(){for(var t=this._jumpOverUpdateList,e=0;e<t.length;e++)t[e].update()}function a(t,e){return n.toArray(e).reduce(function(e,n){var i=t.intersection(n);return i&&e.push(i),e},[])}function s(t,n){return e.line(t,n).squaredLength()}function l(t,n,i){return n.reduce(function(r,o,a){if(!0===o.skip)return r;var s=r.pop()||t,l=e.point(o).move(s.start,-i),c=e.point(o).move(s.start,+i),u=n[a+1];if(null!=u){var h=c.distance(u);h<=i&&(c=u.move(s.start,h),u.skip=!0)}else{if(l.distance(s.end)<2*i+g)return r.push(s),r}if(c.distance(s.start)<2*i+g)return r.push(s),r;var d=e.line(l,c);return d.isJump=!0,r.push(e.line(s.start,l),d,e.line(c,s.end)),r},[])}function c(t,i,r){var o=["M",t[0].start.x,t[0].start.y];return n.toArray(t).reduce(function(t,n){var o;if(n.isJump){if("arc"===r){o=n.start.difference(n.end);var a=Number(o.x<0&&o.y<0);t.push("A",i,i,0,0,a,n.end.x,n.end.y)}else if("gap"===r)t=t.concat(["M",n.end.x,n.end.y]);else if("cubic"===r){o=n.start.difference(n.end);var s=n.start.theta(n.end),l=.6*i,c=1.35*i;o.x<0&&o.y<0&&(c*=-1);var u=e.point(n.start.x+l,n.start.y+c).rotate(n.start,s),g=e.point(n.end.x-l,n.end.y+c).rotate(n.end,s);t.push("C",u.x,u.y,g.x,g.y,n.end.x,n.end.y)}}else t.push("L",n.end.x,n.end.y);return t},o).join(" ")}var u=["arc","gap","cubic"],g=1,h=["smooth"];return function(t,e,o,g){r(this);var d=g.size||5,f=g.jump&&(""+g.jump).toLowerCase(),p=g.ignoreConnectors||h;-1===u.indexOf(f)&&(f=u[0]);var I=this.paper,m=I.model.getLinks();if(1===m.length)return c(i(t,e,o),d,f);var A=this.model,C=m.indexOf(A),v=I.options.defaultConnector||{},y=m.filter(function(t,e){var i=t.get("connector")||v;return!(n.toArray(p).includes(i.name)||e>C&&"jumpover"===i.name)}),b=y.map(function(t){return I.findViewByModel(t)}),w=i(t,e,o),x=b.map(function(t){return null==t?[]:t===this?w:i(t.sourcePoint,t.targetPoint,t.route)},this);return c(w.reduce(function(t,e){var n=y.reduce(function(t,n,i){if(n!==A){var r=a(e,x[i]);t.push.apply(t,r)}return t},[]).sort(function(t,n){return s(e.start,t)-s(e.start,n)});return n.length>0?t.push.apply(t,l(e,n,d)):t.push(e),t},[]),d,f)}}(0,g,h.util),function(t,e,n,i){function r(t,e,i){var r=t.toJSON();return r.angle=e||0,n.util.defaults({},i,r)}function o(t,n,i){return t.map(function(t,e,n){var i=this.pointAt((e+.5)/n.length);return(t.dx||t.dy)&&i.offset(t.dx||0,t.dy||0),r(i.round(),0,t)},e.line(n,i))}function a(t,n,i,o){var a=n.center(),s=n.width/n.height,l=n.topMiddle(),c=e.Ellipse.fromRect(n);return t.map(function(t,e,n){var u=i+o(e,n.length),g=l.clone().rotate(a,-u).scale(s,1,a),h=t.compensateRotation?-c.tangentTheta(g):0;return(t.dx||t.dy)&&g.offset(t.dx||0,t.dy||0),t.dr&&g.move(a,t.dr),r(g.round(),h,t)})}function s(t,n){var r=n.x;i.isString(r)&&(r=parseFloat(r)/100*t.width);var o=n.y;return i.isString(o)&&(o=parseFloat(o)/100*t.height),e.point(r||0,o||0)}n.layout.Port={absolute:function(t,e,n){return t.map(s.bind(null,e))},fn:function(t,e,n){return n.fn(t,e,n)},line:function(t,e,n){return o(t,s(e,n.start||e.origin()),s(e,n.end||e.corner()))},left:function(t,e,n){return o(t,e.origin(),e.bottomLeft())},right:function(t,e,n){return o(t,e.topRight(),e.corner())},top:function(t,e,n){return o(t,e.origin(),e.topRight())},bottom:function(t,e,n){return o(t,e.bottomLeft(),e.corner())},ellipseSpread:function(t,e,n){var i=n.startAngle||0,r=n.step||360/t.length;return a(t,e,i,function(t){return t*r})},ellipse:function(t,e,n){var i=n.startAngle||0,r=n.step||20;return a(t,e,i,function(t,e){return(t+.5-e/2)*r})}}}(0,g,h,h.util),function(t,e,n,i){function r(t,e){return i.defaultsDeep({},t,e,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function o(t,e,n,o){o=i.defaults({},o,{offset:15});var s,l,c,u,g=e.center().theta(t),h=a(e),d=o.offset,f=0;g<h[1]||g>h[2]?(c=".3em",s=d,l=0,u="start"):g<h[0]?(c="0",s=0,l=-d,n?(f=-90,u="start"):u="middle"):g<h[3]?(c=".3em",s=-d,l=0,u="end"):(c=".6em",s=0,l=d,n?(f=90,u="start"):u="middle");var p=Math.round;return r({x:p(s),y:p(l),angle:f,attrs:{".":{y:c,"text-anchor":u}}})}function a(t){var e=t.center(),n=e.theta(t.origin()),i=e.theta(t.bottomLeft()),r=e.theta(t.corner());return[n,e.theta(t.topRight()),r,i]}function s(t,e,n,o){var s,l,c,u,g=e.center().theta(t),h=(o=i.defaults({},o,{offset:15})).offset,d=0,f=a(e);g<f[1]||g>f[2]?(c=".3em",s=-h,l=0,u="end"):g<f[0]?(c=".6em",s=0,l=h,n?(d=90,u="start"):u="middle"):g<f[3]?(c=".3em",s=h,l=0,u="start"):(c="0em",s=0,l=-h,n?(d=-90,u="start"):u="middle");var p=Math.round;return r({x:p(s),y:p(l),angle:d,attrs:{".":{y:c,"text-anchor":u}}})}function l(t,n,o){o=i.defaults({},o,{offset:20});var a,s=e.point(0,0),l=-t.theta(s),c=l,u=t.clone().move(s,o.offset).difference(t).round(),g=".3em";(l+90)%180==0?(a=n?"end":"middle",n||-270!==l||(g="0em")):l>-270&&l<-90?(a="start",c=l-180):a="end";var h=Math.round;return r({x:h(u.x),y:h(u.y),angle:n?c:0,attrs:{".":{y:g,"text-anchor":a}}})}n.layout.PortLabel={manual:function(t,e,n){return r(n,t)},left:function(t,e,n){return r(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},right:function(t,e,n){return r(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},top:function(t,e,n){return r(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},bottom:function(t,e,n){return r(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},outsideOriented:function(t,e,n){return o(t,e,!0,n)},outside:function(t,e,n){return o(t,e,!1,n)},insideOriented:function(t,e,n){return s(t,e,!0,n)},inside:function(t,e,n){return s(t,e,!1,n)},radial:function(t,e,n){return l(t.difference(e.center()),!1,n)},radialOriented:function(t,e,n){return l(t.difference(e.center()),!0,n)}}}(0,g,h,h.util),h.highlighters.addClass={className:h.util.addClassNamePrefix("highlighted"),highlight:function(t,e,n){var i=(n||{}).className||this.className;u(e).addClass(i)},unhighlight:function(t,e,n){var i=(n||{}).className||this.className;u(e).removeClass(i)}},h.highlighters.opacity={highlight:function(t,e){u(e).addClass(h.util.addClassNamePrefix("highlight-opacity"))},unhighlight:function(t,e){u(e).removeClass(h.util.addClassNamePrefix("highlight-opacity"))}},h.highlighters.stroke={defaultOptions:{padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},_views:{},getHighlighterId:function(t,e){return t.id+JSON.stringify(e)},removeHighlighter:function(t){this._views[t]&&(this._views[t].remove(),this._views[t]=null)},highlight:function(t,e,n){var i=this.getHighlighterId(e,n);if(!this._views[i]){var r,o=h.util.defaults(n||{},this.defaultOptions),a=u(e);try{var s=a.convertToPathData()}catch(t){r=a.bbox(!0),s=u.rectToPath(h.util.assign({},o,r))}var l=u("path").attr({d:s,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"}).attr(o.attrs),c=a.getTransformToElement(t.el),g=o.padding;if(g){r||(r=a.bbox(!0));var d=r.x+r.width/2,f=r.y+r.height/2;r=u.transformRect(r,c);var p=Math.max(r.width,1),I=Math.max(r.height,1),m=(p+g)/p,A=(I+g)/I,C=u.createSVGMatrix({a:m,b:0,c:0,d:A,e:d-m*d,f:f-A*f});c=c.multiply(C)}l.transform(c);var v=this._views[i]=new h.mvc.View({svgElement:!0,className:"highlight-stroke",el:l.node}),y=this.removeHighlighter.bind(this,i),b=t.model;v.listenTo(b,"remove",y),v.listenTo(b.graph,"reset",y),t.vel.append(l)}},unhighlight:function(t,e,n){this.removeHighlighter(this.getHighlighterId(e,n))}},h.dia.Element.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),h.shapes.erd.Entity.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),h.dia.Element.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),h.shapes.erd.Relationship.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),h.dia.Element.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),h.shapes.erd.Attribute.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),h.shapes.erd.Attribute.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),h.shapes.erd.Attribute.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),h.shapes.erd.Attribute.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),h.dia.Element.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),h.dia.Link.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}}),h.shapes.basic.Circle.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),h.dia.Element.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),h.dia.Element.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),h.dia.Link.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0}),h.dia.Element.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),h.dia.Link.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1}),h.shapes.basic.Generic.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),h.shapes.basic.Generic.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),h.shapes.basic.Generic.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),h.shapes.basic.Generic.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),h.shapes.pn.PlaceView=h.dia.ElementView.extend({},{initialize:function(){h.dia.ElementView.prototype.initialize.apply(this,arguments),this.model.on("change:tokens",function(){this.renderTokens(),this.update()},this)},render:function(){h.dia.ElementView.prototype.render.apply(this,arguments),this.renderTokens(),this.update()},renderTokens:function(){var t=this.$(".tokens").empty();t[0].className.baseVal="tokens";var e=this.model.get("tokens");if(e)switch(e){case 1:t[0].className.baseVal+=" one",t.append(u("<circle/>").node);break;case 2:t[0].className.baseVal+=" two",t.append(u("<circle/>").node,u("<circle/>").node);break;case 3:t[0].className.baseVal+=" three",t.append(u("<circle/>").node,u("<circle/>").node,u("<circle/>").node);break;default:t[0].className.baseVal+=" alot",t.append(u("<text/>").text(e+"").node)}}}),h.shapes.basic.Generic.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),h.dia.Link.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),h.shapes.basic.Generic.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){h.shapes.basic.Generic.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var i=h.util.uniq(this.get("inPorts")),r=h.util.difference(h.util.uniq(this.get("outPorts")),i),o=this.createPortItems("in",i),a=this.createPortItems("out",r);this.prop("ports/items",o.concat(a),h.util.assign({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return h.util.toArray(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var i=this.get(e);return this.set(e,Array.isArray(i)?i.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,h.util.without(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,h.util.isObject(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),h.shapes.devs.Model.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),h.shapes.devs.Model.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),h.dia.Link.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}}),h.shapes.basic.Generic.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),h.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var t=this.get("attrs"),e=0;[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}].forEach(function(n){var i=Array.isArray(n.text)?n.text:[n.text],r=20*i.length+20;t[".uml-class-"+n.type+"-text"].text=i.join("\n"),t[".uml-class-"+n.type+"-rect"].height=r,t[".uml-class-"+n.type+"-rect"].transform="translate(0,"+e+")",e+=r})}}),h.shapes.uml.ClassView=h.dia.ElementView.extend({},{initialize:function(){h.dia.ElementView.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),h.shapes.uml.Class.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),h.shapes.uml.AbstractView=h.shapes.uml.ClassView,h.shapes.uml.Class.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),h.shapes.uml.InterfaceView=h.shapes.uml.ClassView,h.dia.Link.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),h.dia.Link.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),h.dia.Link.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),h.dia.Link.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),h.dia.Link.define("uml.Association"),h.shapes.basic.Generic.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),h.shapes.basic.Generic.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),h.shapes.basic.Circle.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),h.shapes.basic.Generic.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),h.dia.Link.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}}),h.shapes.basic.Generic.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),h.shapes.logic.Gate.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),h.shapes.logic.IO.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),h.shapes.logic.IO.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),h.shapes.logic.Gate.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),h.shapes.logic.Gate.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),h.shapes.logic.Gate11.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),h.shapes.logic.Gate11.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),h.shapes.logic.Gate21.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),h.shapes.logic.Gate21.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),h.shapes.logic.Gate21.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),h.shapes.logic.Gate21.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),h.shapes.logic.Gate21.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),h.shapes.logic.Gate21.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),h.dia.Link.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")});var d=n("Cvle"),f=n("YVj4");return d=d||"undefined"!=typeof window&&window.graphlib,f=f||"undefined"!=typeof window&&window.dagre,h.layout.DirectedGraph={exportElement:function(t){return t.size()},exportLink:function(t){var e=t.get("labelSize")||{};return{minLen:t.get("minLen")||1,weight:t.get("weight")||1,labelpos:t.get("labelPosition")||"c",labeloffset:t.get("labelOffset")||0,width:e.width||0,height:e.height||0}},importElement:function(t,e,n){var i=this.getCell(e),r=n.node(e);t.setPosition?t.setPosition(i,r):i.set("position",{x:r.x-r.width/2,y:r.y-r.height/2})},importLink:function(t,e,n){var i=this.getCell(e.name),r=n.edge(e),o=r.points||[];if((t.setVertices||t.setLinkVertices)&&(h.util.isFunction(t.setVertices)?t.setVertices(i,o):i.set("vertices",o.slice(1,o.length-1))),t.setLabels&&"x"in r&&"y"in r){var a={x:r.x,y:r.y};if(h.util.isFunction(t.setLabels))t.setLabels(i,a,o);else{var s=g.Polyline(o),l=s.closestPointLength(a),c=s.pointAtLength(l),u=l/s.length();i.label(0,{position:{distance:u,offset:g.Point(a).difference(c).toJSON()}})}}},layout:function(t,e){var n;n=t instanceof h.dia.Graph?t:(new h.dia.Graph).resetCells(t,{dry:!0}),t=null,e=h.util.defaults(e||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});var i=n.toGraphLib({directed:!0,multigraph:!0,compound:!0,setNodeLabel:e.exportElement,setEdgeLabel:e.exportLink,setEdgeName:function(t){return t.id}}),r={},o=e.marginX||0,a=e.marginY||0;if(e.rankDir&&(r.rankdir=e.rankDir),e.align&&(r.align=e.align),e.nodeSep&&(r.nodesep=e.nodeSep),e.edgeSep&&(r.edgesep=e.edgeSep),e.rankSep&&(r.ranksep=e.rankSep),e.ranker&&(r.ranker=e.ranker),o&&(r.marginx=o),a&&(r.marginy=a),i.setGraph(r),f.layout(i,{debugTiming:!!e.debugTiming}),n.startBatch("layout"),n.fromGraphLib(i,{importNode:this.importElement.bind(n,e),importEdge:this.importLink.bind(n,e)}),e.resizeClusters){var s=i.nodes().filter(function(t){return i.children(t).length>0}).map(n.getCell.bind(n)).sort(function(t,e){return e.getAncestors().length-t.getAncestors().length});h.util.invoke(s,"fitEmbeds",{padding:e.clusterPadding})}n.stopBatch("layout");var l=i.graph();return g.Rect(o,a,Math.abs(l.width-2*o),Math.abs(l.height-2*a))},fromGraphLib:function(t,e){var n=(e=e||{}).importNode||h.util.noop,i=e.importEdge||h.util.noop,r=this instanceof h.dia.Graph?this:new h.dia.Graph;return t.nodes().forEach(function(i){n.call(r,i,t,r,e)}),t.edges().forEach(function(n){i.call(r,n,t,r,e)}),r},toGraphLib:function(t,e){e=e||{};for(var n=h.util.pick(e,"directed","compound","multigraph"),i=new d.Graph(n),r=e.setNodeLabel||h.util.noop,o=e.setEdgeLabel||h.util.noop,a=e.setEdgeName||h.util.noop,s=t.get("cells"),l=0,c=s.length;l<c;l++){var u=s.at(l);if(u.isLink()){var g=u.get("source"),f=u.get("target");if(!g.id||!f.id)break;i.setEdge(g.id,f.id,o(u),a(u))}else if(i.setNode(u.id,r(u)),i.isCompound()&&u.has("parent")){var p=u.get("parent");s.has(p)&&i.setParent(u.id,p)}}return i}},h.dia.Graph.prototype.toGraphLib=function(t){return h.layout.DirectedGraph.toGraphLib(this,t)},h.dia.Graph.prototype.fromGraphLib=function(t,e){return h.layout.DirectedGraph.fromGraphLib.call(this,t,e)},h.g=g,h.V=h.Vectorizer=u,h},i=[n("aGLy"),n("YTa+"),n("u0oX")],(r=function(t,e,n){return t.$=n,o(0,t,e,n)}.apply(e,i))===undefined||(t.exports=r)}});